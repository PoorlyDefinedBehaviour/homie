parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"f88W":[function(require,module,exports) {

},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"UUq2":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"pBGv"}],"6YF+":[function(require,module,exports) {
var process = require("process");
var e=require("process"),n=require("fs"),r=require("path");function t(e){console.log("[dotenv][DEBUG] ".concat(e))}var o="\n",a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,c=/\\n/g,i=/\n|\r|\r\n/;function l(e,n){var r=Boolean(n&&n.debug),l={};return e.toString().split(i).forEach(function(e,n){var i=e.match(a);if(null!=i){var s=i[1],u=i[2]||"",d=u.length-1,p='"'===u[0]&&'"'===u[d];"'"===u[0]&&"'"===u[d]||p?(u=u.substring(1,d),p&&(u=u.replace(c,o))):u=u.trim(),l[s]=u}else r&&t("did not match key and value when parsing line ".concat(n+1,": ").concat(e))}),l}function s(o){var a=r.resolve(e.cwd(),".env"),c="utf8",i=!1;o&&(null!=o.path&&(a=o.path),null!=o.encoding&&(c=o.encoding),null!=o.debug&&(i=!0));try{var s=l(n.readFileSync(a,{encoding:c}),{debug:i});return Object.keys(s).forEach(function(n){Object.prototype.hasOwnProperty.call(e.env,n)?i&&t('"'.concat(n,'" is already defined in `process.env` and will not be overwritten')):e.env[n]=s[n]}),{parsed:s}}catch(u){return{error:u}}}module.exports.config=s,module.exports.parse=l;
},{"fs":"f88W","path":"UUq2","process":"pBGv"}],"J6GP":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"bvhO":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"+00f":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"J6GP","./encode":"bvhO"}],"HuD2":[function(require,module,exports) {
function e(e,t){return{method:e,path:t,redirect:this.options.followRedirects?"follow":"manual",headers:{},setHeader(e,t){this.headers[e.toLowerCase()]=t},getHeader(e){return this.headers[e.toLowerCase()]}}}function t(){return this._finalizeRequest(),this.data&&(this.request.body=this.data),window.fetch(this.request.path,this.request).then(e=>e.text().then(t=>{const s={};for(const[r,o]of e.headers.entries())s[r.toLowerCase()]=o;return{response:e,raw:t,headers:s}}))}module.exports={buildRequest:e,finalizeRequest:t,shouldSendRaw:()=>!1,METHODS:["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","PATCH"],STATUS_CODES:{},Extension:Object,FormData:window.FormData};
},{}],"fXX7":[function(require,module,exports) {
const t="undefined"!=typeof window,e=require("querystring"),s=t?require("./browser"):require("./node");class i extends s.Extension{constructor(t,i,r={}){super(),this.options=Object.assign({version:1,qs:e,followRedirects:!0},r),this.request=s.buildRequest.call(this,t,i,r),r.headers&&this.set(r.headers),r.query&&this.query(r.query),r.data&&this.send(r.data)}query(t,e){if(this.request.query||(this.request.query={}),null!==t&&"object"==typeof t)for(const[s,i]of Object.entries(t))this.query(s,i);else this.request.query[t]=e;return this}set(t,e){if(null!==t&&"object"==typeof t)for(const s of Object.keys(t))this.set(s,t[s]);else this.request.setHeader(t,e);return this}attach(...t){const e=this.data instanceof s.FormData?this.data:this.data=new s.FormData;if("object"==typeof t[0])for(const[s,i]of Object.entries(t[0]))this.attach(s,i);else e.append(...t);return this}send(t){if(t instanceof s.FormData||s.shouldSendRaw(t))this.data=t;else if(null!==t&&"object"==typeof t){const e=this.request.getHeader("content-type");let s;e?e.includes("json")?s=JSON.stringify:e.includes("urlencoded")&&(s=this.options.qs.stringify):(this.set("Content-Type","application/json"),s=JSON.stringify),this.data=s(t)}else this.data=t;return this}then(t,e){return this._response?this._response.then(t,e):this._response=s.finalizeRequest.call(this).then(({response:t,raw:e,redirect:r,headers:n})=>{if(r){let e=this.request.method;[301,302].includes(t.statusCode)?("HEAD"!==e&&(e="GET"),this.data=null):303===t.statusCode&&(e="GET");const s=this.request.getHeaders();return delete s.host,new i(e,r,{data:this.data,headers:s,version:this.options.version})}const o=t.statusCode||t.status,a=this,u={request:this.request,get body(){delete u.body;const t=this.headers["content-type"];if(t&&t.includes("application/json"))try{u.body=JSON.parse(u.text)}catch(s){u.body=u.text}else t&&t.includes("application/x-www-form-urlencoded")?u.body=a.options.qs.parse(u.text):u.body=e;return u.body},text:e.toString(),ok:o>=200&&o<400,headers:n||t.headers,status:o,statusText:t.statusText||s.STATUS_CODES[t.statusCode]};if(u.ok)return u;{const t=new Error(`${u.status} ${u.statusText}`.trim());return Object.assign(t,u),Promise.reject(t)}}).then(t,e)}catch(t){return this.then(null,t)}end(t){return this.then(e=>t?t(null,e):e,e=>t?t(e,e.status?e:null):Promise.reject(e))}_finalizeRequest(){if(this.request&&("HEAD"!==this.request.method&&this.set("Accept-Encoding","gzip, deflate"),this.data&&this.data.getBoundary&&this.set("Content-Type",`multipart/form-data; boundary=${this.data.getBoundary()}`),this.request.query)){const[t,e]=this.request.path.split("?");this.request.path=`${t}?${this.options.qs.stringify(this.request.query)}${e?`&${e}`:""}`}}}i.METHODS=s.METHODS.concat("BREW").filter(t=>"M-SEARCH"!==t);for(const r of i.METHODS)i[r.toLowerCase()]=function(t,e){return new(this.prototype instanceof i?this:i)(r,t,e)};module.exports=i;
},{"querystring":"+00f","./browser":"HuD2","./node":"f88W"}],"/xtM":[function(require,module,exports) {
module.exports=require("./src");
},{"./src":"fXX7"}],"bXDr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.brew=exports.unsubscribe=exports.unlock=exports.unlink=exports.unbind=exports.trace=exports.subscribe=exports.search=exports.report=exports.rebind=exports.put=exports.purge=exports.proppatch=exports.propfind=exports.post=exports.patch=exports.options=exports.notify=exports.move=exports.mkcol=exports.mkcalendar=exports.mkactivity=exports.merge=exports.lock=exports.link=exports.head=exports.get=exports.delete=exports.copy=exports.connect=exports.checkout=exports.bind=exports.acl=exports.METHODS=exports.version=exports.default=void 0;var t=e(require("./index.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=t.default;exports.default=o;const s=t.default.version;exports.version=s;const r=t.default.METHODS;exports.METHODS=r;const p=t.default.acl;exports.acl=p;const c=t.default.bind;exports.bind=c;const n=t.default.checkout;exports.checkout=n;const x=t.default.connect;exports.connect=x;const u=t.default.copy;exports.copy=u;const a=t.default.delete;exports.delete=a;const l=t.default.get;exports.get=l;const d=t.default.head;exports.head=d;const f=t.default.link;exports.link=f;const i=t.default.lock;exports.lock=i;const b=t.default.merge;exports.merge=b;const k=t.default.mkactivity;exports.mkactivity=k;const h=t.default.mkcalendar;exports.mkcalendar=h;const m=t.default.mkcol;exports.mkcol=m;const v=t.default.move;exports.move=v;const y=t.default.notify;exports.notify=y;const g=t.default.options;exports.options=g;const M=t.default.patch;exports.patch=M;const O=t.default.post;exports.post=O;const _=t.default.propfind;exports.propfind=_;const w=t.default.proppatch;exports.proppatch=w;const D=t.default.purge;exports.purge=D;const E=t.default.put;exports.put=E;const H=t.default.rebind;exports.rebind=H;const S=t.default.report;exports.report=S;const T=t.default.search;exports.search=T;const j=t.default.subscribe;exports.subscribe=j;const q=t.default.trace;exports.trace=q;const P=t.default.unbind;exports.unbind=P;const z=t.default.unlink;exports.unlink=z;const A=t.default.unlock;exports.unlock=A;const B=t.default.unsubscribe;exports.unsubscribe=B;const C=t.default.brew;exports.brew=C;
},{"./index.js":"/xtM"}],"zzkE":[function(require,module,exports) {
module.exports={_from:"discord.js@^11.5.1",_id:"discord.js@11.5.1",_inBundle:!1,_integrity:"sha512-tGhV5xaZXE3Z+4uXJb3hYM6gQ1NmnSxp9PClcsSAYFVRzH6AJH74040mO3afPDMWEAlj8XsoPXXTJHTxesqcGw==",_location:"/discord.js",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"discord.js@^11.5.1",name:"discord.js",escapedName:"discord.js",rawSpec:"^11.5.1",saveSpec:null,fetchSpec:"^11.5.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/discord.js/-/discord.js-11.5.1.tgz",_shasum:"910fb9f6410328581093e044cafb661783a4d9e8",_spec:"discord.js@^11.5.1",_where:"C:\\Users\\Administrator\\dev\\typescript\\homie",author:{name:"Amish Shah",email:"amishshah.2k@gmail.com"},browser:{ws:!1,uws:!1,"@discordjs/uws":!1,erlpack:!1,"prism-media":!1,opusscript:!1,"node-opus":!1,tweetnacl:!1,sodium:!1,"src/sharding/Shard.js":!1,"src/sharding/ShardClientUtil.js":!1,"src/sharding/ShardingManager.js":!1,"src/client/voice/dispatcher/StreamDispatcher.js":!1,"src/client/voice/opus/BaseOpusEngine.js":!1,"src/client/voice/opus/NodeOpusEngine.js":!1,"src/client/voice/opus/OpusEngineList.js":!1,"src/client/voice/opus/OpusScriptEngine.js":!1,"src/client/voice/pcm/ConverterEngine.js":!1,"src/client/voice/pcm/ConverterEngineList.js":!1,"src/client/voice/pcm/FfmpegConverterEngine.js":!1,"src/client/voice/player/AudioPlayer.js":!1,"src/client/voice/receiver/VoiceReadable.js":!1,"src/client/voice/receiver/VoiceReceiver.js":!1,"src/client/voice/util/Secretbox.js":!1,"src/client/voice/util/SecretKey.js":!1,"src/client/voice/util/VolumeInterface.js":!1,"src/client/voice/ClientVoiceManager.js":!1,"src/client/voice/VoiceBroadcast.js":!1,"src/client/voice/VoiceConnection.js":!1,"src/client/voice/VoiceUDPClient.js":!1,"src/client/voice/VoiceWebSocket.js":!1},bugs:{url:"https://github.com/discordjs/discord.js/issues"},bundleDependencies:!1,dependencies:{long:"^4.0.0","prism-media":"^0.0.3",snekfetch:"^3.6.4",tweetnacl:"^1.0.0",ws:"^6.0.0"},deprecated:!1,description:"A powerful library for interacting with the Discord API",devDependencies:{"@types/node":"^9.4.6","discord.js-docgen":"github:discordjs/docgen",eslint:"^5.4.0","parallel-webpack":"^2.3.0",tslint:"^3.15.1","tslint-config-typings":"^0.2.4",typescript:"^3.0.1","uglifyjs-webpack-plugin":"^1.3.0",webpack:"^4.17.0"},engines:{node:">=6.0.0"},homepage:"https://github.com/discordjs/discord.js#readme",keywords:["discord","api","bot","client","node","discordapp"],license:"Apache-2.0",main:"./src/index",name:"discord.js",peerDependencies:{bufferutil:"^4.0.0",erlpack:"discordapp/erlpack","libsodium-wrappers":"^0.7.3","node-opus":"^0.2.7",opusscript:"^0.0.6",sodium:"^2.0.3","@discordjs/uws":"^10.149.0"},peerDependenciesMeta:{bufferutil:{optional:!0},erlpack:{optional:!0},"node-opus":{optional:!0},opusscript:{optional:!0},sodium:{optional:!0},"libsodium-wrappers":{optional:!0},uws:{optional:!0}},repository:{type:"git",url:"git+https://github.com/discordjs/discord.js.git"},runkitExampleFilename:"./docs/examples/ping.js",scripts:{docs:"docgen --source src --custom docs/index.yml --output docs/docs.json","docs:test":"docgen --source src --custom docs/index.yml",lint:"eslint src","lint:fix":"eslint --fix src","lint:typings":"tslint typings/index.d.ts typings/discord.js-test.ts",test:"npm run lint && npm run docs:test",webpack:"parallel-webpack"},types:"./typings/index.d.ts",version:"11.5.1"};
},{}],"zv8z":[function(require,module,exports) {
exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n",exports.homedir=function(){return"/"};
},{}],"TQBg":[function(require,module,exports) {
var process = require("process");
var e=require("process");exports.Package=require("../../package.json"),exports.DefaultOptions={apiRequestMethod:"sequential",shardId:0,shardCount:0,messageCacheMaxSize:200,messageCacheLifetime:0,messageSweepInterval:0,fetchAllMembers:!1,disableEveryone:!1,sync:!1,restWsBridgeTimeout:5e3,retryLimit:1/0,disabledEvents:[],restTimeOffset:500,ws:{large_threshold:250,compress:"browser"!==require("os").platform(),properties:{$os:e?e.platform:"discord.js",$browser:"discord.js",$device:"discord.js",$referrer:"",$referring_domain:""},version:6},http:{version:7,host:"https://discordapp.com",cdn:"https://cdn.discordapp.com"}},exports.WSCodes={1000:"Connection gracefully closed",4004:"Tried to identify with an invalid token",4010:"Sharding data provided was invalid",4011:"Shard would be on too many guilds if connected"},exports.Errors={NO_TOKEN:"Request to use token, but token was unavailable to the client.",NO_BOT_ACCOUNT:"Only bot accounts are able to make use of this feature.",NO_USER_ACCOUNT:"Only user accounts are able to make use of this feature.",BAD_WS_MESSAGE:"A bad message was received from the websocket; either bad compression, or not JSON.",TOOK_TOO_LONG:"Something took too long to do.",NOT_A_PERMISSION:"Invalid permission string or number.",INVALID_RATE_LIMIT_METHOD:"Unknown rate limiting method.",BAD_LOGIN:"Incorrect login details were provided.",INVALID_SHARD:"Invalid shard settings were provided.",SHARDING_REQUIRED:"This session would have handled too many guilds - Sharding is required.",INVALID_TOKEN:"An invalid token was provided."};var t=exports.Endpoints={User:function(e){e.id&&(e=e.id);var E="/users/".concat(e);return{toString:function(){return E},channels:"".concat(E,"/channels"),profile:"".concat(E,"/profile"),relationships:"".concat(E,"/relationships"),settings:"".concat(E,"/settings"),Relationship:function(e){return"".concat(E,"/relationships/").concat(e)},Guild:function(e){return{toString:function(){return"".concat(E,"/guilds/").concat(e)},settings:"".concat(E,"/guilds/").concat(e,"/settings")}},Note:function(e){return"".concat(E,"/notes/").concat(e)},Mentions:function(e,t,n,o){return"".concat(E,"/mentions?limit=").concat(e,"&roles=").concat(t,"&everyone=").concat(n).concat(o?"&guild_id=".concat(o):"")},Avatar:function(E,n){return"1"===e?n:t.CDN(E).Avatar(e,n)}}},guilds:"/guilds",Guild:function(e){e.id&&(e=e.id);var E="/guilds/".concat(e);return{toString:function(){return E},prune:"".concat(E,"/prune"),embed:"".concat(E,"/embed"),bans:"".concat(E,"/bans"),integrations:"".concat(E,"/integrations"),members:"".concat(E,"/members"),channels:"".concat(E,"/channels"),invites:"".concat(E,"/invites"),roles:"".concat(E,"/roles"),emojis:"".concat(E,"/emojis"),search:"".concat(E,"/messages/search"),vanityURL:"".concat(E,"/vanity-url"),voiceRegions:"".concat(E,"/regions"),webhooks:"".concat(E,"/webhooks"),ack:"".concat(E,"/ack"),settings:"".concat(E,"/settings"),auditLogs:"".concat(E,"/audit-logs"),Emoji:function(e){return"".concat(E,"/emojis/").concat(e)},Icon:function(E,n){return t.CDN(E).Icon(e,n)},Splash:function(E,n){return t.CDN(E).Splash(e,n)},Role:function(e){return"".concat(E,"/roles/").concat(e)},Member:function(e){e.id&&(e=e.id);var t="".concat(E,"/members/").concat(e);return{toString:function(){return t},Role:function(e){return"".concat(t,"/roles/").concat(e)},nickname:"".concat(E,"/members/@me/nick")}}}},channels:"/channels",Channel:function(e){e.id&&(e=e.id);var E="/channels/".concat(e);return{toString:function(){return E},messages:{toString:function(){return"".concat(E,"/messages")},bulkDelete:"".concat(E,"/messages/bulk-delete")},invites:"".concat(E,"/invites"),typing:"".concat(E,"/typing"),permissions:"".concat(E,"/permissions"),webhooks:"".concat(E,"/webhooks"),search:"".concat(E,"/messages/search"),pins:"".concat(E,"/pins"),Icon:function(E,n){return t.CDN(E).GDMIcon(e,n)},Pin:function(e){return"".concat(E,"/pins/").concat(e)},Recipient:function(e){return"".concat(E,"/recipients/").concat(e)},Message:function(e){e.id&&(e=e.id);var t="".concat(E,"/messages/").concat(e);return{toString:function(){return t},reactions:"".concat(t,"/reactions"),ack:"".concat(t,"/ack"),Reaction:function(e){var E="".concat(t,"/reactions/").concat(e);return{toString:function(){return E},User:function(e){return"".concat(E,"/").concat(e)}}}}}}},Message:function(e){return exports.Endpoints.Channel(e.channel).Message(e)},Member:function(e){return exports.Endpoints.Guild(e.guild).Member(e)},CDN:function(e){return{Emoji:function(t){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png";return"".concat(e,"/emojis/").concat(t,".").concat(E)},Asset:function(t){return"".concat(e,"/assets/").concat(t)},Avatar:function(t,E){return"".concat(e,"/avatars/").concat(t,"/").concat(E,".").concat(E.startsWith("a_")?"gif":"png?size=2048")},Icon:function(t,E){return"".concat(e,"/icons/").concat(t,"/").concat(E,".jpg")},AppIcon:function(t,E){return"".concat(e,"/app-icons/").concat(t,"/").concat(E,".png")},AppAsset:function(t,E){return"".concat(e,"/app-assets/").concat(t,"/").concat(E,".png")},GDMIcon:function(t,E){return"".concat(e,"/channel-icons/").concat(t,"/").concat(E,".jpg?size=2048")},Splash:function(t,E){return"".concat(e,"/splashes/").concat(t,"/").concat(E,".jpg")}}},OAUTH2:{Application:function(e){var t="/oauth2/applications/".concat(e);return{toString:function(){return t},resetSecret:"".concat(t,"/reset"),resetToken:"".concat(t,"/bot/reset")}},App:function(e){return"/oauth2/authorize?client_id=".concat(e)}},login:"/auth/login",logout:"/auth/logout",voiceRegions:"/voice/regions",gateway:{toString:function(){return"/gateway"},bot:"/gateway/bot"},Invite:function(e){return"/invite/".concat(e,"?with_counts=true")},inviteLink:function(e){return"https://discord.gg/".concat(e)},Webhook:function(e,t){return"/webhooks/".concat(e).concat(t?"/".concat(t):"")}};exports.Status={READY:0,CONNECTING:1,RECONNECTING:2,IDLE:3,NEARLY:4,DISCONNECTED:5},exports.VoiceStatus={CONNECTED:0,CONNECTING:1,AUTHENTICATING:2,RECONNECTING:3,DISCONNECTED:4},exports.ChannelTypes={TEXT:0,DM:1,VOICE:2,GROUP_DM:3,CATEGORY:4,NEWS:5,STORE:6},exports.OPCodes={DISPATCH:0,HEARTBEAT:1,IDENTIFY:2,STATUS_UPDATE:3,VOICE_STATE_UPDATE:4,VOICE_GUILD_PING:5,RESUME:6,RECONNECT:7,REQUEST_GUILD_MEMBERS:8,INVALID_SESSION:9,HELLO:10,HEARTBEAT_ACK:11},exports.VoiceOPCodes={IDENTIFY:0,SELECT_PROTOCOL:1,READY:2,HEARTBEAT:3,SESSION_DESCRIPTION:4,SPEAKING:5},exports.Events={RATE_LIMIT:"rateLimit",READY:"ready",RESUME:"resume",GUILD_CREATE:"guildCreate",GUILD_DELETE:"guildDelete",GUILD_UPDATE:"guildUpdate",GUILD_UNAVAILABLE:"guildUnavailable",GUILD_AVAILABLE:"guildAvailable",GUILD_MEMBER_ADD:"guildMemberAdd",GUILD_MEMBER_REMOVE:"guildMemberRemove",GUILD_MEMBER_UPDATE:"guildMemberUpdate",GUILD_MEMBER_AVAILABLE:"guildMemberAvailable",GUILD_MEMBER_SPEAKING:"guildMemberSpeaking",GUILD_MEMBERS_CHUNK:"guildMembersChunk",GUILD_INTEGRATIONS_UPDATE:"guildIntegrationsUpdate",GUILD_ROLE_CREATE:"roleCreate",GUILD_ROLE_DELETE:"roleDelete",GUILD_ROLE_UPDATE:"roleUpdate",GUILD_EMOJI_CREATE:"emojiCreate",GUILD_EMOJI_DELETE:"emojiDelete",GUILD_EMOJI_UPDATE:"emojiUpdate",GUILD_BAN_ADD:"guildBanAdd",GUILD_BAN_REMOVE:"guildBanRemove",CHANNEL_CREATE:"channelCreate",CHANNEL_DELETE:"channelDelete",CHANNEL_UPDATE:"channelUpdate",CHANNEL_PINS_UPDATE:"channelPinsUpdate",MESSAGE_CREATE:"message",MESSAGE_DELETE:"messageDelete",MESSAGE_UPDATE:"messageUpdate",MESSAGE_BULK_DELETE:"messageDeleteBulk",MESSAGE_REACTION_ADD:"messageReactionAdd",MESSAGE_REACTION_REMOVE:"messageReactionRemove",MESSAGE_REACTION_REMOVE_ALL:"messageReactionRemoveAll",USER_UPDATE:"userUpdate",USER_NOTE_UPDATE:"userNoteUpdate",USER_SETTINGS_UPDATE:"clientUserSettingsUpdate",USER_GUILD_SETTINGS_UPDATE:"clientUserGuildSettingsUpdate",PRESENCE_UPDATE:"presenceUpdate",VOICE_STATE_UPDATE:"voiceStateUpdate",TYPING_START:"typingStart",TYPING_STOP:"typingStop",WEBHOOKS_UPDATE:"webhookUpdate",DISCONNECT:"disconnect",RECONNECTING:"reconnecting",ERROR:"error",WARN:"warn",DEBUG:"debug"},exports.ActivityTypes=["PLAYING","STREAMING","LISTENING","WATCHING"],exports.ActivityFlags={INSTANCE:1,JOIN:2,SPECTATE:4,JOIN_REQUEST:8,SYNC:16,PLAY:32},exports.WSEvents={READY:"READY",RESUMED:"RESUMED",GUILD_SYNC:"GUILD_SYNC",GUILD_CREATE:"GUILD_CREATE",GUILD_DELETE:"GUILD_DELETE",GUILD_UPDATE:"GUILD_UPDATE",GUILD_MEMBER_ADD:"GUILD_MEMBER_ADD",GUILD_MEMBER_REMOVE:"GUILD_MEMBER_REMOVE",GUILD_MEMBER_UPDATE:"GUILD_MEMBER_UPDATE",GUILD_MEMBERS_CHUNK:"GUILD_MEMBERS_CHUNK",GUILD_INTEGRATIONS_UPDATE:"GUILD_INTEGRATIONS_UPDATE",GUILD_ROLE_CREATE:"GUILD_ROLE_CREATE",GUILD_ROLE_DELETE:"GUILD_ROLE_DELETE",GUILD_ROLE_UPDATE:"GUILD_ROLE_UPDATE",GUILD_BAN_ADD:"GUILD_BAN_ADD",GUILD_BAN_REMOVE:"GUILD_BAN_REMOVE",GUILD_EMOJIS_UPDATE:"GUILD_EMOJIS_UPDATE",CHANNEL_CREATE:"CHANNEL_CREATE",CHANNEL_DELETE:"CHANNEL_DELETE",CHANNEL_UPDATE:"CHANNEL_UPDATE",CHANNEL_PINS_UPDATE:"CHANNEL_PINS_UPDATE",MESSAGE_CREATE:"MESSAGE_CREATE",MESSAGE_DELETE:"MESSAGE_DELETE",MESSAGE_UPDATE:"MESSAGE_UPDATE",MESSAGE_DELETE_BULK:"MESSAGE_DELETE_BULK",MESSAGE_REACTION_ADD:"MESSAGE_REACTION_ADD",MESSAGE_REACTION_REMOVE:"MESSAGE_REACTION_REMOVE",MESSAGE_REACTION_REMOVE_ALL:"MESSAGE_REACTION_REMOVE_ALL",USER_UPDATE:"USER_UPDATE",USER_NOTE_UPDATE:"USER_NOTE_UPDATE",USER_SETTINGS_UPDATE:"USER_SETTINGS_UPDATE",USER_GUILD_SETTINGS_UPDATE:"USER_GUILD_SETTINGS_UPDATE",PRESENCE_UPDATE:"PRESENCE_UPDATE",VOICE_STATE_UPDATE:"VOICE_STATE_UPDATE",TYPING_START:"TYPING_START",VOICE_SERVER_UPDATE:"VOICE_SERVER_UPDATE",RELATIONSHIP_ADD:"RELATIONSHIP_ADD",RELATIONSHIP_REMOVE:"RELATIONSHIP_REMOVE",WEBHOOKS_UPDATE:"WEBHOOKS_UPDATE"},exports.MessageTypes=["DEFAULT","RECIPIENT_ADD","RECIPIENT_REMOVE","CALL","CHANNEL_NAME_CHANGE","CHANNEL_ICON_CHANGE","PINS_ADD","GUILD_MEMBER_JOIN"],exports.MessageNotificationTypes=["EVERYTHING","MENTIONS","NOTHING","INHERIT"],exports.DefaultAvatars={BLURPLE:"6debd47ed13483642cf09e832ed0bc1b",GREY:"322c936a8c8be1b803cd94861bdfa868",GREEN:"dd4dbc0016779df1378e7812eabaa04d",ORANGE:"0e291f67c9274a1abdddeb3fd919cbaa",RED:"1cbd08c76f8af6dddce02c5138971129"},exports.ExplicitContentFilterTypes=["DISABLED","NON_FRIENDS","FRIENDS_AND_NON_FRIENDS"],exports.UserSettingsMap={convert_emoticons:"convertEmoticons",default_guilds_restricted:"defaultGuildsRestricted",detect_platform_accounts:"detectPlatformAccounts",developer_mode:"developerMode",enable_tts_command:"enableTTSCommand",theme:"theme",status:"status",show_current_game:"showCurrentGame",inline_attachment_media:"inlineAttachmentMedia",inline_embed_media:"inlineEmbedMedia",locale:"locale",message_display_compact:"messageDisplayCompact",render_reactions:"renderReactions",guild_positions:"guildPositions",restricted_guilds:"restrictedGuilds",explicit_content_filter:function(e){return exports.ExplicitContentFilterTypes[e]},friend_source_flags:function(e){return{all:e.all||!1,mutualGuilds:!!e.all||(e.mutual_guilds||!1),mutualFriends:!!e.all||(e.mutualFriends||!1)}}},exports.UserGuildSettingsMap={message_notifications:function(e){return exports.MessageNotificationTypes[e]},mobile_push:"mobilePush",muted:"muted",suppress_everyone:"suppressEveryone",channel_overrides:"channelOverrides"},exports.UserChannelOverrideMap={message_notifications:function(e){return exports.MessageNotificationTypes[e]},muted:"muted"},exports.Colors={DEFAULT:0,WHITE:16777215,AQUA:1752220,GREEN:3066993,BLUE:3447003,PURPLE:10181046,LUMINOUS_VIVID_PINK:15277667,GOLD:15844367,ORANGE:15105570,RED:15158332,GREY:9807270,NAVY:3426654,DARK_AQUA:1146986,DARK_GREEN:2067276,DARK_BLUE:2123412,DARK_PURPLE:7419530,DARK_VIVID_PINK:11342935,DARK_GOLD:12745742,DARK_ORANGE:11027200,DARK_RED:10038562,DARK_GREY:9936031,DARKER_GREY:8359053,LIGHT_GREY:12370112,DARK_NAVY:2899536,BLURPLE:7506394,GREYPLE:10070709,DARK_BUT_NOT_BLACK:2895667,NOT_QUITE_BLACK:2303786},exports.APIErrors={UNKNOWN_ACCOUNT:10001,UNKNOWN_APPLICATION:10002,UNKNOWN_CHANNEL:10003,UNKNOWN_GUILD:10004,UNKNOWN_INTEGRATION:10005,UNKNOWN_INVITE:10006,UNKNOWN_MEMBER:10007,UNKNOWN_MESSAGE:10008,UNKNOWN_OVERWRITE:10009,UNKNOWN_PROVIDER:10010,UNKNOWN_ROLE:10011,UNKNOWN_TOKEN:10012,UNKNOWN_USER:10013,UNKNOWN_EMOJI:10014,UNKNOWN_WEBHOOK:10015,BOT_PROHIBITED_ENDPOINT:20001,BOT_ONLY_ENDPOINT:20002,MAXIMUM_GUILDS:30001,MAXIMUM_FRIENDS:30002,MAXIMUM_PINS:30003,MAXIMUM_ROLES:30005,MAXIMUM_REACTIONS:30010,UNAUTHORIZED:40001,MISSING_ACCESS:50001,INVALID_ACCOUNT_TYPE:50002,CANNOT_EXECUTE_ON_DM:50003,EMBED_DISABLED:50004,CANNOT_EDIT_MESSAGE_BY_OTHER:50005,CANNOT_SEND_EMPTY_MESSAGE:50006,CANNOT_MESSAGE_USER:50007,CANNOT_SEND_MESSAGES_IN_VOICE_CHANNEL:50008,CHANNEL_VERIFICATION_LEVEL_TOO_HIGH:50009,OAUTH2_APPLICATION_BOT_ABSENT:50010,MAXIMUM_OAUTH2_APPLICATIONS:50011,INVALID_OAUTH_STATE:50012,MISSING_PERMISSIONS:50013,INVALID_AUTHENTICATION_TOKEN:50014,NOTE_TOO_LONG:50015,INVALID_BULK_DELETE_QUANTITY:50016,CANNOT_PIN_MESSAGE_IN_OTHER_CHANNEL:50019,INVALID_OR_TAKEN_INVITE_CODE:50020,CANNOT_EXECUTE_ON_SYSTEM_MESSAGE:50021,BULK_DELETE_MESSAGE_TOO_OLD:50034,INVITE_ACCEPTED_TO_GUILD_NOT_CONTANING_BOT:50036,REACTION_BLOCKED:90001},exports.DefaultMessageNotifications=["ALL","MENTIONS"];
},{"../../package.json":"zzkE","os":"zv8z","process":"pBGv"}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"REa7":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"dskh":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"REa7","buffer":"dskh"}],"kFkP":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}var a=require("snekfetch"),o=require("./Constants"),i=o.DefaultOptions.http,u=function(){function r(){throw n(this,r),new Error("The ".concat(this.constructor.name," class may not be instantiated."))}return t(r,null,[{key:"splitMessage",value:function(e){var{maxLength:n=1950,char:r="\n",prepend:t="",append:a=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length<=n)return e;var o=e.split(r);if(o.some(function(e){return e.length>n}))throw new Error("Message exceeds the max length and contains no split characters.");for(var i=[""],u=0,c=0;c<o.length;c++)i[u].length+o[c].length+1>n&&(i[u]+=a,i.push(t),u++),i[u]+=(i[u].length>0&&i[u]!==t?r:"")+o[c];return i}},{key:"escapeMarkdown",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e.replace(/```/g,"```"):r?e.replace(/\\(`|\\)/g,"$1").replace(/(`|\\)/g,"\\$1"):e.replace(/\\(\*|_|`|~|\\)/g,"$1").replace(/(\*|_|`|~|\\)/g,"\\$1")}},{key:"fetchRecommendedShards",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return new Promise(function(r,t){if(!e)throw new Error("A token must be provided.");a.get("".concat(i.host,"/api/v").concat(i.version).concat(o.Endpoints.gateway.bot)).set("Authorization","Bot ".concat(e.replace(/^Bot\s*/i,""))).end(function(e,a){e&&t(e),r(a.body.shards*(1e3/n))})})}},{key:"parseEmoji",value:function(e){if(e.includes("%")&&(e=decodeURIComponent(e)),!e.includes(":"))return{animated:!1,name:e,id:null};var n=e.match(/<?(a:)?(\w{2,32}):(\d{17,19})>?/);return n?{animated:Boolean(n[1]),name:n[2],id:n[3]}:null}},{key:"arraysEqual",value:function(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(var r of e){var t=n.indexOf(r);-1!==t&&n.splice(t,1)}return 0===n.length}},{key:"cloneObject",value:function(e){return Object.assign(Object.create(e),e)}},{key:"mergeDefault",value:function(e,n){if(!n)return e;for(var r in e)!{}.hasOwnProperty.call(n,r)?n[r]=e[r]:n[r]===Object(n[r])&&(n[r]=this.mergeDefault(e[r],n[r]));return n}},{key:"convertToBuffer",value:function(n){return"string"==typeof n&&(n=this.str2ab(n)),e.from(n)}},{key:"str2ab",value:function(e){for(var n=new ArrayBuffer(2*e.length),r=new Uint16Array(n),t=0,a=e.length;t<a;t++)r[t]=e.charCodeAt(t);return n}},{key:"makeError",value:function(e){var n=new Error(e.message);return n.name=e.name,n.stack=e.stack,n}},{key:"makePlainError",value:function(e){var n={};return n.name=e.name,n.message=e.message,n.stack=e.stack,n}},{key:"moveElementInArray",value:function(e,n,r){var t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.indexOf(n);if((r=(t?a:0)+r)>-1&&r<e.length){var o=e.splice(a,1)[0];e.splice(r,0,o)}return e.indexOf(n)}},{key:"delayFor",value:function(e){return new Promise(function(n){setTimeout(n,e)})}}]),r}();module.exports=u;
},{"snekfetch":"bXDr","./Constants":"TQBg","buffer":"dskh"}],"FRpO":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,n,i){var o,s,f;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),f=s[t]),void 0===f)f=s[t]=n,++e._eventsCount;else if("function"==typeof f?f=s[t]=i?[n,f]:[f,n]:i?f.unshift(n):f.push(n),(o=u(e))>0&&f.length>o&&!f.warned){f.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=f.length,r(p)}return e}function p(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,n(this.listener,this.target,e))}function v(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):c(i,i.length)}function a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var p=f.length,v=c(f,p);for(r=0;r<p;++r)n(v[r],this,t)}return!0},o.prototype.addListener=function(e,t){return f(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return f(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,v(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,v(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():l(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):a.call(e,t)},o.prototype.listenerCount=a,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"vexR":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"tcrG":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"gfUn":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,u=o.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<u;c=o[++n])h(c)||!S(c)?s+=" "+c:s+=" "+i(c);return s},exports.deprecate=function(t,r){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return exports.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),u=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(P(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var b,h="",m=!1,x=["{","}"];(d(t)&&(m=!0,x=["[","]"]),P(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(h=" "+RegExp.prototype.toString.call(t)),z(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+f(t)),0!==i.length||m&&0!=t.length?r<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),b=m?a(e,t,r,u,i):i.map(function(n){return y(e,t,r,u,n,m)}),e.seen.pop(),g(b,h,x)):x[0]+h+x[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,r,n,o){for(var i=[],u=0,s=t.length;u<s;++u)A(t,String(u))?i.push(y(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))}),i}function y(e,t,r,n,o,i){var u,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function g(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function v(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function j(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(t){if(j(n)&&(n=""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=e.pid;o[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else o[t]=function(){};return o[t]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=b,exports.isNull=h,exports.isNullOrUndefined=m,exports.isNumber=x,exports.isString=v,exports.isSymbol=O,exports.isUndefined=j,exports.isRegExp=w,exports.isObject=S,exports.isDate=z,exports.isError=E,exports.isFunction=P,exports.isPrimitive=D,exports.isBuffer=require("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",k(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var J="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function H(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};r.apply(this,t).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(R,t,u)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(r)),Object.defineProperties(n,t(r)),n}exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(J&&e[J]){var r;if("function"!=typeof(r=e[J]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(u){r(u)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),J&&Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},exports.promisify.custom=J,exports.callbackify=H;
},{"./support/isBuffer":"vexR","inherits":"tcrG","process":"pBGv"}],"hyYc":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}var n=require("../util/Constants"),s=require("util"),o=function(){function r(i,n){t(this,r),n="object"!==e(i)||i instanceof Array?i:n,this._member="object"===e(i)?i:null,this.bitfield="number"==typeof n?n:this.constructor.resolve(n)}return i(r,[{key:"has",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e instanceof Array?e.every(function(e){return t.has(e,r)}):(e=this.constructor.resolve(e),!!(r&&(this.bitfield&this.constructor.FLAGS.ADMINISTRATOR)>0)||(this.bitfield&e)===e)}},{key:"missing",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e instanceof Array||(e=[e]),e.filter(function(e){return!t.has(e,r)})}},{key:"add",value:function(){for(var e=0,t=arguments.length-1;t>=0;t--){e|=this.constructor.resolve(t<0||arguments.length<=t?void 0:arguments[t])}return Object.isFrozen(this)?new this.constructor(this.bitfield|e):(this.bitfield|=e,this)}},{key:"remove",value:function(){for(var e=0,t=arguments.length-1;t>=0;t--){e|=this.constructor.resolve(t<0||arguments.length<=t?void 0:arguments[t])}return Object.isFrozen(this)?new this.constructor(this.bitfield&~e):(this.bitfield&=~e,this)}},{key:"serialize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};for(var r in this.constructor.FLAGS)t[r]=this.has(r,e);return t}},{key:"hasPermission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.has(e,!t)}},{key:"hasPermissions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.has(e,!t)}},{key:"missingPermissions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.missing(e,!t)}},{key:"toArray",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object.keys(this.constructor.FLAGS).filter(function(r){return e.has(r,t)})}},{key:"freeze",value:function(){return Object.freeze(this)}},{key:"valueOf",value:function(){return this.bitfield}},{key:"member",get:function(){return this._member},set:function(e){this._member=e}},{key:"raw",get:function(){return this.bitfield},set:function(e){this.bitfield=e}}],[{key:"resolve",value:function(e){var t=this;if(e instanceof Array)return e.map(function(e){return t.resolve(e)}).reduce(function(e,t){return e|t},0);if(e instanceof r)return e.bitfield;if("string"==typeof e&&(e=this.FLAGS[e]),"number"!=typeof e||e<0)throw new RangeError(n.Errors.NOT_A_PERMISSION);return e}}]),r}();o.FLAGS={CREATE_INSTANT_INVITE:1,KICK_MEMBERS:2,BAN_MEMBERS:4,ADMINISTRATOR:8,MANAGE_CHANNELS:16,MANAGE_GUILD:32,ADD_REACTIONS:64,VIEW_AUDIT_LOG:128,PRIORITY_SPEAKER:256,VIEW_CHANNEL:1024,READ_MESSAGES:1024,SEND_MESSAGES:2048,SEND_TTS_MESSAGES:4096,MANAGE_MESSAGES:8192,EMBED_LINKS:16384,ATTACH_FILES:32768,READ_MESSAGE_HISTORY:65536,MENTION_EVERYONE:1<<17,EXTERNAL_EMOJIS:1<<18,USE_EXTERNAL_EMOJIS:1<<18,CONNECT:1<<20,SPEAK:1<<21,MUTE_MEMBERS:1<<22,DEAFEN_MEMBERS:1<<23,MOVE_MEMBERS:1<<24,USE_VAD:1<<25,CHANGE_NICKNAME:1<<26,MANAGE_NICKNAMES:1<<27,MANAGE_ROLES:1<<28,MANAGE_ROLES_OR_PERMISSIONS:1<<28,MANAGE_WEBHOOKS:1<<29,MANAGE_EMOJIS:1<<30},o.ALL=Object.keys(o.FLAGS).reduce(function(e,t){return e|o.FLAGS[t]},0),o.DEFAULT=104324097,o.prototype.hasPermission=s.deprecate(o.prototype.hasPermission,"EvaluatedPermissions#hasPermission is deprecated, use Permissions#has instead"),o.prototype.hasPermissions=s.deprecate(o.prototype.hasPermissions,"EvaluatedPermissions#hasPermissions is deprecated, use Permissions#has instead"),o.prototype.missingPermissions=s.deprecate(o.prototype.missingPermissions,"EvaluatedPermissions#missingPermissions is deprecated, use Permissions#missing instead"),Object.defineProperty(o.prototype,"member",{get:s.deprecate(Object.getOwnPropertyDescriptor(o.prototype,"member").get,"EvaluatedPermissions#member is deprecated")}),module.exports=o;
},{"../util/Constants":"TQBg","util":"gfUn"}],"XU0y":[function(require,module,exports) {
var process = require("process");
var e=require("process");function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}var o=require("../../util/Constants"),i=function(){function n(){r(this,n),this.build(this.constructor.DEFAULT)}return t(n,[{key:"set",value:function(){var{url:e,version:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.build({url:e||this.constructor.DFEAULT.url,version:r||this.constructor.DEFAULT.version})}},{key:"build",value:function(r){this.userAgent="DiscordBot (".concat(r.url,", ").concat(r.version,") Node.js/").concat(e.version)}}]),n}();i.DEFAULT={url:o.Package.homepage.split("#")[0],version:o.Package.version},module.exports=i;
},{"../../util/Constants":"TQBg","process":"pBGv"}],"YvD4":[function(require,module,exports) {
module.exports=t;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(L){}function t(i,t,n){this.low=0|i,this.high=0|t,this.unsigned=!!n}function n(i){return!0===(i&&i.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0}),t.isLong=n;var h={},s={};function e(i,t){var n,e,r;return t?(r=0<=(i>>>=0)&&i<256)&&(e=s[i])?e:(n=u(i,(0|i)<0?-1:0,!0),r&&(s[i]=n),n):(r=-128<=(i|=0)&&i<128)&&(e=h[i])?e:(n=u(i,i<0?-1:0,!1),r&&(h[i]=n),n)}function r(i,t){if(isNaN(i))return t?N:m;if(t){if(i<0)return N;if(i>=c)return p}else{if(i<=-w)return _;if(i+1>=w)return q}return i<0?r(-i,t).neg():u(i%d|0,i/d|0,t)}function u(i,n,h){return new t(i,n,h)}t.fromInt=e,t.fromNumber=r,t.fromBits=u;var o=Math.pow;function g(i,t,n){if(0===i.length)throw Error("empty string");if("NaN"===i||"Infinity"===i||"+Infinity"===i||"-Infinity"===i)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var h;if((h=i.indexOf("-"))>0)throw Error("interior hyphen");if(0===h)return g(i.substring(1),t,n).neg();for(var s=r(o(n,8)),e=m,u=0;u<i.length;u+=8){var f=Math.min(8,i.length-u),l=parseInt(i.substring(u,u+f),n);if(f<8){var a=r(o(n,f));e=e.mul(a).add(r(l))}else e=(e=e.mul(s)).add(r(l))}return e.unsigned=t,e}function f(i,t){return"number"==typeof i?r(i,t):"string"==typeof i?g(i,t):u(i.low,i.high,"boolean"==typeof t?t:i.unsigned)}t.fromString=g,t.fromValue=f;var l=65536,a=1<<24,d=l*l,c=d*d,w=c/2,v=e(a),m=e(0);t.ZERO=m;var N=e(0,!0);t.UZERO=N;var E=e(1);t.ONE=E;var y=e(1,!0);t.UONE=y;var b=e(-1);t.NEG_ONE=b;var q=u(-1,2147483647,!1);t.MAX_VALUE=q;var p=u(-1,-1,!0);t.MAX_UNSIGNED_VALUE=p;var _=u(0,-2147483648,!1);t.MIN_VALUE=_;var B=t.prototype;B.toInt=function(){return this.unsigned?this.low>>>0:this.low},B.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},B.toString=function(i){if((i=i||10)<2||36<i)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=r(i),n=this.div(t),h=n.mul(t).sub(this);return n.toString(i)+h.toInt().toString(i)}return"-"+this.neg().toString(i)}for(var s=r(o(i,6),this.unsigned),e=this,u="";;){var g=e.div(s),f=(e.sub(g.mul(s)).toInt()>>>0).toString(i);if((e=g).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},B.getHighBits=function(){return this.high},B.getHighBitsUnsigned=function(){return this.high>>>0},B.getLowBits=function(){return this.low},B.getLowBitsUnsigned=function(){return this.low>>>0},B.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var i=0!=this.high?this.high:this.low,t=31;t>0&&0==(i&1<<t);t--);return 0!=this.high?t+33:t+1},B.isZero=function(){return 0===this.high&&0===this.low},B.eqz=B.isZero,B.isNegative=function(){return!this.unsigned&&this.high<0},B.isPositive=function(){return this.unsigned||this.high>=0},B.isOdd=function(){return 1==(1&this.low)},B.isEven=function(){return 0==(1&this.low)},B.equals=function(i){return n(i)||(i=f(i)),(this.unsigned===i.unsigned||this.high>>>31!=1||i.high>>>31!=1)&&(this.high===i.high&&this.low===i.low)},B.eq=B.equals,B.notEquals=function(i){return!this.eq(i)},B.neq=B.notEquals,B.ne=B.notEquals,B.lessThan=function(i){return this.comp(i)<0},B.lt=B.lessThan,B.lessThanOrEqual=function(i){return this.comp(i)<=0},B.lte=B.lessThanOrEqual,B.le=B.lessThanOrEqual,B.greaterThan=function(i){return this.comp(i)>0},B.gt=B.greaterThan,B.greaterThanOrEqual=function(i){return this.comp(i)>=0},B.gte=B.greaterThanOrEqual,B.ge=B.greaterThanOrEqual,B.compare=function(i){if(n(i)||(i=f(i)),this.eq(i))return 0;var t=this.isNegative(),h=i.isNegative();return t&&!h?-1:!t&&h?1:this.unsigned?i.high>>>0>this.high>>>0||i.high===this.high&&i.low>>>0>this.low>>>0?-1:1:this.sub(i).isNegative()?-1:1},B.comp=B.compare,B.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(E)},B.neg=B.negate,B.add=function(i){n(i)||(i=f(i));var t=this.high>>>16,h=65535&this.high,s=this.low>>>16,e=65535&this.low,r=i.high>>>16,o=65535&i.high,g=i.low>>>16,l=0,a=0,d=0,c=0;return d+=(c+=e+(65535&i.low))>>>16,a+=(d+=s+g)>>>16,l+=(a+=h+o)>>>16,l+=t+r,u((d&=65535)<<16|(c&=65535),(l&=65535)<<16|(a&=65535),this.unsigned)},B.subtract=function(i){return n(i)||(i=f(i)),this.add(i.neg())},B.sub=B.subtract,B.multiply=function(t){if(this.isZero())return m;if(n(t)||(t=f(t)),i)return u(i.mul(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(_))return t.isOdd()?_:m;if(t.eq(_))return this.isOdd()?_:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return r(this.toNumber()*t.toNumber(),this.unsigned);var h=this.high>>>16,s=65535&this.high,e=this.low>>>16,o=65535&this.low,g=t.high>>>16,l=65535&t.high,a=t.low>>>16,d=65535&t.low,c=0,w=0,N=0,E=0;return N+=(E+=o*d)>>>16,w+=(N+=e*d)>>>16,N&=65535,w+=(N+=o*a)>>>16,c+=(w+=s*d)>>>16,w&=65535,c+=(w+=e*a)>>>16,w&=65535,c+=(w+=o*l)>>>16,c+=h*d+s*a+e*l+o*g,u((N&=65535)<<16|(E&=65535),(c&=65535)<<16|(w&=65535),this.unsigned)},B.mul=B.multiply,B.divide=function(t){if(n(t)||(t=f(t)),t.isZero())throw Error("division by zero");var h,s,e;if(i)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?u((this.unsigned?i.div_u:i.div_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?N:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return N;if(t.gt(this.shru(1)))return y;e=N}else{if(this.eq(_))return t.eq(E)||t.eq(b)?_:t.eq(_)?E:(h=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?E:b:(s=this.sub(t.mul(h)),e=h.add(s.div(t)));if(t.eq(_))return this.unsigned?N:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=m}for(s=this;s.gte(t);){h=Math.max(1,Math.floor(s.toNumber()/t.toNumber()));for(var g=Math.ceil(Math.log(h)/Math.LN2),l=g<=48?1:o(2,g-48),a=r(h),d=a.mul(t);d.isNegative()||d.gt(s);)d=(a=r(h-=l,this.unsigned)).mul(t);a.isZero()&&(a=E),e=e.add(a),s=s.sub(d)}return e},B.div=B.divide,B.modulo=function(t){return n(t)||(t=f(t)),i?u((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},B.mod=B.modulo,B.rem=B.modulo,B.not=function(){return u(~this.low,~this.high,this.unsigned)},B.and=function(i){return n(i)||(i=f(i)),u(this.low&i.low,this.high&i.high,this.unsigned)},B.or=function(i){return n(i)||(i=f(i)),u(this.low|i.low,this.high|i.high,this.unsigned)},B.xor=function(i){return n(i)||(i=f(i)),u(this.low^i.low,this.high^i.high,this.unsigned)},B.shiftLeft=function(i){return n(i)&&(i=i.toInt()),0==(i&=63)?this:i<32?u(this.low<<i,this.high<<i|this.low>>>32-i,this.unsigned):u(0,this.low<<i-32,this.unsigned)},B.shl=B.shiftLeft,B.shiftRight=function(i){return n(i)&&(i=i.toInt()),0==(i&=63)?this:i<32?u(this.low>>>i|this.high<<32-i,this.high>>i,this.unsigned):u(this.high>>i-32,this.high>=0?0:-1,this.unsigned)},B.shr=B.shiftRight,B.shiftRightUnsigned=function(i){if(n(i)&&(i=i.toInt()),0===(i&=63))return this;var t=this.high;return i<32?u(this.low>>>i|t<<32-i,t>>>i,this.unsigned):u(32===i?t:t>>>i-32,0,this.unsigned)},B.shru=B.shiftRightUnsigned,B.shr_u=B.shiftRightUnsigned,B.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},B.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},B.toBytes=function(i){return i?this.toBytesLE():this.toBytesBE()},B.toBytesLE=function(){var i=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&i,i>>>8&255,i>>>16&255,i>>>24]},B.toBytesBE=function(){var i=this.high,t=this.low;return[i>>>24,i>>>16&255,i>>>8&255,255&i,t>>>24,t>>>16&255,t>>>8&255,255&t]},t.fromBytes=function(i,n,h){return h?t.fromBytesLE(i,n):t.fromBytesBE(i,n)},t.fromBytesLE=function(i,n){return new t(i[0]|i[1]<<8|i[2]<<16|i[3]<<24,i[4]|i[5]<<8|i[6]<<16|i[7]<<24,n)},t.fromBytesBE=function(i,n){return new t(i[4]<<24|i[5]<<16|i[6]<<8|i[7],i[0]<<24|i[1]<<16|i[2]<<8|i[3],n)};
},{}],"QMEy":[function(require,module,exports) {
var process = require("process");
var e=require("process");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e){return i(e)||o(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function i(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,r,t){return r&&a(e.prototype,r),t&&a(e,t),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,r,t){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,r,t){var n=y(e,r);if(n){var o=Object.getOwnPropertyDescriptor(n,r);return o.get?o.get.call(t):o.value}})(e,r,t||e)}function y(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=g(e)););return e}function h(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&w(e,r)}function p(e){var r="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||!d(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return b(e,arguments,g(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),w(t,e)})(e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function b(e,r,t){return(b=v()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(e,n));return t&&w(o,t.prototype),o}).apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function w(e,r){return(w=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=require("util"),k=function(e){function r(e){var t;return u(this,r),t=s(this,g(r).call(this,e)),Object.defineProperty(l(t),"_array",{value:null,writable:!0,configurable:!0}),Object.defineProperty(l(t),"_keyArray",{value:null,writable:!0,configurable:!0}),t}return h(r,p(Map)),f(r,[{key:"set",value:function(e,t){return this._array=null,this._keyArray=null,c(g(r.prototype),"set",this).call(this,e,t)}},{key:"delete",value:function(e){return this._array=null,this._keyArray=null,c(g(r.prototype),"delete",this).call(this,e)}},{key:"array",value:function(){return this._array&&this._array.length===this.size||(this._array=t(this.values())),this._array}},{key:"keyArray",value:function(){return this._keyArray&&this._keyArray.length===this.size||(this._keyArray=t(this.keys())),this._keyArray}},{key:"first",value:function(e){if(void 0===e)return this.values().next().value;if("number"!=typeof e)throw new TypeError("The count must be a number.");if(!Number.isInteger(e)||e<1)throw new RangeError("The count must be an integer greater than 0.");e=Math.min(this.size,e);for(var r=new Array(e),t=this.values(),n=0;n<e;n++)r[n]=t.next().value;return r}},{key:"firstKey",value:function(e){if(void 0===e)return this.keys().next().value;if("number"!=typeof e)throw new TypeError("The count must be a number.");if(!Number.isInteger(e)||e<1)throw new RangeError("The count must be an integer greater than 0.");e=Math.min(this.size,e);for(var r=new Array(e),t=this.keys(),n=0;n<e;n++)r[n]=t.next().value;return r}},{key:"last",value:function(e){var r=this.array();if(void 0===e)return r[r.length-1];if("number"!=typeof e)throw new TypeError("The count must be a number.");if(!Number.isInteger(e)||e<1)throw new RangeError("The count must be an integer greater than 0.");return r.slice(-e)}},{key:"lastKey",value:function(e){var r=this.keyArray();if(void 0===e)return r[r.length-1];if("number"!=typeof e)throw new TypeError("The count must be a number.");if(!Number.isInteger(e)||e<1)throw new RangeError("The count must be an integer greater than 0.");return r.slice(-e)}},{key:"random",value:function(e){var r=this.array();if(void 0===e)return r[Math.floor(Math.random()*r.length)];if("number"!=typeof e)throw new TypeError("The count must be a number.");if(!Number.isInteger(e)||e<1)throw new RangeError("The count must be an integer greater than 0.");if(0===r.length)return[];var t=new Array(e);r=r.slice();for(var n=0;n<e;n++)t[n]=r.splice(Math.floor(Math.random()*r.length),1)[0];return t}},{key:"randomKey",value:function(e){var r=this.keyArray();if(void 0===e)return r[Math.floor(Math.random()*r.length)];if("number"!=typeof e)throw new TypeError("The count must be a number.");if(!Number.isInteger(e)||e<1)throw new RangeError("The count must be an integer greater than 0.");if(0===r.length)return[];var t=new Array(e);r=r.slice();for(var n=0;n<e;n++)t[n]=r.splice(Math.floor(Math.random()*r.length),1)[0];return t}},{key:"findAll",value:function(e,r){if("string"!=typeof e)throw new TypeError("Key must be a string.");if(void 0===r)throw new Error("Value must be specified.");var t=[];for(var n of this.values())n[e]===r&&t.push(n);return t}},{key:"find",value:function(e,r){if("string"==typeof e){if(void 0===r)throw new Error("Value must be specified.");for(var t of this.values())if(t[e]===r)return t;return null}if("function"==typeof e){for(var[n,o]of this)if(e(o,n,this))return o;return null}throw new Error("First argument must be a property string or a function.")}},{key:"findKey",value:function(e,r){if("string"==typeof e){if(void 0===r)throw new Error("Value must be specified.");for(var[t,n]of this)if(n[e]===r)return t;return null}if("function"==typeof e){for(var[o,i]of this)if(e(i,o,this))return o;return null}throw new Error("First argument must be a property string or a function.")}},{key:"exists",value:function(e,r){return Boolean(this.find(e,r))}},{key:"sweep",value:function(e,r){r&&(e=e.bind(r));var t=this.size;for(var[n,o]of this)e(o,n,this)&&this.delete(n);return t-this.size}},{key:"filter",value:function(e,t){t&&(e=e.bind(t));var n=new r;for(var[o,i]of this)e(i,o,this)&&n.set(o,i);return n}},{key:"filterArray",value:function(e,r){r&&(e=e.bind(r));var t=[];for(var[n,o]of this)e(o,n,this)&&t.push(o);return t}},{key:"partition",value:function(e,t){void 0!==t&&(e=e.bind(t));var n=[new r,new r];for(var[o,i]of this)e(i,o,this)?n[0].set(o,i):n[1].set(o,i);return n}},{key:"map",value:function(e,r){r&&(e=e.bind(r));var t=new Array(this.size),n=0;for(var[o,i]of this)t[n++]=e(i,o,this);return t}},{key:"some",value:function(e,r){for(var[t,n]of(r&&(e=e.bind(r)),this))if(e(n,t,this))return!0;return!1}},{key:"every",value:function(e,r){for(var[t,n]of(r&&(e=e.bind(r)),this))if(!e(n,t,this))return!1;return!0}},{key:"reduce",value:function(e,r){var t;if(void 0!==r)for(var[n,o]of(t=r,this))t=e(t,o,n,this);else{var i=!0;for(var[u,a]of this)i?(t=a,i=!1):t=e(t,a,u,this)}return t}},{key:"tap",value:function(e,r){return this.forEach(e,r),this}},{key:"clone",value:function(){return new this.constructor(this)}},{key:"concat",value:function(){for(var e=this.clone(),r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];for(var o of t)for(var[i,u]of o)e.set(i,u);return e}},{key:"deleteAll",value:function(){var e=[];for(var r of this.values())r.delete&&e.push(r.delete());return e}},{key:"equals",value:function(e){return!!e&&(this===e||this.size===e.size&&!this.find(function(r,t){var n=e.get(t);return n!==r||void 0===n&&!e.has(t)}))}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,r){return+(e>r)||+(e===r)-1};return new r(t(this.entries()).sort(function(r,t){return e(r[1],t[1],r[0],t[0])}))}}]),r}();k.prototype.findAll=m.deprecate(k.prototype.findAll,"Collection#findAll: use Collection#filter instead"),k.prototype.filterArray=m.deprecate(k.prototype.filterArray,"Collection#filterArray: use Collection#filter instead"),k.prototype.exists=m.deprecate(k.prototype.exists,"Collection#exists: use Collection#some instead"),k.prototype.find=function(r,t){if("string"==typeof r){if(e.emitWarning("Collection#find: pass a function instead","DeprecationWarning"),void 0===t)throw new Error("Value must be specified.");for(var n of this.values())if(n[r]===t)return n;return null}if("function"==typeof r){for(var[o,i]of this)if(r(i,o,this))return i;return null}throw new Error("First argument must be a property string or a function.")},k.prototype.findKey=function(r,t){if("string"==typeof r){if(e.emitWarning("Collection#findKey: pass a function instead","DeprecationWarning"),void 0===t)throw new Error("Value must be specified.");for(var[n,o]of this)if(o[r]===t)return n;return null}if("function"==typeof r){for(var[i,u]of this)if(r(u,i,this))return i;return null}throw new Error("First argument must be a property string or a function.")},module.exports=k;
},{"util":"gfUn","process":"pBGv"}],"Btaz":[function(require,module,exports) {
var e=require("../../util/Permissions"),r=require("../../util/Collection");module.exports=function(i,l){var o=this;return(i instanceof r||i instanceof Array)&&(i=i.map(function(r){var i=o.client.resolver.resolveRole(l,r.id);return i?(r.id=i.id,r.type="role"):(r.id=o.client.resolver.resolveUserID(r.id),r.type="member"),{allow:e.resolve(r.allow||r.allowed||0),deny:e.resolve(r.deny||r.denied||0),type:r.type,id:r.id}})),i};
},{"../../util/Permissions":"hyYc","../../util/Collection":"QMEy"}],"GZWo":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}var i=function(){function e(n,i){t(this,e),this.file=null,i?this.setAttachment(n,i):this._attach(n)}return n(e,[{key:"setAttachment",value:function(t,e){return this.file={attachment:t,name:e},this}},{key:"setFile",value:function(t){return this.file={attachment:t},this}},{key:"setName",value:function(t){return this.file.name=t,this}},{key:"_attach",value:function(t,e){"string"==typeof t?this.file=t:this.setAttachment(t,e)}},{key:"name",get:function(){return this.file.name}},{key:"attachment",get:function(){return this.file.attachment}}]),e}();module.exports=i;
},{}],"XKET":[function(require,module,exports) {
function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var n=function(){function i(e,n){t(this,i),Object.defineProperty(this,"client",{value:e.client}),this.message=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){if(this.type=t.type,this.title=t.title,this.description=t.description,this.url=t.url,this.color=t.color,this.fields=[],t.fields)for(var i of t.fields)this.fields.push(new l(this,i));this.timestamp=t.timestamp,this.thumbnail=t.thumbnail?new u(this,t.thumbnail):null,this.image=t.image?new s(this,t.image):null,this.video=t.video?new h(this,t.video):null,this.author=t.author?new o(this,t.author):null,this.provider=t.provider?new r(this,t.provider):null,this.footer=t.footer?new c(this,t.footer):null}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}},{key:"hexColor",get:function(){if(!this.color)return null;for(var t=this.color.toString(16);t.length<6;)t="0".concat(t);return"#".concat(t)}}]),i}(),u=function(){function i(e,n){t(this,i),this.embed=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){this.url=t.url,this.proxyURL=t.proxy_url,this.height=t.height,this.width=t.width}}]),i}(),s=function(){function i(e,n){t(this,i),this.embed=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){this.url=t.url,this.proxyURL=t.proxy_url,this.height=t.height,this.width=t.width}}]),i}(),h=function(){function i(e,n){t(this,i),this.embed=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){this.url=t.url,this.height=t.height,this.width=t.width}}]),i}(),r=function(){function i(e,n){t(this,i),this.embed=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){this.name=t.name,this.url=t.url}}]),i}(),o=function(){function i(e,n){t(this,i),this.embed=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){this.name=t.name,this.url=t.url,this.iconURL=t.icon_url}}]),i}(),l=function(){function i(e,n){t(this,i),this.embed=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){this.name=t.name,this.value=t.value,this.inline=t.inline}}]),i}(),c=function(){function i(e,n){t(this,i),this.embed=e,this.setup(n)}return e(i,[{key:"setup",value:function(t){this.text=t.text,this.iconURL=t.icon_url,this.proxyIconUrl=t.proxy_icon_url}}]),i}();n.Thumbnail=u,n.Image=s,n.Video=h,n.Provider=r,n.Author=o,n.Field=l,n.Footer=c,module.exports=n;
},{}],"Sz1E":[function(require,module,exports) {
function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}var s=require("../util/Collection"),i=function(){function n(t,i,r,l){if(e(this,n),this.everyone=Boolean(l),i)if(i instanceof s)this.users=new s(i);else for(var h of(this.users=new s,i)){var o=t.client.users.get(h.id);o||(o=t.client.dataManager.newUser(h)),this.users.set(o.id,o)}else this.users=new s;if(r)if(r instanceof s)this.roles=new s(r);else for(var a of(this.roles=new s,r)){var c=t.channel.guild.roles.get(a);c&&this.roles.set(c.id,c)}else this.roles=new s;this._content=t.content,this._client=t.client,this._guild=t.channel.guild,this._members=null,this._channels=null}return t(n,[{key:"members",get:function(){var e=this;return this._members?this._members:this._guild?(this._members=new s,this.users.forEach(function(n){var t=e._guild.member(n);t&&e._members.set(t.user.id,t)}),this._members):null}},{key:"channels",get:function(){if(this._channels)return this._channels;var e;for(this._channels=new s;null!==(e=this.constructor.CHANNELS_PATTERN.exec(this._content));){var n=this._client.channels.get(e[1]);n&&this._channels.set(n.id,n)}return this._channels}}]),n}();i.EVERYONE_PATTERN=/@(everyone|here)/g,i.USERS_PATTERN=/<@!?[0-9]+>/g,i.ROLES_PATTERN=/<@&[0-9]+>/g,i.CHANNELS_PATTERN=/<#([0-9]+)>/g,module.exports=i;
},{"../util/Collection":"QMEy"}],"wqBE":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}var n=function(){function t(i,n){e(this,t),Object.defineProperty(this,"client",{value:i.client}),this.message=i,this.setup(n)}return i(t,[{key:"setup",value:function(e){this.id=e.id,this.filename=e.filename,this.filesize=e.size,this.url=e.url,this.proxyURL=e.proxy_url,this.height=e.height,this.width=e.width}}]),t}();module.exports=n;
},{}],"Jr6I":[function(require,module,exports) {
function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}var o=require("long"),i=14200704e5,a=0,u=function(){function e(){throw n(this,e),new Error("The ".concat(this.constructor.name," class may not be instantiated."))}return r(e,null,[{key:"generate",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();if(n instanceof Date&&(n=n.getTime()),"number"!=typeof n||isNaN(n))throw new TypeError('"timestamp" argument must be a number (received '.concat(isNaN(n)?"NaN":t(n),")"));a>=4095&&(a=0);var e="".concat(c((n-i).toString(2),42),"0000100000").concat(c((a++).toString(2),12));return o.fromString(e,2).toString()}},{key:"deconstruct",value:function(t){var n=c(o.fromString(t).toString(2),64),e={timestamp:parseInt(n.substring(0,42),2)+i,workerID:parseInt(n.substring(42,47),2),processID:parseInt(n.substring(47,52),2),increment:parseInt(n.substring(52,64),2),binary:n};return Object.defineProperty(e,"date",{get:function(){return new Date(this.timestamp)},enumerable:!0}),e}}]),e}();function c(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return String(t).length>=n?String(t):(String(e).repeat(n)+t).slice(-n)}module.exports=u;
},{"long":"YvD4"}],"oytn":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}var n=require("../util/Constants"),s=require("../util/Collection"),r=require("../util/Permissions"),o=require("../util/Snowflake"),a=function(){function t(i,n){e(this,t),Object.defineProperty(this,"client",{value:i.client}),this.guild=i,this.deleted=!1,this.setup(n)}return i(t,[{key:"setup",value:function(e){this.id=e.id,this.name=e.name,this.requiresColons=e.require_colons,this.managed=e.managed,this.animated=e.animated,this._roles=e.roles}},{key:"edit",value:function(e,t){return this.client.rest.methods.updateEmoji(this,e,t)}},{key:"setName",value:function(e,t){return this.edit({name:e},t)}},{key:"fetchAuthor",value:function(){var e=this;return this.managed?Promise.reject(new Error("Emoji is managed and has no Author.")):this.guild.me.permissions.has(r.FLAGS.MANAGE_EMOJIS)?this.client.rest.makeRequest("get",n.Endpoints.Guild(this.guild).Emoji(this.id),!0).then(function(t){return e.client.dataManager.newUser(t.user)}):Promise.reject(new Error("Client must have Manage Emoji permission in guild ".concat(this.guild," to see emoji authors.")))}},{key:"addRestrictedRole",value:function(e){return this.addRestrictedRoles([e])}},{key:"addRestrictedRoles",value:function(e){var t=new s(this.roles);for(var i of e)this.guild.roles.has(i.id)&&t.set(i.id,i);return this.edit({roles:t})}},{key:"removeRestrictedRole",value:function(e){return this.removeRestrictedRoles([e])}},{key:"removeRestrictedRoles",value:function(e){var t=new s(this.roles);for(var i of e)t.has(i.id)&&t.delete(i.id);return this.edit({roles:t})}},{key:"toString",value:function(){return this.id&&this.requiresColons?"<".concat(this.animated?"a":"",":").concat(this.name,":").concat(this.id,">"):this.name}},{key:"equals",value:function(e){return e instanceof t?e.id===this.id&&e.name===this.name&&e.managed===this.managed&&e.requiresColons===this.requiresColons:e.id===this.id&&e.name===this.name}},{key:"createdTimestamp",get:function(){return o.deconstruct(this.id).timestamp}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}},{key:"deletable",get:function(){return!this.managed&&this.guild.me.hasPermission(r.FLAGS.MANAGE_EMOJIS)}},{key:"roles",get:function(){var e=new s;for(var t of this._roles)this.guild.roles.has(t)&&e.set(t,this.guild.roles.get(t));return e}},{key:"url",get:function(){return n.Endpoints.CDN(this.client.options.http.cdn).Emoji(this.id,this.animated?"gif":"png")}},{key:"identifier",get:function(){return this.id?"".concat(this.name,":").concat(this.id):encodeURIComponent(this.name)}}]),t}();module.exports=a;
},{"../util/Constants":"TQBg","../util/Collection":"QMEy","../util/Permissions":"hyYc","../util/Snowflake":"Jr6I"}],"R8pk":[function(require,module,exports) {
function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function e(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}var i=function(){function t(e,i,o){n(this,t),this.reaction=e,this.name=i,this.id=o}return e(t,[{key:"toString",value:function(){return this.id?"<:".concat(this.name,":").concat(this.id,">"):this.name}},{key:"identifier",get:function(){return this.id?"".concat(this.name,":").concat(this.id):encodeURIComponent(this.name)}}]),t}();module.exports=i;
},{}],"N8aJ":[function(require,module,exports) {
function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var r=require("../util/Collection"),s=require("./Emoji"),n=require("./ReactionEmoji"),o=function(){function i(t,s,o,a){e(this,i),this.message=t,this.me=a,this.count=o||0,this.users=new r,this._emoji=new n(this,s.name,s.id)}return t(i,[{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.message.client.user,i=this.message,t=this.message.client.resolver.resolveUserID(e);return t?i.client.rest.methods.removeMessageReaction(i,this.emoji.identifier,t):Promise.reject(new Error("Couldn't resolve the user ID to remove from the reaction."))}},{key:"fetchUsers",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,{after:t,before:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.message;return n.client.rest.methods.getMessageReactionUsers(n,this.emoji.identifier,{after:t,before:s,limit:i}).then(function(i){var t=new r;for(var s of i){var n=e.message.client.dataManager.newUser(s);e.users.set(n.id,n),t.set(n.id,n)}return t})}},{key:"emoji",get:function(){if(this._emoji instanceof s)return this._emoji;if(this._emoji.id){var e=this.message.client.emojis;if(e.has(this._emoji.id)){var i=e.get(this._emoji.id);return this._emoji=i,i}}return this._emoji}}]),i}();module.exports=o;
},{"../util/Collection":"QMEy","./Emoji":"oytn","./ReactionEmoji":"R8pk"}],"uM/T":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function i(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?c(t):n}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("../../util/Collection"),s=require("events").EventEmitter,a=function(e){function n(e,o){var u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(this,n),u=i(this,r(n).call(this)),Object.defineProperty(c(u),"client",{value:e}),u.filter=o,u.options=l,u.collected=new f,u.ended=!1,u._timeout=null,u.listener=u._handle.bind(c(u)),l.time&&(u._timeout=u.client.setTimeout(function(){return u.stop("time")},l.time)),u}return u(n,s),o(n,[{key:"_handle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=this.handle.apply(this,t);if(o&&this.filter.apply(this,t.concat([this.collected]))){this.collected.set(o.key,o.value),this.emit("collect",o.value,this);var i=this.postCheck.apply(this,t);i&&this.stop(i)}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";this.ended||(this._timeout&&this.client.clearTimeout(this._timeout),this.ended=!0,this.cleanup(),this.emit("end",this.collected,e))}},{key:"handle",value:function(){}},{key:"postCheck",value:function(){}},{key:"cleanup",value:function(){}},{key:"next",get:function(){var e=this;return new Promise(function(t,n){if(e.ended)n(e.collected);else{var o=function(){e.removeListener("collect",i),e.removeListener("end",r)},i=function(e){o(),t(e)},r=function(){o(),n(e.collected)};e.on("collect",i),e.on("end",r)}})}}]),n}();module.exports=a;
},{"../../util/Collection":"QMEy","events":"FRpO"}],"BiVw":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function i(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?r(t):n}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=require("./interfaces/Collector"),a=require("../util/Collection"),f=function(e){function n(e,o){var r,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(this,n),(r=i(this,s(n).call(this,e.client,o,u))).message=e,r.users=new a,r.total=0,r.client.setMaxListeners(r.client.getMaxListeners()+1),r.client.on("messageReactionAdd",r.listener),r}return u(n,l),o(n,[{key:"handle",value:function(e){return e.message.id!==this.message.id?null:{key:e.emoji.id||e.emoji.name,value:e}}},{key:"postCheck",value:function(e,t){return this.users.set(t.id,t),this.options.max&&++this.total>=this.options.max?"limit":this.options.maxEmojis&&this.collected.size>=this.options.maxEmojis?"emojiLimit":this.options.maxUsers&&this.users.size>=this.options.maxUsers?"userLimit":null}},{key:"cleanup",value:function(){this.client.removeListener("messageReactionAdd",this.listener),this.client.setMaxListeners(this.client.getMaxListeners()-1)}}]),n}();module.exports=f;
},{"./interfaces/Collector":"uM/T","../util/Collection":"QMEy"}],"aSv9":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}var n=require("../util/Snowflake"),s=require("../util/Permissions"),o=require("util"),r=function(){function t(i,n){e(this,t),Object.defineProperty(this,"client",{value:i.client}),this.guild=i,this.deleted=!1,n&&this.setup(n)}return i(t,[{key:"setup",value:function(e){this.id=e.id,this.name=e.name,this.color=e.color,this.hoist=e.hoist,this.position=e.position,this.permissions=e.permissions,this.managed=e.managed,this.mentionable=e.mentionable}},{key:"serialize",value:function(){return new s(this.permissions).serialize()}},{key:"hasPermission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;return new s(this.permissions).has(e,void 0!==i?i:!t)}},{key:"hasPermissions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new s(this.permissions).has(e,!t)}},{key:"comparePositionTo",value:function(e){return this.constructor.comparePositions(this,e)}},{key:"edit",value:function(e,t){return this.client.rest.methods.updateGuildRole(this,e,t)}},{key:"setName",value:function(e,t){return this.edit({name:e},t)}},{key:"setColor",value:function(e,t){return this.edit({color:e},t)}},{key:"setHoist",value:function(e,t){return this.edit({hoist:e},t)}},{key:"setPosition",value:function(e,t){var i=this;return this.guild.setRolePosition(this,e,t).then(function(){return i})}},{key:"setPermissions",value:function(e,t){return this.edit({permissions:e},t)}},{key:"setMentionable",value:function(e,t){return this.edit({mentionable:e},t)}},{key:"delete",value:function(e){return this.client.rest.methods.deleteGuildRole(this,e)}},{key:"equals",value:function(e){return e&&this.id===e.id&&this.name===e.name&&this.color===e.color&&this.hoist===e.hoist&&this.position===e.position&&this.permissions===e.permissions&&this.managed===e.managed}},{key:"toString",value:function(){return this.id===this.guild.id?"@everyone":"<@&".concat(this.id,">")}},{key:"createdTimestamp",get:function(){return n.deconstruct(this.id).timestamp}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}},{key:"hexColor",get:function(){for(var e=this.color.toString(16);e.length<6;)e="0".concat(e);return"#".concat(e)}},{key:"members",get:function(){var e=this;return this.guild.members.filter(function(t){return t.roles.has(e.id)})}},{key:"editable",get:function(){if(this.managed)return!1;var e=this.guild.member(this.client.user);return!!e.permissions.has(s.FLAGS.MANAGE_ROLES_OR_PERMISSIONS)&&e.highestRole.comparePositionTo(this)>0}},{key:"calculatedPosition",get:function(){var e=this.guild._sortedRoles;return e.array().indexOf(e.get(this.id))}}],[{key:"comparePositions",value:function(e,t){return e.position===t.position?t.id-e.id:e.position-t.position}}]),t}();r.prototype.hasPermissions=o.deprecate(r.prototype.hasPermissions,"Role#hasPermissions is deprecated - use Role#hasPermission instead, it now takes an array"),module.exports=r;
},{"../util/Snowflake":"Jr6I","../util/Permissions":"hyYc","util":"gfUn"}],"ygDe":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}var{ActivityFlags:i,Endpoints:n}=require("../util/Constants"),a=function(){function e(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;t(this,e),Object.defineProperty(this,"client",{value:i}),this.status=s.status||"offline",this.game=s.game?new l(s.game,this):null,this.clientStatus=s.client_status||null}return s(e,[{key:"update",value:function(t){this.status=t.status||this.status,this.game=t.game?new l(t.game,this):null,this.clientStatus=t.client_status||null}},{key:"equals",value:function(t){return this===t||t&&this.status===t.status&&(this.game?this.game.equals(t.game):!t.game)&&this.clientStatus.web===t.clientStatus.web&&this.clientStatus.mobile===t.clientStatus.mobile&&this.clientStatus.desktop===t.clientStatus.desktop}}]),e}(),l=function(){function e(s,i){t(this,e),Object.defineProperty(this,"presence",{value:i}),this.name=s.name,this.type=s.type,this.url=s.url||null,this.details=s.details||null,this.state=s.state||null,this.applicationID=s.application_id||null,this.timestamps=s.timestamps?{start:s.timestamps.start?new Date(Number(s.timestamps.start)):null,end:s.timestamps.end?new Date(Number(s.timestamps.end)):null}:null,this.party=s.party||null,this.assets=s.assets?new u(this,s.assets):null,this.syncID=s.sync_id,this._flags=s.flags}return s(e,[{key:"toString",value:function(){return this.name}},{key:"equals",value:function(t){return this===t||t&&this.name===t.name&&this.type===t.type&&this.url===t.url}},{key:"flags",get:function(){var t=[];for(var[e,s]of Object.entries(i))(this._flags&s)===s&&t.push(e);return t}},{key:"streaming",get:function(){return 1===this.type}}]),e}(),u=function(){function e(s,i){t(this,e),Object.defineProperty(this,"game",{value:s}),this.largeText=i.large_text||null,this.smallText=i.small_text||null,this.largeImage=i.large_image||null,this.smallImage=i.small_image||null}return s(e,[{key:"smallImageURL",get:function(){return this.smallImage?n.CDN(this.game.presence.client.options.http.cdn).AppAsset(this.game.applicationID,this.smallImage):null}},{key:"largeImageURL",get:function(){return this.largeImage?/^spotify:/.test(this.largeImage)?"https://i.scdn.co/image/".concat(this.largeImage.slice(8)):n.CDN(this.game.presence.client.options.http.cdn).AppAsset(this.game.applicationID,this.largeImage):null}}]),e}();exports.Presence=a,exports.Game=l,exports.RichPresenceAssets=u;
},{"../util/Constants":"TQBg"}],"l1E5":[function(require,module,exports) {
function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}var s=require("./interfaces/TextBasedChannel"),n=require("./Role"),r=require("../util/Permissions"),o=require("../util/Collection"),{Presence:u}=require("./Presence"),l=require("util"),a=function(){function i(t,s){e(this,i),Object.defineProperty(this,"client",{value:t.client}),this.guild=t,this.user={},this.joinedTimestamp=null,this._roles=[],s&&this.setup(s),this.lastMessageID=null,this.lastMessage=null,this.deleted=!1}return t(i,[{key:"setup",value:function(e){this.serverDeaf=e.deaf,this.serverMute=e.mute,this.selfMute=e.self_mute,this.selfDeaf=e.self_deaf,this.voiceSessionID=e.session_id,this.voiceChannelID=e.channel_id,this.speaking=!1,this.nickname=e.nick||null,e.joined_at&&(this.joinedTimestamp=new Date(e.joined_at).getTime()),this.user=e.user,this._roles=e.roles}},{key:"permissionsIn",value:function(e){if(!(e=this.client.resolver.resolveChannel(e))||!e.guild)throw new Error("Could not resolve channel to a guild channel.");return e.permissionsFor(this)}},{key:"hasPermission",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return void 0===t&&(t=!i),void 0===s&&(s=!i),!(!s||this.user.id!==this.guild.ownerID)||this.roles.some(function(i){return i.hasPermission(e,void 0,t)})}},{key:"hasPermissions",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!i&&this.user.id===this.guild.ownerID||this.hasPermission(e,i)}},{key:"missingPermissions",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e instanceof Array||(e=[e]),this.permissions.missing(e,i)}},{key:"edit",value:function(e,i){return this.client.rest.methods.updateGuildMember(this,e,i)}},{key:"setMute",value:function(e,i){return this.edit({mute:e},i)}},{key:"setDeaf",value:function(e,i){return this.edit({deaf:e},i)}},{key:"setVoiceChannel",value:function(e){return this.edit({channel:e})}},{key:"setRoles",value:function(e,i){return this.edit({roles:e},i)}},{key:"addRole",value:function(e,i){return e instanceof n||(e=this.guild.roles.get(e)),e?this.client.rest.methods.addMemberRole(this,e,i):Promise.reject(new TypeError("Supplied parameter was neither a Role nor a Snowflake."))}},{key:"addRoles",value:function(e,i){var t;if(e instanceof o)for(var s of(t=this._roles.slice(),e.values()))t.push(s.id);else t=this._roles.concat(e);return this.edit({roles:t},i)}},{key:"removeRole",value:function(e,i){return e instanceof n||(e=this.guild.roles.get(e)),e?this.client.rest.methods.removeMemberRole(this,e,i):Promise.reject(new TypeError("Supplied parameter was neither a Role nor a Snowflake."))}},{key:"removeRoles",value:function(e,i){var t=this._roles.slice();if(e instanceof o)for(var s of e.values()){var r=t.indexOf(s.id);r>=0&&t.splice(r,1)}else for(var u of e){var l=t.indexOf(u instanceof n?u.id:u);l>=0&&t.splice(l,1)}return this.edit({roles:t},i)}},{key:"setNickname",value:function(e,i){return this.edit({nick:e},i)}},{key:"createDM",value:function(){return this.user.createDM()}},{key:"deleteDM",value:function(){return this.user.deleteDM()}},{key:"kick",value:function(e){return this.client.rest.methods.kickGuildMember(this.guild,this,e)}},{key:"ban",value:function(e){return this.guild.ban(this,e)}},{key:"toString",value:function(){return"<@".concat(this.nickname?"!":"").concat(this.user.id,">")}},{key:"send",value:function(){}},{key:"sendMessage",value:function(){}},{key:"sendEmbed",value:function(){}},{key:"sendFile",value:function(){}},{key:"sendCode",value:function(){}},{key:"joinedAt",get:function(){return this.joinedTimestamp?new Date(this.joinedTimestamp):null}},{key:"presence",get:function(){return this.frozenPresence||this.guild.presences.get(this.id)||new u(void 0,this.client)}},{key:"roles",get:function(){var e=new o,i=this.guild.roles.get(this.guild.id);for(var t of(i&&e.set(i.id,i),this._roles)){var s=this.guild.roles.get(t);s&&e.set(s.id,s)}return e}},{key:"highestRole",get:function(){return this.roles.reduce(function(e,i){return!e||i.comparePositionTo(e)>0?i:e})}},{key:"colorRole",get:function(){var e=this.roles.filter(function(e){return e.color});return e.size?e.reduce(function(e,i){return!e||i.comparePositionTo(e)>0?i:e}):null}},{key:"displayColor",get:function(){var e=this.colorRole;return e&&e.color||0}},{key:"displayHexColor",get:function(){var e=this.colorRole;return e&&e.hexColor||"#000000"}},{key:"hoistRole",get:function(){var e=this.roles.filter(function(e){return e.hoist});return e.size?e.reduce(function(e,i){return!e||i.comparePositionTo(e)>0?i:e}):null}},{key:"mute",get:function(){return this.selfMute||this.serverMute}},{key:"deaf",get:function(){return this.selfDeaf||this.serverDeaf}},{key:"voiceChannel",get:function(){return this.guild.channels.get(this.voiceChannelID)}},{key:"id",get:function(){return this.user.id}},{key:"displayName",get:function(){return this.nickname||this.user.username}},{key:"permissions",get:function(){if(this.user.id===this.guild.ownerID)return new r(this,r.ALL);var e=0,i=this.roles;for(var t of i.values())e|=t.permissions;return new r(this,e)}},{key:"manageable",get:function(){return this.user.id!==this.guild.ownerID&&(this.user.id!==this.client.user.id&&this.guild.me.highestRole.comparePositionTo(this.highestRole)>0)}},{key:"kickable",get:function(){return this.manageable&&this.guild.me.permissions.has(r.FLAGS.KICK_MEMBERS)}},{key:"bannable",get:function(){return this.manageable&&this.guild.me.permissions.has(r.FLAGS.BAN_MEMBERS)}}]),i}();s.applyToClass(a),a.prototype.hasPermissions=l.deprecate(a.prototype.hasPermissions,"GuildMember#hasPermissions is deprecated - use GuildMember#hasPermission, it now takes an array"),a.prototype.missingPermissions=l.deprecate(a.prototype.missingPermissions,"GuildMember#missingPermissions is deprecated - use GuildMember#permissions.missing, it now takes an array"),module.exports=a;
},{"./interfaces/TextBasedChannel":"yhxh","./Role":"aSv9","../util/Permissions":"hyYc","../util/Collection":"QMEy","./Presence":"ygDe","util":"gfUn"}],"Djan":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var s,r=require("./MessageMentions"),o=require("./MessageAttachment"),a=require("./MessageEmbed"),c=require("./RichEmbed"),h=require("./MessageReaction"),u=require("./ReactionCollector"),l=require("../util/Util"),m=require("../util/Collection"),d=require("../util/Constants"),f=require("../util/Permissions"),y=function(){function n(e,i,s){t(this,n),Object.defineProperty(this,"client",{value:s}),this.channel=e,this.deleted=!1,i&&this.setup(i)}return i(n,[{key:"setup",value:function(e){var t=this;for(var n of(this.id=e.id,this.type=d.MessageTypes[e.type],this.content=e.content,this.author=this.client.dataManager.newUser(e.author,!e.webhook_id),this.member=this.guild&&this.guild.member(this.author)||null,this.pinned=e.pinned,this.tts=e.tts,this.nonce=e.nonce,this.system=6===e.type,this.embeds=e.embeds.map(function(e){return new a(t,e)}),this.attachments=new m,e.attachments))this.attachments.set(n.id,new o(this,n));if(this.createdTimestamp=new Date(e.timestamp).getTime(),this.editedTimestamp=e.edited_timestamp?new Date(e.edited_timestamp).getTime():null,this.reactions=new m,e.reactions&&e.reactions.length>0)for(var i of e.reactions){var s=i.emoji.id?"".concat(i.emoji.name,":").concat(i.emoji.id):i.emoji.name;this.reactions.set(s,new h(this,i.emoji,i.count,i.me))}this.mentions=new r(this,e.mentions,e.mention_roles,e.mention_everyone),this.webhookID=e.webhook_id||null,this.hit="boolean"==typeof e.hit?e.hit:null,this._edits=[]}},{key:"patch",value:function(e){var t=this,n=l.cloneObject(this);if(this._edits.unshift(n),"edited_timestamp"in e&&(this.editedTimestamp=new Date(e.edited_timestamp).getTime()),"content"in e&&(this.content=e.content),"pinned"in e&&(this.pinned=e.pinned),"tts"in e&&(this.tts=e.tts),this.embeds="embeds"in e?e.embeds.map(function(e){return new a(t,e)}):this.embeds.slice(),"attachments"in e)for(var i of(this.attachments=new m,e.attachments))this.attachments.set(i.id,new o(this,i));else this.attachments=new m(this.attachments);this.mentions=new r(this,"mentions"in e?e.mentions:this.mentions.users,"mentions_roles"in e?e.mentions_roles:this.mentions.roles,"mention_everyone"in e?e.mention_everyone:this.mentions.everyone)}},{key:"createReactionCollector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new u(this,e,t)}},{key:"awaitReactions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i,s){t.createReactionCollector(e,n).once("end",function(e,t){n.errors&&n.errors.includes(t)?s(e):i(e)})})}},{key:"isMentioned",value:function(e){return e=e&&e.id?e.id:e,this.mentions.users.has(e)||this.mentions.channels.has(e)||this.mentions.roles.has(e)}},{key:"isMemberMentioned",value:function(e){var t=this;return s||(s=require("./GuildMember")),!!this.mentions.everyone||(!!this.mentions.users.has(e.id)||!!(e instanceof s&&e.roles.some(function(e){return t.mentions.roles.has(e.id)})))}},{key:"edit",value:function(t,n){return n||"object"!==e(t)||t instanceof Array?n||(n={}):(n=t,t=""),n instanceof c&&(n={embed:n}),this.client.rest.methods.updateMessage(this,t,n)}},{key:"editCode",value:function(e,t){return t=l.escapeMarkdown(this.client.resolver.resolveString(t),!0),this.edit("```".concat(e||"","\n").concat(t,"\n```"))}},{key:"pin",value:function(){return this.client.rest.methods.pinMessage(this)}},{key:"unpin",value:function(){return this.client.rest.methods.unpinMessage(this)}},{key:"react",value:function(e){if(!(e=this.client.resolver.resolveEmojiIdentifier(e)))throw new TypeError("Emoji must be a string or Emoji/ReactionEmoji");return this.client.rest.methods.addMessageReaction(this,e)}},{key:"clearReactions",value:function(){return this.client.rest.methods.removeMessageReactions(this)}},{key:"delete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<=0?this.client.rest.methods.deleteMessage(this):new Promise(function(n){e.client.setTimeout(function(){n(e.delete())},t)})}},{key:"reply",value:function(t,n){return n||"object"!==e(t)||t instanceof Array?n||(n={}):(n=t,t=""),this.channel.send(t,Object.assign(n,{reply:this.member||this.author}))}},{key:"acknowledge",value:function(){return this.client.rest.methods.ackMessage(this)}},{key:"fetchWebhook",value:function(){return this.webhookID?this.client.fetchWebhook(this.webhookID):Promise.reject(new Error("The message was not sent by a webhook."))}},{key:"equals",value:function(e,t){if(!e)return!1;if(!e.author&&!e.attachments)return this.id===e.id&&this.embeds.length===e.embeds.length;var n=this.id===e.id&&this.author.id===e.author.id&&this.content===e.content&&this.tts===e.tts&&this.nonce===e.nonce&&this.embeds.length===e.embeds.length&&this.attachments.length===e.attachments.length;return n&&t&&(n=this.mentions.everyone===e.mentions.everyone&&this.createdTimestamp===new Date(t.timestamp).getTime()&&this.editedTimestamp===new Date(t.edited_timestamp).getTime()),n}},{key:"toString",value:function(){return this.content}},{key:"_addReaction",value:function(e,t){var n,i=e.id?"".concat(e.name,":").concat(e.id):e.name;return this.reactions.has(i)?(n=this.reactions.get(i)).me||(n.me=t.id===this.client.user.id):(n=new h(this,e,0,t.id===this.client.user.id),this.reactions.set(i,n)),n.users.has(t.id)||(n.users.set(t.id,t),n.count++),n}},{key:"_removeReaction",value:function(e,t){var n=e.id?"".concat(e.name,":").concat(e.id):e.name;if(this.reactions.has(n)){var i=this.reactions.get(n);if(i.users.has(t.id))return i.users.delete(t.id),i.count--,t.id===this.client.user.id&&(i.me=!1),i.count<=0&&this.reactions.delete(n),i}return null}},{key:"_clearReactions",value:function(){this.reactions.clear()}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}},{key:"editedAt",get:function(){return this.editedTimestamp?new Date(this.editedTimestamp):null}},{key:"guild",get:function(){return this.channel.guild||null}},{key:"url",get:function(){return"https://discordapp.com/channels/".concat(this.guild?this.guild.id:"@me","/").concat(this.channel.id,"/").concat(this.id)}},{key:"cleanContent",get:function(){var e=this;return this.content.replace(/@(everyone|here)/g,"@$1").replace(/<@!?[0-9]+>/g,function(t){var n=t.replace(/<|!|>|@/g,"");if("dm"===e.channel.type||"group"===e.channel.type)return e.client.users.has(n)?"@".concat(e.client.users.get(n).username):t;var i=e.channel.guild.members.get(n);if(i)return i.nickname?"@".concat(i.nickname):"@".concat(i.user.username);var s=e.client.users.get(n);return s?"@".concat(s.username):t}).replace(/<#[0-9]+>/g,function(t){var n=e.client.channels.get(t.replace(/<|#|>/g,""));return n?"#".concat(n.name):t}).replace(/<@&[0-9]+>/g,function(t){if("dm"===e.channel.type||"group"===e.channel.type)return t;var n=e.guild.roles.get(t.replace(/<|@|>|&/g,""));return n?"@".concat(n.name):t})}},{key:"edits",get:function(){var e=this._edits.slice();return e.unshift(this),e}},{key:"editable",get:function(){return this.author.id===this.client.user.id}},{key:"deletable",get:function(){return!this.deleted&&(this.author.id===this.client.user.id||this.guild&&this.channel.permissionsFor(this.client.user).has(f.FLAGS.MANAGE_MESSAGES))}},{key:"pinnable",get:function(){return"DEFAULT"===this.type&&(!this.guild||this.channel.permissionsFor(this.client.user).has(f.FLAGS.MANAGE_MESSAGES))}}]),n}();module.exports=y;
},{"./MessageMentions":"Sz1E","./MessageAttachment":"wqBE","./MessageEmbed":"XKET","./RichEmbed":"IEkm","./MessageReaction":"N8aJ","./ReactionCollector":"BiVw","../util/Util":"kFkP","../util/Collection":"QMEy","../util/Constants":"TQBg","../util/Permissions":"hyYc","./GuildMember":"l1E5"}],"n7Nm":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=s(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./interfaces/Collector"),p=require("util"),h=function(e){function n(e,o){var i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(this,n),(i=r(this,l(n).call(this,e.client,o,c))).channel=e,i.received=0,i.client.setMaxListeners(i.client.getMaxListeners()+1),i.client.on("message",i.listener),i.options.max&&(i.options.maxProcessed=i.options.max),i.options.maxMatches&&(i.options.max=i.options.maxMatches),i._reEmitter=function(e){i.emit("message",e)},i.on("collect",i._reEmitter),i}return u(n,f),o(n,[{key:"on",value:function(e,t){"message"===e&&(t=p.deprecate(t,'MessageCollector will soon no longer emit "message", use "collect" instead')),c(l(n.prototype),"on",this).call(this,e,t)}},{key:"handle",value:function(e){return e.channel.id!==this.channel.id?null:(this.received++,{key:e.id,value:e})}},{key:"postCheck",value:function(){return this.options.maxMatches&&this.collected.size>=this.options.max?"matchesLimit":this.options.max&&this.received>=this.options.maxProcessed?"limit":null}},{key:"cleanup",value:function(){this.removeListener("collect",this._reEmitter),this.client.removeListener("message",this.listener),this.client.setMaxListeners(this.client.getMaxListeners()-1)}}]),n}();module.exports=h;
},{"./interfaces/Collector":"uM/T","util":"gfUn"}],"yhxh":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var r=require("path"),a=require("../Message"),l=require("../MessageCollector"),o=require("../../util/Collection"),c=require("../../structures/Attachment"),u=require("../../structures/RichEmbed"),h=require("../../util/Snowflake"),f=require("util"),d=function(){function s(){n(this,s),this.messages=new o,this.lastMessageID=null,this.lastMessage=null,this.lastPinTimestamp=null}return i(s,[{key:"send",value:function(n,s){var i=this;s||"object"!==t(n)||n instanceof Array?s||(s={}):(s=n,n="");var{reply:a}=s;if(s instanceof c&&(s={files:[s.file]}),s instanceof u&&(s.reply&&(s.reply=void 0),s={embed:s}),s.reply=a,s.embed&&(s.embed.file&&(s.files?s.files.push(s.embed.file):s.files=[s.embed.file]),s.embed.files&&(s.files?s.files=s.files.concat(s.embed.files):s.files=s.embed.files)),s.file&&(s.files?s.files.push(s.file):s.files=[s.file]),s.embed&&(s.embed=new u(s.embed)._apiTransform()),s.files){for(var l=0;l<s.files.length;l++){var o=s.files[l];o&&"string"!=typeof o&&!e.isBuffer(o)||(o={attachment:o}),o.name?o instanceof c&&(o=o.file):"string"==typeof o.attachment?o.name=r.basename(o.attachment):o.attachment&&o.attachment.path?o.name=r.basename(o.attachment.path):o instanceof c?o={attachment:o.file,name:r.basename(o.file)||"file.jpg"}:o.name="file.jpg",s.files[l]=o}return Promise.all(s.files.map(function(e){return i.client.resolver.resolveFile(e.attachment).then(function(t){return e.file=t,e})})).then(function(e){return i.client.rest.methods.sendMessage(i,n,s,e)})}return this.client.rest.methods.sendMessage(this,n,s)}},{key:"fetchMessage",value:function(e){var t=this;return this.client.user.bot?this.client.rest.methods.getChannelMessage(this,e).then(function(e){var n=e instanceof a?e:new a(t,e,t.client);return t._cacheMessage(n),n}):this.fetchMessages({limit:1,around:e}).then(function(t){var n=t.get(e);if(!n)throw new Error("Message not found.");return n})}},{key:"fetchMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.rest.methods.getChannelMessages(this,t).then(function(t){var n=new o;for(var s of t){var i=new a(e,s,e.client);n.set(s.id,i),e._cacheMessage(i)}return n})}},{key:"fetchPinnedMessages",value:function(){var e=this;return this.client.rest.methods.getChannelPinnedMessages(this).then(function(t){var n=new o;for(var s of t){var i=new a(e,s,e.client);n.set(s.id,i),e._cacheMessage(i)}return n})}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.rest.methods.search(this,e)}},{key:"startTyping",value:function(e){var t=this;if(void 0!==e&&e<1)throw new RangeError("Count must be at least 1.");if(this.client.user._typing.has(this.id)){var n=this.client.user._typing.get(this.id);n.count=e||n.count+1}else{var s={count:e||1,interval:this.client.setInterval(function(){t.client.rest.methods.sendTyping(t.id).catch(function(){t.client.clearInterval(s.interval),t.client.user._typing.delete(t.id)})},9e3)};this.client.rest.methods.sendTyping(this.id).catch(function(){t.client.clearInterval(s.interval),t.client.user._typing.delete(t.id)}),this.client.user._typing.set(this.id,s)}}},{key:"stopTyping",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.client.user._typing.has(this.id)){var t=this.client.user._typing.get(this.id);t.count--,(t.count<=0||e)&&(this.client.clearInterval(t.interval),this.client.user._typing.delete(this.id))}}},{key:"createCollector",value:function(e,t){return this.createMessageCollector(e,t)}},{key:"createMessageCollector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new l(this,e,t)}},{key:"awaitMessages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(s,i){t.createCollector(e,n).once("end",function(e,t){n.errors&&n.errors.includes(t)?i(e):s(e)})})}},{key:"bulkDelete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof Array||e instanceof o){var s=e instanceof o?e.keyArray():e.map(function(e){return e.id||e});return n&&(s=s.filter(function(e){return Date.now()-h.deconstruct(e).date.getTime()<12096e5})),0===s.length?Promise.resolve(new o):1===s.length?this.fetchMessage(s[0]).then(function(e){return e.delete()}).then(function(e){return new o([[e.id,e]])}):this.client.rest.methods.bulkDeleteMessages(this,s)}if(!isNaN(e))return this.fetchMessages({limit:e}).then(function(e){return t.bulkDelete(e,n)});throw new TypeError("The messages must be an Array, Collection, or number.")}},{key:"acknowledge",value:function(){return this.lastMessageID?this.client.rest.methods.ackTextChannel(this):Promise.resolve(this)}},{key:"_cacheMessage",value:function(e){var t=this.client.options.messageCacheMaxSize;return 0===t?null:(this.messages.size>=t&&t>0&&this.messages.delete(this.messages.firstKey()),this.messages.set(e.id,e),e)}},{key:"typing",get:function(){return this.client.user._typing.has(this.id)}},{key:"typingCount",get:function(){return this.client.user._typing.has(this.id)?this.client.user._typing.get(this.id).count:0}},{key:"lastMessage",get:function(){return this.messages.get(this.lastMessageID)||null}},{key:"lastPinAt",get:function(){return this.lastPinTimestamp?new Date(this.lastPinTimestamp):null}}]),s}(),g={sendMessage:function(e,t){return this.send(e,t)},sendEmbed:function(e,n,s){return s||"object"!==t(n)||n instanceof Array?s||(s={}):(s=n,n=""),this.send(n,Object.assign(s,{embed:e}))},sendFiles:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send(t,Object.assign(n,{files:e}))},sendFile:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.send({files:[{attachment:e,name:t}],content:n,options:s})},sendCode:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send(t,Object.assign(n,{code:e}))}};for(var m of Object.keys(g))d.prototype[m]=f.deprecate(g[m],"TextChannel#".concat(m,": use TextChannel#send instead"));exports.applyToClass=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=["send","sendMessage","sendEmbed","sendFile","sendFiles","sendCode"];for(var i of(t&&s.push("_cacheMessage","acknowledge","fetchMessages","fetchMessage","search","lastMessage","lastPinAt","bulkDelete","startTyping","stopTyping","typing","typingCount","fetchPinnedMessages","createCollector","createMessageCollector","awaitMessages"),s))n.includes(i)||Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(d.prototype,i))},d.prototype.acknowledge=f.deprecate(d.prototype.acknowledge,"TextBasedChannel#acknowledge: userbot methods will be removed"),d.prototype.search=f.deprecate(d.prototype.search,"TextBasedChannel#search: userbot methods will be removed");
},{"path":"UUq2","../Message":"Djan","../MessageCollector":"n7Nm","../../util/Collection":"QMEy","../../structures/Attachment":"GZWo","../../structures/RichEmbed":"IEkm","../../util/Snowflake":"Jr6I","util":"gfUn","buffer":"dskh"}],"OMuY":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("./interfaces/TextBasedChannel"),r=require("../util/Constants"),s=require("./Presence").Presence,o=require("../util/Snowflake"),a=require("util"),u=function(){function t(n,i){e(this,t),Object.defineProperty(this,"client",{value:n}),i&&this.setup(i)}return n(t,[{key:"setup",value:function(e){this.id=e.id,this.username=e.username,this.discriminator=e.discriminator,this.avatar=e.avatar,this.bot=Boolean(e.bot),this.lastMessageID=null,this.lastMessage=null}},{key:"patch",value:function(e){for(var t of["id","username","discriminator","avatar","bot"])void 0!==e[t]&&(this[t]=e[t]);e.token&&(this.client.token=e.token)}},{key:"typingIn",value:function(e){return(e=this.client.resolver.resolveChannel(e))._typing.has(this.id)}},{key:"typingSinceIn",value:function(e){return(e=this.client.resolver.resolveChannel(e))._typing.has(this.id)?new Date(e._typing.get(this.id).since):null}},{key:"typingDurationIn",value:function(e){return(e=this.client.resolver.resolveChannel(e))._typing.has(this.id)?e._typing.get(this.id).elapsedTime:-1}},{key:"createDM",value:function(){return this.client.rest.methods.createDM(this)}},{key:"deleteDM",value:function(){return this.client.rest.methods.deleteChannel(this)}},{key:"addFriend",value:function(){return this.client.rest.methods.addFriend(this)}},{key:"removeFriend",value:function(){return this.client.rest.methods.removeFriend(this)}},{key:"block",value:function(){return this.client.rest.methods.blockUser(this)}},{key:"unblock",value:function(){return this.client.rest.methods.unblockUser(this)}},{key:"fetchProfile",value:function(){return this.client.rest.methods.fetchUserProfile(this)}},{key:"setNote",value:function(e){return this.client.rest.methods.setNote(this,e)}},{key:"equals",value:function(e){return e&&this.id===e.id&&this.username===e.username&&this.discriminator===e.discriminator&&this.avatar===e.avatar&&this.bot===Boolean(e.bot)}},{key:"toString",value:function(){return"<@".concat(this.id,">")}},{key:"send",value:function(){}},{key:"sendMessage",value:function(){}},{key:"sendEmbed",value:function(){}},{key:"sendFile",value:function(){}},{key:"sendCode",value:function(){}},{key:"createdTimestamp",get:function(){return o.deconstruct(this.id).timestamp}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}},{key:"presence",get:function(){if(this.client.presences.has(this.id))return this.client.presences.get(this.id);for(var e of this.client.guilds.values())if(e.presences.has(this.id))return e.presences.get(this.id);return new s(void 0,this.client)}},{key:"avatarURL",get:function(){return this.avatar?r.Endpoints.User(this).Avatar(this.client.options.http.cdn,this.avatar):null}},{key:"defaultAvatarURL",get:function(){var e=Object.keys(r.DefaultAvatars),t=e[this.discriminator%e.length];return r.Endpoints.CDN(this.client.options.http.host).Asset("".concat(r.DefaultAvatars[t],".png"))}},{key:"displayAvatarURL",get:function(){return this.avatarURL||this.defaultAvatarURL}},{key:"tag",get:function(){return"".concat(this.username,"#").concat(this.discriminator)}},{key:"note",get:function(){return this.client.user.notes.get(this.id)||null}},{key:"dmChannel",get:function(){var e=this;return this.client.channels.find(function(t){return"dm"===t.type&&t.recipient.id===e.id})}}]),t}();i.applyToClass(u),u.prototype.block=a.deprecate(u.prototype.block,"User#block: userbot methods will be removed"),u.prototype.unblock=a.deprecate(u.prototype.unblock,"User#unblock: userbot methods will be removed"),u.prototype.addFriend=a.deprecate(u.prototype.addFriend,"User#addFriend: userbot methods will be removed"),u.prototype.removeFriend=a.deprecate(u.prototype.removeFriend,"User#removeFriend: userbot methods will be removed"),u.prototype.setNote=a.deprecate(u.prototype.setNote,"User#setNote, userbot methods will be removed"),u.prototype.fetchProfile=a.deprecate(u.prototype.fetchProfile,"User#fetchProfile: userbot methods will be removed"),module.exports=u;
},{"./interfaces/TextBasedChannel":"yhxh","../util/Constants":"TQBg","./Presence":"ygDe","../util/Snowflake":"Jr6I","util":"gfUn"}],"T/02":[function(require,module,exports) {
var process = require("process");
var e=require("process");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=require("util"),r=require("long"),o=require("./User"),a=require("./Role"),l=require("./Emoji"),u=require("./Presence").Presence,h=require("./GuildMember"),c=require("../util/Constants"),d=require("../util/Collection"),m=require("../util/Util"),f=require("../util/Snowflake"),v=function(){function i(e,n){t(this,i),Object.defineProperty(this,"client",{value:e}),this.members=new d,this.channels=new d,this.roles=new d,this.presences=new d,this.deleted=!1,n&&(n.unavailable?(this.available=!1,this.id=n.id):(this.setup(n),n.channels||(this.available=!1)))}return n(i,[{key:"setup",value:function(e){if(this.name=e.name,this.icon=e.icon,this.splash=e.splash,this.region=e.region,this.memberCount=e.member_count||this.memberCount,this.large=Boolean("large"in e?e.large:this.large),this.features=e.features,this.applicationID=e.application_id,this.afkTimeout=e.afk_timeout,this.afkChannelID=e.afk_channel_id,this.systemChannelID=e.system_channel_id,this.embedEnabled=e.embed_enabled,this.verificationLevel=e.verification_level,this.explicitContentFilter=e.explicit_content_filter,this.mfaLevel=e.mfa_level,this.joinedTimestamp=e.joined_at?new Date(e.joined_at).getTime():this.joinedTimestamp,this.defaultMessageNotifications=c.DefaultMessageNotifications[e.default_message_notifications]||e.default_message_notifications,this.id=e.id,this.available=!e.unavailable,this.features=e.features||this.features||[],e.members)for(var t of(this.members.clear(),e.members))this._addMember(t,!1);if(e.owner_id&&(this.ownerID=e.owner_id),e.channels)for(var i of(this.channels.clear(),e.channels))this.client.dataManager.newChannel(i,this);if(e.roles)for(var n of(this.roles.clear(),e.roles)){var s=new a(this,n);this.roles.set(s.id,s)}if(e.presences)for(var r of e.presences)this._setPresence(r.user.id,r);if(this._rawVoiceStates=new d,e.voice_states)for(var o of e.voice_states){this._rawVoiceStates.set(o.user_id,o);var u=this.members.get(o.user_id),h=this.channels.get(o.channel_id);u&&h&&(u.serverMute=o.mute,u.serverDeaf=o.deaf,u.selfMute=o.self_mute,u.selfDeaf=o.self_deaf,u.voiceSessionID=o.session_id,u.voiceChannelID=o.channel_id,h.members.set(u.user.id,u))}if(this.emojis)this.client.actions.GuildEmojisUpdate.handle({guild_id:this.id,emojis:e.emojis});else for(var m of(this.emojis=new d,e.emojis))this.emojis.set(m.id,new l(this,m))}},{key:"member",value:function(e){return this.client.resolver.resolveGuildMember(this,e)}},{key:"fetchBan",value:function(e){return this.client.rest.methods.getGuildBan(this,e)}},{key:"fetchBans",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.client.rest.methods.getGuildBans(this):this.client.rest.methods.getGuildBans(this).then(function(e){var t=new d;for(var i of e.values())t.set(i.user.id,i.user);return t})}},{key:"fetchInvites",value:function(){return this.client.rest.methods.getGuildInvites(this)}},{key:"fetchVanityCode",value:function(){return this.features.includes("VANITY_URL")?this.client.rest.methods.getGuildVanityCode(this):Promise.reject(new Error("This guild does not have the VANITY_URL feature enabled."))}},{key:"fetchWebhooks",value:function(){return this.client.rest.methods.getGuildWebhooks(this)}},{key:"fetchVoiceRegions",value:function(){return this.client.rest.methods.fetchVoiceRegions(this.id)}},{key:"fetchEmbed",value:function(){return this.client.rest.methods.fetchEmbed(this.id)}},{key:"fetchAuditLogs",value:function(e){return this.client.rest.methods.getGuildAuditLogs(this,e)}},{key:"addMember",value:function(e,t){return e=this.client.resolver.resolveUserID(e),this.members.has(e)?Promise.resolve(this.members.get(e)):this.client.rest.methods.putGuildMember(this,e,t)}},{key:"fetchMember",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(e=this.client.resolver.resolveUser(e)))return Promise.reject(new Error("Invalid or uncached id provided."));var i=this.members.get(e.id);return i&&i.joinedTimestamp?Promise.resolve(i):this.client.rest.methods.getGuildMember(this,e,t)}},{key:"fetchMembers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise(function(n,s){if(e.memberCount!==e.members.size){e.client.ws.send({op:c.OPCodes.REQUEST_GUILD_MEMBERS,d:{guild_id:e.id,query:t,limit:i}});var r=function(t,i){i.id===e.id&&(e.memberCount===e.members.size||t.length<1e3)&&(e.client.removeListener(c.Events.GUILD_MEMBERS_CHUNK,r),n(e))};e.client.on(c.Events.GUILD_MEMBERS_CHUNK,r),e.client.setTimeout(function(){return s(new Error("Members didn't arrive in time."))},12e4)}else n(e)})}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.rest.methods.search(this,e)}},{key:"edit",value:function(e,t){var i={};return e.name&&(i.name=e.name),e.region&&(i.region=e.region),void 0!==e.verificationLevel&&(i.verification_level=Number(e.verificationLevel)),void 0!==e.afkChannel&&(i.afk_channel_id=this.client.resolver.resolveChannelID(e.afkChannel)),void 0!==e.systemChannel&&(i.system_channel_id=this.client.resolver.resolveChannelID(e.systemChannel)),e.afkTimeout&&(i.afk_timeout=Number(e.afkTimeout)),void 0!==e.icon&&(i.icon=e.icon),e.owner&&(i.owner_id=this.client.resolver.resolveUser(e.owner).id),void 0!==e.splash&&(i.splash=e.splash),void 0!==e.explicitContentFilter&&(i.explicit_content_filter=Number(e.explicitContentFilter)),void 0!==e.defaultMessageNotifications&&(i.default_message_notifications="string"==typeof e.defaultMessageNotifications?c.DefaultMessageNotifications.indexOf(e.defaultMessageNotifications):Number(e.defaultMessageNotifications)),this.client.rest.methods.updateGuild(this,i,t)}},{key:"setExplicitContentFilter",value:function(e,t){return this.edit({explicitContentFilter:e},t)}},{key:"setDefaultMessageNotifications",value:function(e,t){return this.edit({defaultMessageNotifications:e},t)}},{key:"setName",value:function(e,t){return this.edit({name:e},t)}},{key:"setRegion",value:function(e,t){return this.edit({region:e},t)}},{key:"setVerificationLevel",value:function(e,t){return this.edit({verificationLevel:e},t)}},{key:"setAFKChannel",value:function(e,t){return this.edit({afkChannel:e},t)}},{key:"setSystemChannel",value:function(e,t){return this.edit({systemChannel:e},t)}},{key:"setAFKTimeout",value:function(e,t){return this.edit({afkTimeout:e},t)}},{key:"setIcon",value:function(e,t){var i=this;return this.client.resolver.resolveImage(e).then(function(e){return i.edit({icon:e,reason:t})})}},{key:"setOwner",value:function(e,t){return this.edit({owner:e},t)}},{key:"setSplash",value:function(e){var t=this;return this.client.resolver.resolveImage(e).then(function(e){return t.edit({splash:e})})}},{key:"setPosition",value:function(e,t){return this.client.user.bot?Promise.reject(new Error("Setting guild position is only available for user accounts")):this.client.user.settings.setGuildPosition(this,e,t)}},{key:"acknowledge",value:function(){return this.client.rest.methods.ackGuild(this)}},{key:"allowDMs",value:function(e){var t=this.client.user.settings;return e?t.removeRestrictedGuild(this):t.addRestrictedGuild(this)}},{key:"ban",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"==typeof t?t={reason:null,"delete-message-days":t}:"string"==typeof t&&(t={reason:t,"delete-message-days":0}),t.days&&(t["delete-message-days"]=t.days),this.client.rest.methods.banGuildMember(this,e,t)}},{key:"unban",value:function(e,t){return this.client.rest.methods.unbanGuildMember(this,e,t)}},{key:"pruneMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if("number"!=typeof e)throw new TypeError("Days must be a number.");return this.client.rest.methods.pruneGuildMembers(this,e,t,i)}},{key:"sync",value:function(){this.client.user.bot||this.client.syncGuilds([this])}},{key:"createChannel",value:function(t,i,n,s){return i&&"string"!=typeof i||(i&&e.emitWarning("Guild#createChannel: Create channels with an options object instead of separate parameters","DeprecationWarning"),i={type:i,permissionOverwrites:n,reason:s}),this.client.rest.methods.createChannel(this,t,i)}},{key:"setChannelPositions",value:function(e){return this.client.rest.methods.updateChannelPositions(this.id,e)}},{key:"setEmbed",value:function(e,t){var i=this;return this.client.rest.methods.updateEmbed(this.id,e,t).then(function(){return i})}},{key:"createRole",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this.client.rest.methods.createGuildRole(this,e,t)}},{key:"createEmoji",value:function(e,t,i,n){var s=this;return"string"==typeof e&&e.startsWith("data:")?this.client.rest.methods.createEmoji(this,e,t,i,n):this.client.resolver.resolveImage(e).then(function(e){return s.client.rest.methods.createEmoji(s,e,t,i,n)})}},{key:"deleteEmoji",value:function(e,t){if("string"==typeof e&&(e=this.emojis.get(e)),!(e instanceof l))throw new TypeError("Emoji must be either an instance of Emoji or an ID");return this.client.rest.methods.deleteEmoji(e,t)}},{key:"leave",value:function(){return this.client.rest.methods.leaveGuild(this)}},{key:"delete",value:function(){return this.client.rest.methods.deleteGuild(this)}},{key:"equals",value:function(e){var t=e&&this.id===e.id&&this.available===!e.unavailable&&this.splash===e.splash&&this.region===e.region&&this.name===e.name&&this.memberCount===e.member_count&&this.large===e.large&&this.icon===e.icon&&m.arraysEqual(this.features,e.features)&&this.ownerID===e.owner_id&&this.verificationLevel===e.verification_level&&this.embedEnabled===e.embed_enabled;return t&&(this.embedChannel?this.embedChannel.id!==e.embed_channel_id&&(t=!1):e.embed_channel_id&&(t=!1)),t}},{key:"toString",value:function(){return this.name}},{key:"_addMember",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.members.has(e.user.id);e.user instanceof o||(e.user=this.client.dataManager.newUser(e.user)),e.joined_at=e.joined_at||0;var n=new h(this,e);if(this.members.set(n.id,n),this._rawVoiceStates&&this._rawVoiceStates.has(n.user.id)){var s=this._rawVoiceStates.get(n.user.id);n.serverMute=s.mute,n.serverDeaf=s.deaf,n.selfMute=s.self_mute,n.selfDeaf=s.self_deaf,n.voiceSessionID=s.session_id,n.voiceChannelID=s.channel_id,this.client.channels.has(s.channel_id)?this.client.channels.get(s.channel_id).members.set(n.user.id,n):this.client.emit("warn","Member ".concat(n.id," added in guild ").concat(this.id," with an uncached voice channel"))}return this.client.ws.connection.status===c.Status.READY&&t&&!i&&this.client.emit(c.Events.GUILD_MEMBER_ADD,n),n}},{key:"_updateMember",value:function(e,t){var i=m.cloneObject(e);t.roles&&(e._roles=t.roles),void 0!==t.nick&&(e.nickname=t.nick);var n=e.nickname!==i.nickname||!m.arraysEqual(e._roles,i._roles);return this.client.ws.connection.status===c.Status.READY&&n&&this.client.emit(c.Events.GUILD_MEMBER_UPDATE,i,e),{old:i,mem:e}}},{key:"_removeMember",value:function(e){e.voiceChannel&&e.voiceChannel.members.delete(e.id),this.members.delete(e.id)}},{key:"_memberSpeakUpdate",value:function(e,t){var i=this.members.get(e);i&&i.speaking!==t&&(i.speaking=t,this.client.emit(c.Events.GUILD_MEMBER_SPEAKING,i,t))}},{key:"_setPresence",value:function(e,t){this.presences.get(e)?this.presences.get(e).update(t):this.presences.set(e,new u(t,this.client))}},{key:"setRolePosition",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e&&!(e=this.roles.get(e)))return Promise.reject(new Error("Supplied role is not a role or snowflake."));if(t=Number(t),isNaN(t))return Promise.reject(new Error("Supplied position is not a number."));var n=this._sortedRoles.array();return m.moveElementInArray(n,e,t,i),n=n.map(function(e,t){return{id:e.id,position:t}}),this.client.rest.methods.setRolePositions(this.id,n)}},{key:"setChannelPosition",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e&&!(e=this.channels.get(e)))return Promise.reject(new Error("Supplied channel is not a channel or snowflake."));if(t=Number(t),isNaN(t))return Promise.reject(new Error("Supplied position is not a number."));var n=this._sortedChannels(e.type).array();return m.moveElementInArray(n,e,t,i),n=n.map(function(e,t){return{id:e.id,position:t}}),this.client.rest.methods.setChannelPositions(this.id,n)}},{key:"_sortedChannels",value:function(e){return this._sortPositionWithID(this.channels.filter(function(t){return"voice"===e&&"voice"===t.type||("voice"!==e&&"voice"!==t.type||e===t.type)}))}},{key:"_sortPositionWithID",value:function(e){return e.sort(function(e,t){return e.position!==t.position?e.position-t.position:r.fromString(t.id).sub(r.fromString(e.id)).toNumber()})}},{key:"createdTimestamp",get:function(){return f.deconstruct(this.id).timestamp}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}},{key:"joinedAt",get:function(){return new Date(this.joinedTimestamp)}},{key:"verified",get:function(){return this.features.includes("VERIFIED")}},{key:"iconURL",get:function(){return this.icon?c.Endpoints.Guild(this).Icon(this.client.options.http.cdn,this.icon):null}},{key:"nameAcronym",get:function(){return this.name.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,"")}},{key:"splashURL",get:function(){return this.splash?c.Endpoints.Guild(this).Splash(this.client.options.http.cdn,this.splash):null}},{key:"owner",get:function(){return this.members.get(this.ownerID)}},{key:"afkChannel",get:function(){return this.client.channels.get(this.afkChannelID)||null}},{key:"systemChannel",get:function(){return this.client.channels.get(this.systemChannelID)||null}},{key:"voiceConnection",get:function(){return this.client.browser?null:this.client.voice.connections.get(this.id)||null}},{key:"position",get:function(){return this.client.user.bot?null:this.client.user.settings.guildPositions?this.client.user.settings.guildPositions.indexOf(this.id):null}},{key:"muted",get:function(){if(this.client.user.bot)return null;try{return this.client.user.guildSettings.get(this.id).muted}catch(e){return!1}}},{key:"messageNotifications",get:function(){if(this.client.user.bot)return null;try{return this.client.user.guildSettings.get(this.id).messageNotifications}catch(e){return null}}},{key:"mobilePush",get:function(){if(this.client.user.bot)return null;try{return this.client.user.guildSettings.get(this.id).mobilePush}catch(e){return!1}}},{key:"suppressEveryone",get:function(){if(this.client.user.bot)return null;try{return this.client.user.guildSettings.get(this.id).suppressEveryone}catch(e){return null}}},{key:"defaultRole",get:function(){return this.roles.get(this.id)}},{key:"me",get:function(){return this.members.get(this.client.user.id)}},{key:"_sortedRoles",get:function(){return this._sortPositionWithID(this.roles)}}]),i}();Object.defineProperty(v.prototype,"defaultChannel",{get:s.deprecate(function(){return this.channels.get(this.id)},"Guild#defaultChannel: This property is obsolete, will be removed in v12.0.0, and may not function as expected.")}),v.prototype.allowDMs=s.deprecate(v.prototype.allowDMs,"Guild#allowDMs: userbot methods will be removed"),v.prototype.acknowledge=s.deprecate(v.prototype.acknowledge,"Guild#acknowledge: userbot methods will be removed"),v.prototype.setPosition=s.deprecate(v.prototype.setPosition,"Guild#setPosition: userbot methods will be removed"),v.prototype.search=s.deprecate(v.prototype.search,"Guild#search: userbot methods will be removed"),v.prototype.sync=s.deprecate(v.prototype.sync,"Guild#sync:, userbot methods will be removed"),module.exports=v;
},{"util":"gfUn","long":"YvD4","./User":"OMuY","./Role":"aSv9","./Emoji":"oytn","./Presence":"ygDe","./GuildMember":"l1E5","../util/Constants":"TQBg","../util/Collection":"QMEy","../util/Util":"kFkP","../util/Snowflake":"Jr6I","process":"pBGv"}],"gHxX":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("../util/Snowflake"),r=function(){function t(n,i){e(this,t),Object.defineProperty(this,"client",{value:n}),this.type=null,this.deleted=!1,i&&this.setup(i)}return n(t,[{key:"setup",value:function(e){this.id=e.id}},{key:"delete",value:function(){return this.client.rest.methods.deleteChannel(this)}},{key:"createdTimestamp",get:function(){return i.deconstruct(this.id).timestamp}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}}]),t}();module.exports=r;
},{"../util/Snowflake":"Jr6I"}],"svNU":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}var o=require("path"),i=require("fs"),s=require("snekfetch"),u=require("../util/Constants"),l=require("../util/Util").convertToBuffer,a=require("../structures/User"),c=require("../structures/Message"),f=require("../structures/Guild"),v=require("../structures/Channel"),h=require("../structures/GuildMember"),y=require("../structures/Emoji"),d=require("../structures/ReactionEmoji"),g=require("../structures/Role"),p=function(){function r(e){n(this,r),this.client=e}return t(r,[{key:"resolveUser",value:function(e){return e instanceof a?e:"string"==typeof e?this.client.users.get(e)||null:e instanceof h?e.user:e instanceof c?e.author:e instanceof f?e.owner:null}},{key:"resolveUserID",value:function(e){return e instanceof a||e instanceof h?e.id:"string"==typeof e?e||null:e instanceof c?e.author.id:e instanceof f?e.ownerID:null}},{key:"resolveGuild",value:function(e){return e instanceof f?e:"string"==typeof e&&this.client.guilds.get(e)||null}},{key:"resolveGuildMember",value:function(e,n){return n instanceof h?n:(e=this.resolveGuild(e),n=this.resolveUser(n),e&&n&&e.members.get(n.id)||null)}},{key:"resolveRole",value:function(e,n){return n instanceof g?n:(e=this.resolveGuild(e))&&"string"==typeof n?e.roles.get(n):null}},{key:"resolveChannel",value:function(e){return e instanceof v?e:"string"==typeof e?this.client.channels.get(e)||null:e instanceof c?e.channel:e instanceof f&&e.channels.get(e.id)||null}},{key:"resolveChannelID",value:function(e){return e instanceof v?e.id:"string"==typeof e?e:e instanceof c?e.channel.id:e instanceof f?e.defaultChannel.id:null}},{key:"resolveInviteCode",value:function(e){var n=/discord(?:app\.com\/invite|\.gg(?:\/invite)?)\/([\w-]{2,255})/i.exec(e);return n&&n[1]?n[1]:e}},{key:"resolveString",value:function(e){return"string"==typeof e?e:e instanceof Array?e.join("\n"):String(e)}},{key:"resolveImage",value:function(e){return e?"string"==typeof e&&e.startsWith("data:")?Promise.resolve(e):this.resolveFile(e).then(this.resolveBase64):Promise.resolve(null)}},{key:"resolveBase64",value:function(n){return n instanceof e?"data:image/jpg;base64,".concat(n.toString("base64")):n}},{key:"resolveFile",value:function(n){return n instanceof e?Promise.resolve(n):this.client.browser&&n instanceof ArrayBuffer?Promise.resolve(l(n)):"string"==typeof n?/^https?:\/\//.test(n)?s.get(n).then(function(n){return n.body instanceof e?n.body:e.from(n.text)}):new Promise(function(e,r){var t=o.resolve(n);i.stat(t,function(n,o){return n?r(n):o&&o.isFile()?(i.readFile(t,function(n,t){n?r(n):e(t)}),null):r(new Error("The file could not be found: ".concat(t)))})}):n&&n.pipe&&"function"==typeof n.pipe?new Promise(function(r,t){var o=[];n.once("error",t),n.on("data",function(e){return o.push(e)}),n.once("end",function(){return r(e.concat(o))})}):Promise.reject(new TypeError("The resource must be a string or Buffer."))}},{key:"resolveEmojiIdentifier",value:function(e){return e instanceof y||e instanceof d?e.identifier:"string"==typeof e?this.client.emojis.has(e)?this.client.emojis.get(e).identifier:e.includes("%")?e:encodeURIComponent(e):null}},{key:"resolveColor",value:function(e){return this.constructor.resolveColor(e)}}],[{key:"resolveColor",value:function(e){if("string"==typeof e){if("RANDOM"===e)return Math.floor(16777216*Math.random());if("DEFAULT"===e)return 0;e=u.Colors[e]||parseInt(e.replace("#",""),16)}else e instanceof Array&&(e=(e[0]<<16)+(e[1]<<8)+e[2]);if(e<0||e>16777215)throw new RangeError("Color must be within the range 0 - 16777215 (0xFFFFFF).");if(e&&isNaN(e))throw new TypeError("Unable to convert color to a number.");return e}}]),r}();module.exports=p;
},{"path":"UUq2","fs":"f88W","snekfetch":"bXDr","../util/Constants":"TQBg","../util/Util":"kFkP","../structures/User":"OMuY","../structures/Message":"Djan","../structures/Guild":"T/02","../structures/Channel":"gHxX","../structures/GuildMember":"l1E5","../structures/Emoji":"oytn","../structures/ReactionEmoji":"R8pk","../structures/Role":"aSv9","buffer":"dskh"}],"IEkm":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var n,r=require("./Attachment"),o=require("./MessageEmbed"),s=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.title=i.title,this.description=i.description,this.url=i.url,this.color=i.color,this.author=i.author,this.timestamp=i.timestamp,this.fields=i.fields||[],this.thumbnail=i.thumbnail,this.image=i.image,this.footer=i.footer,this.file=i.file,this.files=[]}return i(e,[{key:"setTitle",value:function(t){if((t=h(t)).length>256)throw new RangeError("RichEmbed titles may not exceed 256 characters.");return this.title=t,this}},{key:"setDescription",value:function(t){if((t=h(t)).length>2048)throw new RangeError("RichEmbed descriptions may not exceed 2048 characters.");return this.description=t,this}},{key:"setURL",value:function(t){return this.url=t,this}},{key:"setColor",value:function(t){return n||(n=require("../client/ClientDataResolver")),this.color=n.resolveColor(t),this}},{key:"setAuthor",value:function(t,e,i){return this.author={name:h(t),icon_url:e,url:i},this}},{key:"setTimestamp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return t instanceof Date&&(t=t.getTime()),this.timestamp=t,this}},{key:"addField",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.fields.length>=25)throw new RangeError("RichEmbeds may not exceed 25 fields.");if((t=h(t)).length>256)throw new RangeError("RichEmbed field names may not exceed 256 characters.");if(!/\S/.test(t))throw new RangeError("RichEmbed field names may not be empty.");if((e=h(e)).length>1024)throw new RangeError("RichEmbed field values may not exceed 1024 characters.");if(!/\S/.test(e))throw new RangeError("RichEmbed field values may not be empty.");return this.fields.push({name:t,value:e,inline:i}),this}},{key:"addBlankField",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.addField("","",t)}},{key:"setThumbnail",value:function(t){return this.thumbnail={url:t},this}},{key:"setImage",value:function(t){return this.image={url:t},this}},{key:"setFooter",value:function(t,e){if((t=h(t)).length>2048)throw new RangeError("RichEmbed footer text may not exceed 2048 characters.");return this.footer={text:t,icon_url:e},this}},{key:"attachFile",value:function(t){if(this.file)throw new RangeError("You may not upload more than one file at once.");return t instanceof r&&(t=t.file),this.file=t,this}},{key:"attachFiles",value:function(t){return t=t.map(function(t){return t instanceof r?t.file:t}),this.files=this.files.concat(t),this}},{key:"_apiTransform",value:function(){return{title:this.title,type:"rich",description:this.description,url:this.url,timestamp:this.timestamp?new Date(this.timestamp):null,color:this.color,fields:this.fields?this.fields.map(function(t){return{name:t.name,value:t.value,inline:t.inline}}):null,thumbnail:this.thumbnail?{url:this.thumbnail.url}:null,image:this.image?{url:this.image.url}:null,author:this.author?{name:this.author.name,url:this.author.url,icon_url:this.author instanceof o.Author?this.author.iconURL:this.author.icon_url}:null,footer:this.footer?{text:this.footer.text,icon_url:this.footer instanceof o.Footer?this.footer.iconURL:this.footer.icon_url}:null}}},{key:"length",get:function(){return(this.title?this.title.length:0)+(this.description?this.description.length:0)+(this.fields.length>=1?this.fields.reduce(function(t,e){return t+e.name.length+e.value.length},0):0)+(this.footer?this.footer.text.length:0)+(this.author?this.author.name.length:0)}}]),e}();function h(t){return"string"==typeof t?t:t instanceof Array?t.join("\n"):String(t)}module.exports=s;
},{"./Attachment":"GZWo","./MessageEmbed":"XKET","../client/ClientDataResolver":"svNU"}],"KH5h":[function(require,module,exports) {
function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var i=function(){function n(t,i){e(this,n),Object.defineProperty(this,"client",{value:t}),this.setup(i)}return t(n,[{key:"setup",value:function(e){this.id=e.id,this.name=e.name,this.icon=e.icon,this.splash=e.splash}}]),n}();module.exports=i;
},{}],"5YAV":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("../util/Constants"),r=function(){function t(n,i){e(this,t),Object.defineProperty(this,"client",{value:n}),this.setup(i)}return n(t,[{key:"setup",value:function(e){this.id=e.id,this.name=e.name,this.type=i.ChannelTypes.TEXT===e.type?"text":"voice"}}]),t}();module.exports=r;
},{"../util/Constants":"TQBg"}],"YTTt":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("./PartialGuild"),r=require("./PartialGuildChannel"),a=require("../util/Constants"),s=function(){function t(n,i){e(this,t),Object.defineProperty(this,"client",{value:n}),this.setup(i)}return n(t,[{key:"setup",value:function(e){this.guild=this.client.guilds.get(e.guild.id)||new i(this.client,e.guild),this.code=e.code,this.presenceCount=e.approximate_presence_count,this.memberCount=e.approximate_member_count,this.textChannelCount=e.guild.text_channel_count,this.voiceChannelCount=e.guild.voice_channel_count,this.temporary=e.temporary,this.maxAge=e.max_age,this.uses=e.uses,this.maxUses=e.max_uses,e.inviter&&(this.inviter=this.client.dataManager.newUser(e.inviter)),this.channel=this.client.channels.get(e.channel.id)||new r(this.client,e.channel),this.createdTimestamp=new Date(e.created_at).getTime()}},{key:"delete",value:function(e){return this.client.rest.methods.deleteInvite(this,e)}},{key:"toString",value:function(){return this.url}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}},{key:"expiresTimestamp",get:function(){return this.createdTimestamp+1e3*this.maxAge}},{key:"expiresAt",get:function(){return new Date(this.expiresTimestamp)}},{key:"url",get:function(){return a.Endpoints.inviteLink(this.code)}}]),t}();module.exports=s;
},{"./PartialGuild":"KH5h","./PartialGuildChannel":"5YAV","../util/Constants":"TQBg"}],"jucJ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?a(e):n}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=require("events"),f=require("path"),h=require("../util/Util"),d=require("./Attachment"),p=require("./RichEmbed"),b=function(i){function u(e,t,i){var r;return n(this,u),r=o(this,s(u).call(this)),e?(Object.defineProperty(a(r),"client",{value:e}),t&&r.setup(t)):(r.id=t,r.token=i,Object.defineProperty(a(r),"client",{value:a(r)})),r}return l(u,c),r(u,[{key:"setup",value:function(e){this.name=e.name,Object.defineProperty(this,"token",{value:e.token,writable:!0,configurable:!0}),this.avatar=e.avatar,this.id=e.id,this.guildID=e.guild_id,this.channelID=e.channel_id,e.user?this.owner=this.client.users?this.client.users.get(e.user.id):e.user:this.owner=null}},{key:"send",value:function(n,i){var r=this;if(i||"object"!==t(n)||n instanceof Array?i||(i={}):(i=n,n=""),i instanceof d&&(i={files:[i]}),i instanceof p&&(i={embeds:[i]}),n){n=this.client.resolver.resolveString(n);var{split:o,code:s,disableEveryone:a}=i;o&&"object"!==t(o)&&(o={}),void 0===s||"boolean"==typeof s&&!0!==s||(n=h.escapeMarkdown(n,!0),n="```".concat("boolean"!=typeof s&&s||"","\n").concat(n,"\n```"),o&&(o.prepend="```".concat("boolean"!=typeof s&&s||"","\n"),o.append="\n```")),(a||void 0===a&&this.client.options.disableEveryone)&&(n=n.replace(/@(everyone|here)/g,"@$1")),o&&(n=h.splitMessage(n,o))}if(i.file&&(i.files?i.files.push(i.file):i.files=[i.file]),i.embeds){var l,u=[];for(var c of i.embeds)c.file&&u.push(c.file);i.files?(l=i.files).push.apply(l,u):i.files=u}if(i.embeds&&(i.embeds=i.embeds.map(function(e){return new p(e)._apiTransform()})),i.files){for(var b=0;b<i.files.length;b++){var m=i.files[b];("string"==typeof m||e.isBuffer(m))&&(m={attachment:m}),m.name?m instanceof d&&(m=m.file):"string"==typeof m.attachment?m.name=f.basename(m.attachment):m.attachment&&m.attachment.path?m.name=f.basename(m.attachment.path):m instanceof d?m={attachment:m.file,name:f.basename(m.file)||"file.jpg"}:m.name="file.jpg",i.files[b]=m}return Promise.all(i.files.map(function(e){return r.client.resolver.resolveFile(e.attachment).then(function(t){return e.file=t,e})})).then(function(e){return r.client.rest.methods.sendWebhookMessage(r,n,i,e)})}return this.client.rest.methods.sendWebhookMessage(this,n,i)}},{key:"sendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send(e,t)}},{key:"sendFile",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.send(n,Object.assign(i,{file:{attachment:e,name:t}}))}},{key:"sendCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send(t,Object.assign(n,{code:e}))}},{key:"sendSlackMessage",value:function(e){return this.client.rest.methods.sendSlackWebhookMessage(this,e)}},{key:"edit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,n=arguments.length>1?arguments[1]:void 0;return n?this.client.resolver.resolveImage(n).then(function(n){return e.client.rest.methods.editWebhook(e,t,n)}):this.client.rest.methods.editWebhook(this,t)}},{key:"delete",value:function(e){return this.client.rest.methods.deleteWebhook(this,e)}}]),u}();module.exports=b;
},{"events":"FRpO","path":"UUq2","../util/Util":"kFkP","./Attachment":"GZWo","./RichEmbed":"IEkm","buffer":"dskh"}],"m5Tg":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=function(){function t(n,i){e(this,t),this.user=n,this.setup(i)}return n(t,[{key:"setup",value:function(e){this.type=e.type,this.name=e.name,this.id=e.id,this.revoked=e.revoked,this.integrations=e.integrations}}]),t}();module.exports=i;
},{}],"HtVt":[function(require,module,exports) {
function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var n=require("../util/Collection"),u=require("./UserConnection"),r=function(){function i(t,u){e(this,i),this.user=t,Object.defineProperty(this,"client",{value:t.client}),this.mutualGuilds=new n,this.connections=new n,this.setup(u)}return t(i,[{key:"setup",value:function(e){for(var i of(this.premium=e.premium,this.premiumSince=e.premium_since?new Date(e.premium_since):null,e.mutual_guilds))this.client.guilds.has(i.id)&&this.mutualGuilds.set(i.id,this.client.guilds.get(i.id));for(var t of e.connected_accounts)this.connections.set(t.id,new u(this.user,t))}}]),i}();module.exports=r;
},{"../util/Collection":"QMEy","./UserConnection":"m5Tg"}],"F7Mg":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}var r=require("../util/Snowflake"),n=require("util"),o=function(){function e(i,r){t(this,e),Object.defineProperty(this,"client",{value:i}),this.setup(r)}return i(e,[{key:"setup",value:function(t){this.id=t.id,this.name=t.name,this.description=t.description,this.icon=t.icon,this.iconURL="https://cdn.discordapp.com/app-icons/".concat(this.id,"/").concat(this.icon,".jpg"),this.rpcOrigins=t.rpc_origins,this.redirectURIs=t.redirect_uris,this.botRequireCodeGrant=t.bot_require_code_grant,this.botPublic=t.bot_public,this.rpcApplicationState=t.rpc_application_state,this.bot=t.bot,this.flags=t.flags,this.secret=t.secret,t.owner&&(this.owner=this.client.dataManager.newUser(t.owner))}},{key:"reset",value:function(){return this.client.rest.methods.resetApplication(this.id)}},{key:"toString",value:function(){return this.name}},{key:"createdTimestamp",get:function(){return r.deconstruct(this.id).timestamp}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}}]),e}();o.prototype.reset=n.deprecate(o.prototype.reset,"OAuth2Application#reset: userbot methods will be removed"),module.exports=o;
},{"../util/Snowflake":"Jr6I","util":"gfUn"}],"vnRV":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?r(t):n}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=u(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./Channel"),p=require("./interfaces/TextBasedChannel"),y=require("../util/Collection"),h=require("../util/Constants"),v=function(e){function n(e,i){var r;return t(this,n),(r=o(this,c(n).call(this,e,i))).type="group",r.messages=new y,r._typing=new Map,r}return a(n,f),i(n,[{key:"setup",value:function(e){if(s(c(n.prototype),"setup",this).call(this,e),this.name=e.name,this.icon=e.icon,this.ownerID=e.owner_id,this.managed=e.managed,this.applicationID=e.application_id,e.nicks&&(this.nicks=new y(e.nicks.map(function(e){return[e.id,e.nick]}))),this.recipients||(this.recipients=new y),e.recipients)for(var t of e.recipients){var i=this.client.dataManager.newUser(t);this.recipients.set(i.id,i)}this.lastMessageID=e.last_message_id,this.lastPinTimestamp=e.last_pin_timestamp?new Date(e.last_pin_timestamp).getTime():null}},{key:"edit",value:function(e){var t={};return e.name&&(t.name=e.name),void 0!==e.icon&&(t.icon=e.icon),this.client.rest.methods.updateGroupDMChannel(this,t)}},{key:"equals",value:function(e){var t=e&&this.id===e.id&&this.name===e.name&&this.icon===e.icon&&this.ownerID===e.ownerID;return t?this.recipients.equals(e.recipients):t}},{key:"addUser",value:function(e,t){return this.client.rest.methods.addUserToGroupDM(this,{nick:t,id:this.client.resolver.resolveUserID(e),accessToken:e})}},{key:"setIcon",value:function(e){var t=this;return this.client.resolver.resolveImage(e).then(function(e){return t.edit({icon:e})})}},{key:"setName",value:function(e){return this.edit({name:e})}},{key:"removeUser",value:function(e){var t=this.client.resolver.resolveUserID(e);return this.client.rest.methods.removeUserFromGroupDM(this,t)}},{key:"toString",value:function(){return this.name}},{key:"send",value:function(){}},{key:"sendMessage",value:function(){}},{key:"sendEmbed",value:function(){}},{key:"sendFile",value:function(){}},{key:"sendFiles",value:function(){}},{key:"sendCode",value:function(){}},{key:"fetchMessage",value:function(){}},{key:"fetchMessages",value:function(){}},{key:"fetchPinnedMessages",value:function(){}},{key:"search",value:function(){}},{key:"startTyping",value:function(){}},{key:"stopTyping",value:function(){}},{key:"createCollector",value:function(){}},{key:"createMessageCollector",value:function(){}},{key:"awaitMessages",value:function(){}},{key:"acknowledge",value:function(){}},{key:"_cacheMessage",value:function(){}},{key:"owner",get:function(){return this.client.users.get(this.ownerID)}},{key:"iconURL",get:function(){return this.icon?h.Endpoints.Channel(this).Icon(this.client.options.http.cdn,this.icon):null}},{key:"lastPinAt",get:function(){}},{key:"typing",get:function(){}},{key:"typingCount",get:function(){}}]),n}();p.applyToClass(v,!0,["bulkDelete"]),module.exports=v;
},{"./Channel":"gHxX","./interfaces/TextBasedChannel":"yhxh","../util/Collection":"QMEy","../util/Constants":"TQBg"}],"Q1Yg":[function(require,module,exports) {
function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var i=function i(s){t(this,i),this.id=s.id,this.name=s.name,this.vip=s.vip,this.deprecated=s.deprecated,this.optimal=s.optimal,this.custom=s.custom,this.sampleHostname=s.sample_hostname};module.exports=i;
},{}],"SG3v":[function(require,module,exports) {
function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function t(n,i,r){return(t=e()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&E(r,n.prototype),r}).apply(null,arguments)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var E=0;E<t.length;E++){var n=t[E];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,E){return t&&i(e.prototype,t),E&&i(e,E),e}var o=require("../util/Collection"),s=require("../util/Snowflake"),a=require("./Webhook"),c=require("./Invite"),u={ALL:"ALL",GUILD:"GUILD",CHANNEL:"CHANNEL",USER:"USER",ROLE:"ROLE",INVITE:"INVITE",WEBHOOK:"WEBHOOK",EMOJI:"EMOJI",MESSAGE:"MESSAGE"},_={ALL:null,GUILD_UPDATE:1,CHANNEL_CREATE:10,CHANNEL_UPDATE:11,CHANNEL_DELETE:12,CHANNEL_OVERWRITE_CREATE:13,CHANNEL_OVERWRITE_UPDATE:14,CHANNEL_OVERWRITE_DELETE:15,MEMBER_KICK:20,MEMBER_PRUNE:21,MEMBER_BAN_ADD:22,MEMBER_BAN_REMOVE:23,MEMBER_UPDATE:24,MEMBER_ROLE_UPDATE:25,ROLE_CREATE:30,ROLE_UPDATE:31,ROLE_DELETE:32,INVITE_CREATE:40,INVITE_UPDATE:41,INVITE_DELETE:42,WEBHOOK_CREATE:50,WEBHOOK_UPDATE:51,WEBHOOK_DELETE:52,EMOJI_CREATE:60,EMOJI_UPDATE:61,EMOJI_DELETE:62,MESSAGE_DELETE:72},l=function(){function e(t,E){if(n(this,e),E.users)for(var i of E.users)t.client.dataManager.newUser(i);if(this.webhooks=new o,E.webhooks)for(var r of E.webhooks)this.webhooks.set(r.id,new a(t.client,r));for(var s of(this.entries=new o,E.audit_log_entries)){var c=new T(this,t,s);this.entries.set(c.id,c)}}return r(e,null,[{key:"build",value:function(){for(var E=arguments.length,n=new Array(E),i=0;i<E;i++)n[i]=arguments[i];var r=t(e,n);return Promise.all(r.entries.map(function(e){return e.target})).then(function(){return r})}},{key:"targetType",value:function(e){return e<10?u.GUILD:e<20?u.CHANNEL:e<30?u.USER:e<40?u.ROLE:e<50?u.INVITE:e<60?u.WEBHOOK:e<70?u.EMOJI:e<80?u.MESSAGE:null}},{key:"actionType",value:function(e){return[_.CHANNEL_CREATE,_.CHANNEL_OVERWRITE_CREATE,_.MEMBER_BAN_REMOVE,_.ROLE_CREATE,_.INVITE_CREATE,_.WEBHOOK_CREATE,_.EMOJI_CREATE].includes(e)?"CREATE":[_.CHANNEL_DELETE,_.CHANNEL_OVERWRITE_DELETE,_.MEMBER_KICK,_.MEMBER_PRUNE,_.MEMBER_BAN_ADD,_.ROLE_DELETE,_.INVITE_DELETE,_.WEBHOOK_DELETE,_.EMOJI_DELETE,_.MESSAGE_DELETE].includes(e)?"DELETE":[_.GUILD_UPDATE,_.CHANNEL_UPDATE,_.CHANNEL_OVERWRITE_UPDATE,_.MEMBER_UPDATE,_.MEMBER_ROLE_UPDATE,_.ROLE_UPDATE,_.INVITE_UPDATE,_.WEBHOOK_UPDATE,_.EMOJI_UPDATE].includes(e)?"UPDATE":"ALL"}}]),e}(),T=function(){function e(t,E,i){n(this,e);var r=l.targetType(i.action_type);if(this.targetType=r,this.actionType=l.actionType(i.action_type),this.action=Object.keys(_).find(function(e){return _[e]===i.action_type}),this.reason=i.reason||null,this.executor=E.client.users.get(i.user_id),this.changes=i.changes?i.changes.map(function(e){return{key:e.key,old:e.old_value,new:e.new_value}}):null,this.id=i.id,this.extra=null,i.options)if(i.action_type===_.MEMBER_PRUNE)this.extra={removed:i.options.members_removed,days:i.options.delete_member_days};else if(i.action_type===_.MESSAGE_DELETE)this.extra={count:i.options.count,channel:E.channels.get(i.options.channel_id)};else switch(i.options.type){case"member":this.extra=E.members.get(i.options.id),this.extra||(this.extra={id:i.options.id});break;case"role":this.extra=E.roles.get(i.options.id),this.extra||(this.extra={id:i.options.id,name:i.options.role_name})}if([u.USER,u.GUILD].includes(r))this.target=E.client["".concat(r.toLowerCase(),"s")].get(i.target_id);else if(r===u.WEBHOOK)this.target=t.webhooks.get(i.target_id)||new a(E.client,this.changes.reduce(function(e,t){return e[t.key]=t.new||t.old,e},{id:i.target_id,guild_id:E.id}));else if(r===u.INVITE){var o=this.changes.reduce(function(e,t){return e[t.key]=t.new||t.old,e},{id:i.target_id,guild:E});o.channel={id:o.channel_id},this.target=new c(E.client,o)}else r===u.MESSAGE?this.target=E.client.users.get(i.target_id):this.target=E["".concat(r.toLowerCase(),"s")].get(i.target_id)}return r(e,[{key:"createdTimestamp",get:function(){return s.deconstruct(this.id).timestamp}},{key:"createdAt",get:function(){return new Date(this.createdTimestamp)}}]),e}();l.Actions=_,l.Targets=u,l.Entry=T,module.exports=l;
},{"../util/Collection":"QMEy","../util/Snowflake":"Jr6I","./Webhook":"jucJ","./Invite":"YTTt"}],"kiFP":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var r=require("querystring"),s=require("long"),o=require("../../util/Permissions"),a=require("../../util/Constants"),u=a.Endpoints,l=require("../../util/Collection"),c=require("../../util/Util"),d=require("../../structures/shared/resolvePermissions"),h=require("../../structures/RichEmbed"),v=require("../../structures/User"),m=require("../../structures/GuildMember"),f=require("../../structures/Message"),k=require("../../structures/Role"),p=require("../../structures/Invite"),g=require("../../structures/Webhook"),y=require("../../structures/UserProfile"),R=require("../../structures/OAuth2Application"),b=require("../../structures/Channel"),q=require("../../structures/GroupDMChannel"),E=require("../../structures/Guild"),_=require("../../structures/VoiceRegion"),G=require("../../structures/GuildAuditLogs"),M=function(){function n(e){t(this,n),this.rest=e,this.client=e.client,this._ackToken=null}return i(n,[{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.client.token;return new Promise(function(n,i){if(!t||"string"!=typeof t)throw new Error(a.Errors.INVALID_TOKEN);t=t.replace(/^Bot\s*/i,""),e.client.manager.connectToWebSocket(t,n,i)}).catch(function(t){return e.client.destroy(),Promise.reject(t)})}},{key:"logout",value:function(){return this.rest.makeRequest("post",u.logout,!0,{})}},{key:"getGateway",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.rest.makeRequest("get",e?u.gateway.bot:u.gateway,!0)}},{key:"fetchVoiceRegions",value:function(e){var t;return t=e?u.Guild(e).voiceRegions:u.voiceRegions,this.rest.makeRequest("get",t,!0).then(function(e){var t=new l;for(var n of e)t.set(n.id,new _(n));return t})}},{key:"fetchEmbed",value:function(e){var t=this;return this.rest.makeRequest("get",u.Guild(e).embed,!0).then(function(e){return{enabled:e.enabled,channel:e.channel_id?t.client.channels.get(e.channel_id):null}})}},{key:"sendMessage",value:function(t,n){var i=this,{tts:r,nonce:s,embed:o,disableEveryone:a,split:l,code:d,reply:h}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(k,p){if(void 0!==n&&(n=i.client.resolver.resolveString(n)),void 0!==s&&(s=parseInt(s),isNaN(s)||s<0))throw new RangeError("Message nonce must fit in an unsigned 64-bit integer.");if(n){if(l&&"object"!==e(l)&&(l={}),void 0===d||"boolean"==typeof d&&!0!==d||(n=c.escapeMarkdown(i.client.resolver.resolveString(n),!0),n="```".concat("boolean"!=typeof d&&d||"","\n").concat(n,"\n```"),l&&(l.prepend="```".concat("boolean"!=typeof d&&d||"","\n"),l.append="\n```")),(a||void 0===a&&i.client.options.disableEveryone)&&(n=n.replace(/@(everyone|here)/g,"@$1")),h&&!(t instanceof v||t instanceof m)&&"dm"!==t.type){var g=i.client.resolver.resolveUserID(h),y="<@".concat(h instanceof m&&h.nickname?"!":"").concat(g,">");n="".concat(y).concat(n?", ".concat(n):""),l&&(l.prepend="".concat(y,", ").concat(l.prepend||""))}l&&(n=c.splitMessage(n,l))}else if(h&&!(t instanceof v||t instanceof m)&&"dm"!==t.type){var R=i.client.resolver.resolveUserID(h);n="<@".concat(h instanceof m&&h.nickname?"!":"").concat(R,">")}var b=function(e){if(n instanceof Array){var t=[];!function n(i,s){var a=s===i.length-1?{tts:r,embed:o,files:f}:{tts:r};e.send(i[s],a).then(function(e){return t.push(e),s>=i.length-1?k(t):n(i,++s)}).catch(p)}(n,0)}else i.rest.makeRequest("post",u.Channel(e).messages,!0,{content:n,tts:r,nonce:s,embed:o},f).then(function(e){return k(i.client.actions.MessageCreate.handle(e).message)},p)};t instanceof v||t instanceof m?i.createDM(t).then(b,p):b(t)})}},{key:"updateMessage",value:function(e,t){var n=this,{embed:i,code:r,reply:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0!==t&&(t=this.client.resolver.resolveString(t)),void 0===r||"boolean"==typeof r&&!0!==r||(t=c.escapeMarkdown(this.client.resolver.resolveString(t),!0),t="```".concat("boolean"!=typeof r&&r||"","\n").concat(t,"\n```")),s&&"dm"!==e.channel.type){var o=this.client.resolver.resolveUserID(s),a="<@".concat(s instanceof m&&s.nickname?"!":"").concat(o,">");t="".concat(a).concat(t?", ".concat(t):"")}return i instanceof h&&(i=i._apiTransform()),this.rest.makeRequest("patch",u.Message(e),!0,{content:t,embed:i}).then(function(e){return n.client.actions.MessageUpdate.handle(e).updated})}},{key:"deleteMessage",value:function(e){var t=this;return this.rest.makeRequest("delete",u.Message(e),!0).then(function(){return t.client.actions.MessageDelete.handle({id:e.id,channel_id:e.channel.id}).message})}},{key:"ackMessage",value:function(e){var t=this;return this.rest.makeRequest("post",u.Message(e).ack,!0,{token:this._ackToken}).then(function(n){return n.token&&(t._ackToken=n.token),e})}},{key:"ackTextChannel",value:function(e){var t=this;return this.rest.makeRequest("post",u.Channel(e).Message(e.lastMessageID).ack,!0,{token:this._ackToken}).then(function(n){return n.token&&(t._ackToken=n.token),e})}},{key:"ackGuild",value:function(e){return this.rest.makeRequest("post",u.Guild(e).ack,!0).then(function(){return e})}},{key:"bulkDeleteMessages",value:function(e,t){var n=this;return this.rest.makeRequest("post",u.Channel(e).messages.bulkDelete,!0,{messages:t}).then(function(){return n.client.actions.MessageDeleteBulk.handle({channel_id:e.id,ids:t}).messages})}},{key:"search",value:function(e,t){var n=this;if("string"==typeof t&&(t={content:t}),t.before&&(t.before instanceof Date||(t.before=new Date(t.before)),t.maxID=s.fromNumber(t.before.getTime()-14200704e5).shiftLeft(22).toString()),t.after&&(t.after instanceof Date||(t.after=new Date(t.after)),t.minID=s.fromNumber(t.after.getTime()-14200704e5).shiftLeft(22).toString()),t.during){t.during instanceof Date||(t.during=new Date(t.during));var i=t.during.getTime()-14200704e5;t.minID=s.fromNumber(i).shiftLeft(22).toString(),t.maxID=s.fromNumber(i+864e5).shiftLeft(22).toString()}for(var o in t.channel&&(t.channel=this.client.resolver.resolveChannelID(t.channel)),t.author&&(t.author=this.client.resolver.resolveUserID(t.author)),t.mentions&&(t.mentions=this.client.resolver.resolveUserID(t.options.mentions)),t={content:t.content,max_id:t.maxID,min_id:t.minID,has:t.has,channel_id:t.channel,author_id:t.author,author_type:t.authorType,context_size:t.contextSize,sort_by:t.sortBy,sort_order:t.sortOrder,limit:t.limit,offset:t.offset,mentions:t.mentions,mentions_everyone:t.mentionsEveryone,link_hostname:t.linkHostname,embed_provider:t.embedProvider,embed_type:t.embedType,attachment_filename:t.attachmentFilename,attachment_extension:t.attachmentExtension,include_nsfw:t.nsfw})void 0===t[o]&&delete t[o];var a,l=(r.stringify(t).match(/[^=&?]+=[^=&?]+/g)||[]).join("&");if(e instanceof b)a=u.Channel(e).search;else{if(!(e instanceof E))throw new TypeError("Target must be a TextChannel, DMChannel, GroupDMChannel, or Guild.");a=u.Guild(e).search}return this.rest.makeRequest("get","".concat(a,"?").concat(l),!0).then(function(e){var t=e.messages.map(function(e){return e.map(function(e){return new f(n.client.channels.get(e.channel_id),e,n.client)})});return{totalResults:e.total_results,messages:t}})}},{key:"createChannel",value:function(e,t,n){var i=this,{type:r,topic:s,nsfw:o,bitrate:l,userLimit:c,parent:h,permissionOverwrites:v,position:m,rateLimitPerUser:f,reason:k}=n;return this.rest.makeRequest("post",u.Guild(e).channels,!0,{name:t,topic:s,type:r?a.ChannelTypes[r.toUpperCase()]:"text",nsfw:o,bitrate:l,user_limit:c,parent_id:h instanceof b?h.id:h,permission_overwrites:d.call(this,v,e),position:m,rate_limit_per_user:f},void 0,k).then(function(e){return i.client.actions.ChannelCreate.handle(e).channel})}},{key:"createDM",value:function(e){var t=this,n=this.getExistingDM(e);return n?Promise.resolve(n):this.rest.makeRequest("post",u.User(this.client.user).channels,!0,{recipient_id:e.id}).then(function(e){return t.client.actions.ChannelCreate.handle(e).channel})}},{key:"createGroupDM",value:function(e){var t=this,n=this.client.user.bot?{access_tokens:e.accessTokens,nicks:e.nicks}:{recipients:e.recipients};return this.rest.makeRequest("post",u.User("@me").channels,!0,n).then(function(e){return new q(t.client,e)})}},{key:"addUserToGroupDM",value:function(e,t){var n=this.client.user.bot?{nick:t.nick,access_token:t.accessToken}:{recipient:t.id};return this.rest.makeRequest("put",u.Channel(e).Recipient(t.id),!0,n).then(function(){return e})}},{key:"removeUserFromGroupDM",value:function(e,t){return this.rest.makeRequest("delete",u.Channel(e).Recipient(t),!0).then(function(){return e})}},{key:"updateGroupDMChannel",value:function(e,t){var n={};return n.name=t.name,n.icon=t.icon,this.rest.makeRequest("patch",u.Channel(e),!0,n).then(function(){return e})}},{key:"getExistingDM",value:function(e){return this.client.channels.find(function(t){return t.recipient&&t.recipient.id===e.id})}},{key:"deleteChannel",value:function(e,t){var n=this;return(e instanceof v||e instanceof m)&&(e=this.getExistingDM(e)),e?this.rest.makeRequest("delete",u.Channel(e),!0,void 0,void 0,t).then(function(t){return t.id=e.id,n.client.actions.ChannelDelete.handle(t).channel}):Promise.reject(new Error("No channel to delete."))}},{key:"updateChannel",value:function(e,t,n){var i=this,r={};return r.name=(t.name||e.name).trim(),r.topic=void 0===t.topic?e.topic:t.topic,r.nsfw=void 0===t.nsfw?e.nsfw:t.nsfw,r.position=t.position||e.position,r.bitrate=t.bitrate||(e.bitrate?1e3*e.bitrate:void 0),r.user_limit=void 0!==t.userLimit?t.userLimit:e.userLimit,r.parent_id=t.parent instanceof b?t.parent.id:t.parent,r.permission_overwrites=t.permissionOverwrites?d.call(this,t.permissionOverwrites,e.guild):void 0,r.rate_limit_per_user=void 0!==t.rateLimitPerUser?t.rateLimitPerUser:e.rateLimitPerUser,this.rest.makeRequest("patch",u.Channel(e),!0,r,void 0,n).then(function(e){return i.client.actions.ChannelUpdate.handle(e).updated})}},{key:"leaveGuild",value:function(e){var t=this;return e.ownerID===this.client.user.id?Promise.reject(new Error("Guild is owned by the client.")):this.rest.makeRequest("delete",u.User("@me").Guild(e.id),!0).then(function(){return t.client.actions.GuildDelete.handle({id:e.id}).guild})}},{key:"createGuild",value:function(e){var t=this;return e.icon=this.client.resolver.resolveBase64(e.icon)||null,e.region=e.region||"us-central",new Promise(function(n,i){t.rest.makeRequest("post",u.guilds,!0,e).then(function(e){if(t.client.guilds.has(e.id))return n(t.client.guilds.get(e.id));var r=function(i){i.id===e.id&&(t.client.removeListener(a.Events.GUILD_CREATE,r),t.client.clearTimeout(s),n(i))};t.client.on(a.Events.GUILD_CREATE,r);var s=t.client.setTimeout(function(){t.client.removeListener(a.Events.GUILD_CREATE,r),i(new Error("Took too long to receive guild data."))},1e4)},i)})}},{key:"deleteGuild",value:function(e){var t=this;return this.rest.makeRequest("delete",u.Guild(e),!0).then(function(){return t.client.actions.GuildDelete.handle({id:e.id}).guild})}},{key:"getUser",value:function(e,t){var n=this;return this.rest.makeRequest("get",u.User(e),!0).then(function(e){return t?n.client.actions.UserGet.handle(e).user:new v(n.client,e)})}},{key:"updateCurrentUser",value:function(e,t){var n=this,i=this.client.user,r={};return r.username=e.username||i.username,r.avatar=void 0===e.avatar?i.avatar:this.client.resolver.resolveBase64(e.avatar),i.bot||(r.email=e.email||i.email,r.password=t,e.new_password&&(r.new_password=e.newPassword)),this.rest.makeRequest("patch",u.User("@me"),!0,r).then(function(e){return n.client.actions.UserUpdate.handle(e).updated})}},{key:"updateGuild",value:function(e,t,n){var i=this;return this.rest.makeRequest("patch",u.Guild(e),!0,t,void 0,n).then(function(e){return i.client.actions.GuildUpdate.handle(e).updated})}},{key:"kickGuildMember",value:function(e,t,n){return this.rest.makeRequest("delete",u.Guild(e).Member(t),!0,void 0,void 0,n).then(function(){return t})}},{key:"createGuildRole",value:function(e,t,n){var i=this;return t.color&&(t.color=this.client.resolver.resolveColor(t.color)),t.permissions&&(t.permissions=o.resolve(t.permissions)),this.rest.makeRequest("post",u.Guild(e).roles,!0,t,void 0,n).then(function(r){var{role:s}=i.client.actions.GuildRoleCreate.handle({guild_id:e.id,role:r});return t.position?s.setPosition(t.position,n):s})}},{key:"deleteGuildRole",value:function(e,t){var n=this;return this.rest.makeRequest("delete",u.Guild(e.guild).Role(e.id),!0,void 0,void 0,t).then(function(){return n.client.actions.GuildRoleDelete.handle({guild_id:e.guild.id,role_id:e.id}).role})}},{key:"setChannelOverwrite",value:function(e,t){return this.rest.makeRequest("put","".concat(u.Channel(e).permissions,"/").concat(t.id),!0,t)}},{key:"deletePermissionOverwrites",value:function(e,t){return this.rest.makeRequest("delete","".concat(u.Channel(e.channel).permissions,"/").concat(e.id),!0,void 0,void 0,t).then(function(){return e})}},{key:"getChannelMessages",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];t.limit&&n.push("limit=".concat(t.limit)),t.around?n.push("around=".concat(t.around)):t.before?n.push("before=".concat(t.before)):t.after&&n.push("after=".concat(t.after));var i=u.Channel(e).messages;return n.length>0&&(i+="?".concat(n.join("&"))),this.rest.makeRequest("get",i,!0)}},{key:"getChannelMessage",value:function(e,t){var n=e.messages.get(t);return n?Promise.resolve(n):this.rest.makeRequest("get",u.Channel(e).Message(t),!0)}},{key:"putGuildMember",value:function(e,t,n){var i=this;if(n.access_token=n.accessToken,n.roles){var r=n.roles;(r instanceof l||r instanceof Array&&r[0]instanceof k)&&(n.roles=r.map(function(e){return e.id}))}return this.rest.makeRequest("put",u.Guild(e).Member(t),!0,n).then(function(t){return i.client.actions.GuildMemberGet.handle(e,t).member})}},{key:"getGuildMember",value:function(e,t,n){var i=this;return this.rest.makeRequest("get",u.Guild(e).Member(t.id),!0).then(function(t){return n?i.client.actions.GuildMemberGet.handle(e,t).member:new m(e,t)})}},{key:"updateGuildMember",value:function(e,t,n){if(t.channel){var i=this.client.resolver.resolveChannel(t.channel);if(!i||i.guild.id!==e.guild.id||"voice"!==i.type)return Promise.reject(new Error("Could not resolve channel to a guild voice channel."));t.channel_id=i.id,t.channel=void 0}else null===t.channel&&(t.channel_id=null,t.channel=void 0);t.roles&&(t.roles=t.roles.map(function(e){return e instanceof k?e.id:e}));var r=u.Member(e);if(e.id===this.client.user.id){var s=Object.keys(t);1===s.length&&"nick"===s[0]&&(r=u.Member(e).nickname)}return this.rest.makeRequest("patch",r,!0,t,void 0,n).then(function(t){return e.guild._updateMember(e,t).mem})}},{key:"addMemberRole",value:function(e,t,n){var i=this;return new Promise(function(r,s){if(e._roles.includes(t.id))return r(e);var o=function(n,s){s.id===e.id&&!n._roles.includes(t.id)&&s._roles.includes(t.id)&&(i.client.removeListener(a.Events.GUILD_MEMBER_UPDATE,o),r(s))};i.client.on(a.Events.GUILD_MEMBER_UPDATE,o);var l=i.client.setTimeout(function(){i.client.removeListener(a.Events.GUILD_MEMBER_UPDATE,o),s(new Error("Adding the role timed out."))},1e4);return i.rest.makeRequest("put",u.Member(e).Role(t.id),!0,void 0,void 0,n).catch(function(e){i.client.removeListener(a.Events.GUILD_MEMBER_UPDATE,o),i.client.clearTimeout(l),s(e)})})}},{key:"removeMemberRole",value:function(e,t,n){var i=this;return new Promise(function(r,s){if(!e._roles.includes(t.id))return r(e);var o=function(n,s){s.id===e.id&&n._roles.includes(t.id)&&!s._roles.includes(t.id)&&(i.client.removeListener(a.Events.GUILD_MEMBER_UPDATE,o),r(s))};i.client.on(a.Events.GUILD_MEMBER_UPDATE,o);var l=i.client.setTimeout(function(){i.client.removeListener(a.Events.GUILD_MEMBER_UPDATE,o),s(new Error("Removing the role timed out."))},1e4);return i.rest.makeRequest("delete",u.Member(e).Role(t.id),!0,void 0,void 0,n).catch(function(e){i.client.removeListener(a.Events.GUILD_MEMBER_UPDATE,o),i.client.clearTimeout(l),s(e)})})}},{key:"sendTyping",value:function(e){return this.rest.makeRequest("post",u.Channel(e).typing,!0)}},{key:"banGuildMember",value:function(e,t,n){var i=this,s=this.client.resolver.resolveUserID(t);if(!s)return Promise.reject(new Error("Couldn't resolve the user ID to ban."));var o="".concat(u.Guild(e).bans,"/").concat(s,"?").concat(r.stringify(n));return this.rest.makeRequest("put",o,!0).then(function(){if(t instanceof m)return t;var n=i.client.resolver.resolveUser(s);return n?(t=i.client.resolver.resolveGuildMember(e,n))||n:s})}},{key:"unbanGuildMember",value:function(e,t,n){var i=this;return new Promise(function(r,s){var o=i.client.resolver.resolveUserID(t);if(!o)throw new Error("Couldn't resolve the user ID to unban.");var l=function(t,n){t.id===e.id&&n.id===o&&(i.client.removeListener(a.Events.GUILD_BAN_REMOVE,l),i.client.clearTimeout(c),r(n))};i.client.on(a.Events.GUILD_BAN_REMOVE,l);var c=i.client.setTimeout(function(){i.client.removeListener(a.Events.GUILD_BAN_REMOVE,l),s(new Error("Took too long to receive the ban remove event."))},1e4);i.rest.makeRequest("delete","".concat(u.Guild(e).bans,"/").concat(o),!0,void 0,void 0,n).catch(function(e){i.client.removeListener(a.Events.GUILD_BAN_REMOVE,l),i.client.clearTimeout(c),s(e)})})}},{key:"getGuildBan",value:function(e,t){var n=this,i=this.client.resolver.resolveUserID(t);return this.rest.makeRequest("get","".concat(u.Guild(e).bans,"/").concat(i),!0).then(function(e){return{reason:e.reason,user:n.client.dataManager.newUser(e.user)}})}},{key:"getGuildBans",value:function(e){var t=this;return this.rest.makeRequest("get",u.Guild(e).bans,!0).then(function(e){return e.reduce(function(e,n){return e.set(n.user.id,{reason:n.reason,user:t.client.dataManager.newUser(n.user)}),e},new l)})}},{key:"updateGuildRole",value:function(e,t,n){var i=this,r={};return r.name=t.name||e.name,r.position=void 0!==t.position?t.position:e.position,r.color=null===t.color?null:this.client.resolver.resolveColor(t.color||e.color),r.hoist=void 0!==t.hoist?t.hoist:e.hoist,r.mentionable=void 0!==t.mentionable?t.mentionable:e.mentionable,void 0!==t.permissions?r.permissions=o.resolve(t.permissions):r.permissions=e.permissions,this.rest.makeRequest("patch",u.Guild(e.guild).Role(e.id),!0,r,void 0,n).then(function(t){return i.client.actions.GuildRoleUpdate.handle({role:t,guild_id:e.guild.id}).updated})}},{key:"pinMessage",value:function(e){return this.rest.makeRequest("put",u.Channel(e.channel).Pin(e.id),!0).then(function(){return e})}},{key:"unpinMessage",value:function(e){return this.rest.makeRequest("delete",u.Channel(e.channel).Pin(e.id),!0).then(function(){return e})}},{key:"getChannelPinnedMessages",value:function(e){return this.rest.makeRequest("get",u.Channel(e).pins,!0)}},{key:"createChannelInvite",value:function(e,t,n){var i=this,r={};return r.temporary=t.temporary,r.max_age=t.maxAge,r.max_uses=t.maxUses,r.unique=t.unique,this.rest.makeRequest("post",u.Channel(e).invites,!0,r,void 0,n).then(function(e){return new p(i.client,e)})}},{key:"deleteInvite",value:function(e,t){return this.rest.makeRequest("delete",u.Invite(e.code),!0,void 0,void 0,t).then(function(){return e})}},{key:"getInvite",value:function(e){var t=this;return this.rest.makeRequest("get",u.Invite(e),!0).then(function(e){return new p(t.client,e)})}},{key:"getGuildInvites",value:function(e){var t=this;return this.rest.makeRequest("get",u.Guild(e).invites,!0).then(function(e){var n=new l;for(var i of e){var r=new p(t.client,i);n.set(r.code,r)}return n})}},{key:"getGuildVanityCode",value:function(e){return this.rest.makeRequest("get",u.Guild(e).vanityURL,!0).then(function(e){return e.code})}},{key:"pruneGuildMembers",value:function(e,t,n,i){return this.rest.makeRequest(n?"get":"post","".concat(u.Guild(e).prune,"?days=").concat(t),!0,void 0,void 0,i).then(function(e){return e.pruned})}},{key:"createEmoji",value:function(e,t,n,i,r){var s=this,o={image:t,name:n};return i&&(o.roles=i.map(function(e){return e.id?e.id:e})),this.rest.makeRequest("post",u.Guild(e).emojis,!0,o,void 0,r).then(function(t){return s.client.actions.GuildEmojiCreate.handle(e,t).emoji})}},{key:"updateEmoji",value:function(e,t,n){var i=this,r={};return t.name&&(r.name=t.name),t.roles&&(r.roles=t.roles.map(function(e){return e.id?e.id:e})),this.rest.makeRequest("patch",u.Guild(e.guild).Emoji(e.id),!0,r,void 0,n).then(function(t){return i.client.actions.GuildEmojiUpdate.handle(e,t).emoji})}},{key:"deleteEmoji",value:function(e,t){var n=this;return this.rest.makeRequest("delete",u.Guild(e.guild).Emoji(e.id),!0,void 0,t).then(function(){return n.client.actions.GuildEmojiDelete.handle(e).data})}},{key:"getGuildAuditLogs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.before&&t.before instanceof G.Entry&&(t.before=t.before.id),t.after&&t.after instanceof G.Entry&&(t.after=t.after.id),"string"==typeof t.type&&(t.type=G.Actions[t.type]);var n=(r.stringify({before:t.before,after:t.after,limit:t.limit,user_id:this.client.resolver.resolveUserID(t.user),action_type:t.type}).match(/[^=&?]+=[^=&?]+/g)||[]).join("&");return this.rest.makeRequest("get","".concat(u.Guild(e).auditLogs,"?").concat(n),!0).then(function(t){return G.build(e,t)})}},{key:"getWebhook",value:function(e,t){var n=this;return this.rest.makeRequest("get",u.Webhook(e,t),!t).then(function(e){return new g(n.client,e)})}},{key:"getGuildWebhooks",value:function(e){var t=this;return this.rest.makeRequest("get",u.Guild(e).webhooks,!0).then(function(e){var n=new l;for(var i of e)n.set(i.id,new g(t.client,i));return n})}},{key:"getChannelWebhooks",value:function(e){var t=this;return this.rest.makeRequest("get",u.Channel(e).webhooks,!0).then(function(e){var n=new l;for(var i of e)n.set(i.id,new g(t.client,i));return n})}},{key:"createWebhook",value:function(e,t,n,i){var r=this;return this.rest.makeRequest("post",u.Channel(e).webhooks,!0,{name:t,avatar:n},void 0,i).then(function(e){return new g(r.client,e)})}},{key:"editWebhook",value:function(e,t,n){return this.rest.makeRequest("patch",u.Webhook(e.id,e.token),!1,{name:t,avatar:n}).then(function(t){return e.name=t.name,e.avatar=t.avatar,e})}},{key:"deleteWebhook",value:function(e,t){return this.rest.makeRequest("delete",u.Webhook(e.id,e.token),!1,void 0,void 0,t)}},{key:"sendWebhookMessage",value:function(e,t){var n=this,{avatarURL:i,tts:r,embeds:s,username:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(l,c){if(o=o||e.name,t instanceof Array){var d=[];!function t(n,i){var o=i===n.length-1?{tts:r,embeds:s,files:a}:{tts:r};e.send(n[i],o).then(function(e){return d.push(e),i>=n.length-1?l(d):t(n,++i)}).catch(c)}(t,0)}else n.rest.makeRequest("post","".concat(u.Webhook(e.id,e.token),"?wait=true"),!1,{username:o,avatar_url:i,content:t,tts:r,embeds:s},a).then(function(e){n.client.channels?l(n.client.actions.MessageCreate.handle(e).message):l(e)},c)})}},{key:"sendSlackWebhookMessage",value:function(e,t){return this.rest.makeRequest("post","".concat(u.Webhook(e.id,e.token),"/slack?wait=true"),!1,t)}},{key:"fetchUserProfile",value:function(e){return this.rest.makeRequest("get",u.User(e).profile,!0).then(function(t){return new y(e,t)})}},{key:"fetchMentions",value:function(e){var t=this;return e.guild instanceof E&&(e.guild=e.guild.id),c.mergeDefault({limit:25,roles:!0,everyone:!0,guild:null},e),this.rest.makeRequest("get",u.User("@me").Mentions(e.limit,e.roles,e.everyone,e.guild),!0).then(function(e){return e.map(function(e){return new f(t.client.channels.get(e.channel_id),e,t.client)})})}},{key:"addFriend",value:function(e){return this.rest.makeRequest("post",u.User("@me"),!0,{username:e.username,discriminator:e.discriminator}).then(function(){return e})}},{key:"removeFriend",value:function(e){return this.rest.makeRequest("delete",u.User("@me").Relationship(e.id),!0).then(function(){return e})}},{key:"blockUser",value:function(e){return this.rest.makeRequest("put",u.User("@me").Relationship(e.id),!0,{type:2}).then(function(){return e})}},{key:"unblockUser",value:function(e){return this.rest.makeRequest("delete",u.User("@me").Relationship(e.id),!0).then(function(){return e})}},{key:"updateChannelPositions",value:function(e,t){for(var n=this,i=new Array(t.length),r=0;r<t.length;r++)i[r]={id:this.client.resolver.resolveChannelID(t[r].channel),position:t[r].position};return this.rest.makeRequest("patch",u.Guild(e).channels,!0,i).then(function(){return n.client.actions.GuildChannelsPositionUpdate.handle({guild_id:e,channels:t}).guild})}},{key:"updateEmbed",value:function(e,t,n){return this.rest.makeRequest("patch",u.Guild(e).embed,!0,{enabled:t.enabled,channel_id:this.client.resolver.resolveChannelID(t.channel)},void 0,n)}},{key:"setRolePositions",value:function(e,t){var n=this;return this.rest.makeRequest("patch",u.Guild(e).roles,!0,t).then(function(){return n.client.actions.GuildRolesPositionUpdate.handle({guild_id:e,roles:t}).guild})}},{key:"setChannelPositions",value:function(e,t){var n=this;return this.rest.makeRequest("patch",u.Guild(e).channels,!0,t).then(function(){return n.client.actions.GuildChannelsPositionUpdate.handle({guild_id:e,channels:t}).guild})}},{key:"addMessageReaction",value:function(e,t){return this.rest.makeRequest("put",u.Message(e).Reaction(t).User("@me"),!0).then(function(){return e._addReaction(c.parseEmoji(t),e.client.user)})}},{key:"removeMessageReaction",value:function(e,t,n){var i=this,r=u.Message(e).Reaction(t).User(n===this.client.user.id?"@me":n);return this.rest.makeRequest("delete",r,!0).then(function(){return i.client.actions.MessageReactionRemove.handle({user_id:n,message_id:e.id,emoji:c.parseEmoji(t),channel_id:e.channel.id}).reaction})}},{key:"removeMessageReactions",value:function(e){return this.rest.makeRequest("delete",u.Message(e).reactions,!0).then(function(){return e})}},{key:"getMessageReactionUsers",value:function(e,t,n){var i=(r.stringify(n).match(/[^=&?]+=[^=&?]+/g)||[]).join("&");return this.rest.makeRequest("get","".concat(u.Message(e).Reaction(t),"?").concat(i),!0)}},{key:"getApplication",value:function(e){var t=this;return this.rest.makeRequest("get",u.OAUTH2.Application(e),!0).then(function(e){return new R(t.client,e)})}},{key:"resetApplication",value:function(e){var t=this;return this.rest.makeRequest("post",u.OAUTH2.Application(e).resetToken,!0).then(function(){return t.rest.makeRequest("post",u.OAUTH2.Application(e).resetSecret,!0)}).then(function(e){return new R(t.client,e)})}},{key:"setNote",value:function(e,t){return this.rest.makeRequest("put",u.User(e).note,!0,{note:t}).then(function(){return e})}},{key:"acceptInvite",value:function(e){var t=this;return e.id&&(e=e.id),new Promise(function(n,i){return t.rest.makeRequest("post",u.Invite(e),!0).then(function(e){var r=function(i){i.id===e.id&&(n(i),t.client.removeListener(a.Events.GUILD_CREATE,r))};t.client.on(a.Events.GUILD_CREATE,r),t.client.setTimeout(function(){t.client.removeListener(a.Events.GUILD_CREATE,r),i(new Error("Accepting invite timed out"))},12e4)})})}},{key:"patchUserSettings",value:function(e){return this.rest.makeRequest("patch",a.Endpoints.User("@me").settings,!0,e)}},{key:"patchClientUserGuildSettings",value:function(e,t){return this.rest.makeRequest("patch",a.Endpoints.User("@me").Guild(e).settings,!0,t)}}]),n}();module.exports=M;
},{"querystring":"+00f","long":"YvD4","../../util/Permissions":"hyYc","../../util/Constants":"TQBg","../../util/Collection":"QMEy","../../util/Util":"kFkP","../../structures/shared/resolvePermissions":"Btaz","../../structures/RichEmbed":"IEkm","../../structures/User":"OMuY","../../structures/GuildMember":"l1E5","../../structures/Message":"Djan","../../structures/Role":"aSv9","../../structures/Invite":"YTTt","../../structures/Webhook":"jucJ","../../structures/UserProfile":"HtVt","../../structures/OAuth2Application":"F7Mg","../../structures/Channel":"gHxX","../../structures/GroupDMChannel":"vnRV","../../structures/Guild":"T/02","../../structures/VoiceRegion":"Q1Yg","../../structures/GuildAuditLogs":"SG3v"}],"ZCyM":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}var a=function(){function t(n){e(this,t),this.restManager=n,this.queue=[]}return n(t,[{key:"push",value:function(e){this.queue.push(e)}},{key:"handle",value:function(){}},{key:"destroy",value:function(){this.queue=[]}},{key:"globalLimit",get:function(){return this.restManager.globallyRateLimited},set:function(e){this.restManager.globallyRateLimited=e}}]),t}();module.exports=a;
},{}],"n//4":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?c(e):n}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||!s(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return f(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)})(t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t,e,n){return(f=a()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function s(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){function n(t,r,c){var u;e(this,n);var i=(u=o(this,p(n).call(this))).constructor.flattenErrors(r.errors||r).join("\n");return u.name="DiscordAPIError",u.message=r.message&&i?"".concat(r.message,"\n").concat(i):r.message||i,u.path=t,u.code=r.code,u.method=c,u}return u(n,i(Error)),r(n,null,[{key:"flattenErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];for(var r of Object.keys(t))if("message"!==r){var o=e?isNaN(r)?"".concat(e,".").concat(r):"".concat(e,"[").concat(r,"]"):r;t[r]._errors?n.push("".concat(o,": ").concat(t[r]._errors.map(function(t){return t.message}).join(" "))):t[r].code||t[r].message?n.push("".concat(t[r].code?"".concat(t[r].code,": "):"",": ").concat(t[r].message).trim()):"string"==typeof t[r]?n.push(t[r]):n=n.concat(this.flattenErrors(t[r],o))}return n}}]),n}();module.exports=y;
},{}],"CD1T":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?o(t):n}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./RequestHandler"),m=require("../DiscordAPIError"),{Events:{RATE_LIMIT:h}}=require("../../../util/Constants"),p=function(e){function n(e,r){var o;return t(this,n),(o=i(this,c(n).call(this,e,r))).client=e.client,o.endpoint=r,o.timeDifference=0,o.busy=!1,o}return l(n,f),r(n,[{key:"push",value:function(e){u(c(n.prototype),"push",this).call(this,e),this.handle()}},{key:"execute",value:function(e){var t=this;return this.busy=!0,new Promise(function(n){e.request.gen().end(function(r,i){if(i&&i.headers&&(t.requestLimit=Number(i.headers["x-ratelimit-limit"]),t.requestResetTime=1e3*Number(i.headers["x-ratelimit-reset"]),t.requestRemaining=Number(i.headers["x-ratelimit-remaining"]),t.timeDifference=Date.now()-new Date(i.headers.date).getTime()),r)429===r.status?(t.queue.unshift(e),t.client.setTimeout(function(){t.globalLimit=!1,n()},Number(i.headers["retry-after"])+t.client.options.restTimeOffset),i.headers["x-ratelimit-global"]&&(t.globalLimit=!0)):r.status>=500&&r.status<600?e.retries===t.client.options.retryLimit?(e.reject(r),n()):(e.retries++,t.queue.unshift(e),t.client.setTimeout(n,1e3+t.client.options.restTimeOffset)):(e.reject(r.status>=400&&r.status<500?new m(i.request.path,i.body,i.request.method):r),n(r));else{t.globalLimit=!1;var o=i&&i.body?i.body:{};e.resolve(o),0===t.requestRemaining?(t.client.listenerCount(h)&&t.client.emit(h,{limit:t.requestLimit,timeDifference:t.timeDifference,path:e.request.path,method:e.request.method}),t.client.setTimeout(function(){return n(o)},t.requestResetTime-Date.now()+t.timeDifference+t.client.options.restTimeOffset)):n(o)}})})}},{key:"handle",value:function(){var e=this;u(c(n.prototype),"handle",this).call(this),this.busy||0===this.remaining||0===this.queue.length||this.globalLimit||this.execute(this.queue.shift()).then(function(){e.busy=!1,e.handle()})}}]),n}();module.exports=p;
},{"./RequestHandler":"ZCyM","../DiscordAPIError":"n//4","../../../util/Constants":"TQBg"}],"k0fb":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?o(t):i}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=l(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./RequestHandler"),m=require("../DiscordAPIError"),{Events:{RATE_LIMIT:h}}=require("../../../util/Constants"),p=function(e){function i(e,n){var o;return t(this,i),(o=r(this,s(i).call(this,e,n))).client=e.client,o.limit=1/0,o.resetTime=null,o.remaining=1,o.timeDifference=0,o.resetTimeout=null,o}return a(i,f),n(i,[{key:"push",value:function(e){u(s(i.prototype),"push",this).call(this,e),this.handle()}},{key:"execute",value:function(e){var t=this;e&&e.request.gen().end(function(i,n){if(n&&n.headers&&(t.limit=Number(n.headers["x-ratelimit-limit"]),t.resetTime=1e3*Number(n.headers["x-ratelimit-reset"]),t.remaining=Number(n.headers["x-ratelimit-remaining"]),t.timeDifference=Date.now()-new Date(n.headers.date).getTime()),i)if(429===i.status){if(t.queue.unshift(e),n.headers["x-ratelimit-global"]&&(t.globalLimit=!0),t.resetTimeout)return;t.resetTimeout=t.client.setTimeout(function(){t.remaining=t.limit,t.globalLimit=!1,t.handle(),t.resetTimeout=null},Number(n.headers["retry-after"])+t.client.options.restTimeOffset)}else i.status>=500&&i.status<600?e.retries===t.client.options.retryLimit?(e.reject(i),t.handle()):(e.retries++,t.queue.unshift(e),t.resetTimeout=t.client.setTimeout(function(){t.handle(),t.resetTimeout=null},1e3+t.client.options.restTimeOffset)):(e.reject(i.status>=400&&i.status<500?new m(n.request.path,n.body,n.request.method):i),t.handle());else{0===t.remaining&&t.client.listenerCount(h)&&t.client.emit(h,{limit:t.limit,timeDifference:t.timeDifference,path:e.request.path,method:e.request.method}),t.globalLimit=!1;var r=n&&n.body?n.body:{};e.resolve(r),t.handle()}})}},{key:"handle",value:function(){u(s(i.prototype),"handle",this).call(this),0!==this.queue.length&&((this.remaining<=0||this.globalLimit)&&Date.now()-this.timeDifference<this.resetTime||(this.execute(this.queue.shift()),this.remaining--,this.handle()))}}]),i}();module.exports=p;
},{"./RequestHandler":"ZCyM","../DiscordAPIError":"n//4","../../../util/Constants":"TQBg"}],"J1dC":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var n=require("snekfetch"),s=require("../../util/Constants"),r=function(){function e(i,n,s,r,a,o,h){t(this,e),this.rest=i,this.client=i.client,this.method=n,this.path=s.toString(),this.auth=r,this.data=a,this.files=o,this.route=this.getRoute(this.path),this.reason=h}return i(e,[{key:"getRoute",value:function(t){var e=t.split("?")[0];if(e.includes("/channels/")||e.includes("/guilds/")){var i=e.includes("/channels/")?e.indexOf("/channels/"):e.indexOf("/guilds/"),n=e.substring(i).split("/")[2];e=e.replace(/(\d{8,})/g,":id").replace(":id",n)}return e}},{key:"getAuth",value:function(){if(this.client.token&&this.client.user&&this.client.user.bot)return"Bot ".concat(this.client.token);if(this.client.token)return this.client.token;throw new Error(s.Errors.NO_TOKEN)}},{key:"gen",value:function(){var t="".concat(this.client.options.http.host,"/api/v").concat(this.client.options.http.version),e=n[this.method]("".concat(t).concat(this.path));if(this.auth&&e.set("Authorization",this.getAuth()),this.reason&&e.set("X-Audit-Log-Reason",encodeURIComponent(this.reason)),this.rest.client.browser||e.set("User-Agent",this.rest.userAgentManager.userAgent),this.files){for(var i of this.files)i&&i.file&&e.attach(i.name,i.file,i.name);void 0!==this.data&&e.attach("payload_json",JSON.stringify(this.data))}else this.data&&e.send(this.data);return e}}]),e}();module.exports=r;
},{"snekfetch":"bXDr","../../util/Constants":"TQBg"}],"zhwS":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}var n=require("./UserAgentManager"),s=require("./RESTMethods"),i=require("./RequestHandlers/Sequential"),u=require("./RequestHandlers/Burst"),a=require("./APIRequest"),o=require("../../util/Constants"),h=function(){function t(r){e(this,t),this.client=r,this.handlers={},this.userAgentManager=new n(this),this.methods=new s(this),this.rateLimitedEndpoints={},this.globallyRateLimited=!1}return r(t,[{key:"destroy",value:function(){for(var e of Object.keys(this.handlers)){var t=this.handlers[e];t.destroy&&t.destroy()}}},{key:"push",value:function(e,t){return new Promise(function(r,n){e.push({request:t,resolve:r,reject:n,retries:0})})}},{key:"getRequestHandler",value:function(){switch(this.client.options.apiRequestMethod){case"sequential":return i;case"burst":return u;default:throw new Error(o.Errors.INVALID_RATE_LIMIT_METHOD)}}},{key:"makeRequest",value:function(e,t,r,n,s,i){var u=new a(this,e,t,r,n,s,i);if(!this.handlers[u.route]){var o=this.getRequestHandler();this.handlers[u.route]=new o(this,u.route)}return this.push(this.handlers[u.route],u)}}]),t}();module.exports=h;
},{"./UserAgentManager":"XU0y","./RESTMethods":"kiFP","./RequestHandlers/Sequential":"CD1T","./RequestHandlers/Burst":"k0fb","./APIRequest":"J1dC","../../util/Constants":"TQBg"}],"C6y+":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("../util/Permissions"),r=function(){function t(n,i){e(this,t),Object.defineProperty(this,"channel",{value:n}),i&&this.setup(i)}return n(t,[{key:"setup",value:function(e){this.id=e.id,this.type=e.type,this.deny=e.deny,this.allow=e.allow,this.denied=new i(e.deny).freeze(),this.allowed=new i(e.allow).freeze()}},{key:"delete",value:function(e){return this.channel.client.rest.methods.deletePermissionOverwrites(this,e)}}]),t}();module.exports=r;
},{"../util/Permissions":"hyYc"}],"pGdW":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function n(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?s(t):i}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,i){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=l(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=require("./Channel"),d=require("./Role"),v=require("./PermissionOverwrites"),f=require("../util/Permissions"),p=require("../util/Collection"),m=require("../util/Constants"),y=require("./Invite"),g=function(e){function i(e,r){var s;return t(this,i),(s=n(this,u(i).call(this,e.client,r))).guild=e,s}return a(i,c),r(i,[{key:"setup",value:function(e){if(o(u(i.prototype),"setup",this).call(this,e),this.name=e.name,this.position=e.position,this.parentID=e.parent_id,this.permissionOverwrites=new p,e.permission_overwrites)for(var t of e.permission_overwrites)this.permissionOverwrites.set(t.id,new v(this,t))}},{key:"memberPermissions",value:function(e){if(!(e=this.client.resolver.resolveGuildMember(this.guild,e)))return null;if(e.id===this.guild.ownerID)return new f(e,f.ALL);var t=e.roles,i=new f(t.map(function(e){return e.permissions}));if(i.has(f.FLAGS.ADMINISTRATOR))return new f(f.ALL).freeze();var r=this.overwritesFor(e,!0,t);return i.remove(r.everyone?r.everyone.deny:0).add(r.everyone?r.everyone.allow:0).remove(r.roles.length>0?r.roles.map(function(e){return e.deny}):0).add(r.roles.length>0?r.roles.map(function(e){return e.allow}):0).remove(r.member?r.member.deny:0).add(r.member?r.member.allow:0).freeze()}},{key:"rolePermissions",value:function(e){if(e.permissions&f.FLAGS.ADMINISTRATOR)return new f(f.ALL).freeze();var t=this.permissionOverwrites.get(this.guild.id),i=this.permissionOverwrites.get(e.id);return new f(e.permissions).remove(t?t.deny:0).add(t?t.allow:0).remove(i?i.deny:0).add(i?i.allow:0).freeze()}},{key:"permissionsFor",value:function(e){var t=this.guild.member(e);if(t)return this.memberPermissions(t);var i=this.client.resolver.resolveRole(this.guild,e);return i?this.rolePermissions(i):null}},{key:"overwritesFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t||(e=this.client.resolver.resolveGuildMember(this.guild,e)),!e)return[];i=i||e.roles;var r,n,s=[];for(var o of this.permissionOverwrites.values())o.id===this.guild.id?n=o:i.has(o.id)?s.push(o):o.id===e.id&&(r=o);return{everyone:n,roles:s,member:r}}},{key:"replacePermissionOverwrites",value:function(){var e=this,{overwrites:t,reason:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.edit({permissionOverwrites:t,reason:i}).then(function(){return e})}},{key:"overwritePermissions",value:function(e,t,i){var r=this,n={allow:0,deny:0};if(e instanceof d)n.type="role";else if(this.guild.roles.has(e))e=this.guild.roles.get(e),n.type="role";else if(e=this.client.resolver.resolveUser(e),n.type="member",!e)return Promise.reject(new TypeError("Supplied parameter was neither a User nor a Role."));n.id=e.id;var s=this.permissionOverwrites.get(e.id);for(var o in s&&(n.allow=s.allow,n.deny=s.deny),t)!0===t[o]?(n.allow|=f.FLAGS[o]||0,n.deny&=~(f.FLAGS[o]||0)):!1===t[o]?(n.allow&=~(f.FLAGS[o]||0),n.deny|=f.FLAGS[o]||0):null===t[o]&&(n.allow&=~(f.FLAGS[o]||0),n.deny&=~(f.FLAGS[o]||0));return this.client.rest.methods.setChannelOverwrite(this,n,i).then(function(){return r})}},{key:"lockPermissions",value:function(){if(!this.parent)return Promise.reject(new TypeError("Could not find a parent to this guild channel."));var e=this.parent.permissionOverwrites.map(function(e){return{deny:e.deny,allow:e.allow,id:e.id,type:e.type}});return this.edit({permissionOverwrites:e})}},{key:"edit",value:function(e,t){var i=this;return this.client.rest.methods.updateChannel(this,e,t).then(function(){return i})}},{key:"setName",value:function(e,t){return this.edit({name:e},t)}},{key:"setPosition",value:function(e,t){return this.guild.setChannelPosition(this,e,t)}},{key:"setParent",value:function(e,t){return e=this.client.resolver.resolveChannelID(e),this.edit({parent:e},t)}},{key:"setTopic",value:function(e,t){return this.edit({topic:e},t)}},{key:"createInvite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this.client.rest.methods.createChannelInvite(this,e,t)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return this.guild.createChannel(e,{type:this.type,permissionOverwrites:t?this.permissionOverwrites:void 0,topic:i?this.topic:void 0,reason:r})}},{key:"fetchInvites",value:function(){var e=this;return this.client.rest.makeRequest("get",m.Endpoints.Channel(this.id).invites,!0).then(function(t){var i=new p;for(var r of t)r=new y(e.client,r),i.set(r.code,r);return i})}},{key:"delete",value:function(e){return this.client.rest.methods.deleteChannel(this,e)}},{key:"equals",value:function(e){var t=e&&this.id===e.id&&this.type===e.type&&this.topic===e.topic&&this.position===e.position&&this.name===e.name;return t&&(t=this.permissionOverwrites&&e.permissionOverwrites?this.permissionOverwrites.equals(e.permissionOverwrites):!this.permissionOverwrites&&!e.permissionOverwrites),t}},{key:"toString",value:function(){return"<#".concat(this.id,">")}},{key:"calculatedPosition",get:function(){var e=this.guild._sortedChannels(this.type);return e.array().indexOf(e.get(this.id))}},{key:"parent",get:function(){return this.guild.channels.get(this.parentID)||null}},{key:"deletable",get:function(){return this.id!==this.guild.id&&this.permissionsFor(this.client.user).has(f.FLAGS.MANAGE_CHANNELS)}},{key:"manageable",get:function(){if(this.client.user.id===this.guild.ownerID)return!0;var e=this.permissionsFor(this.client.user);return!!e&&e.has([f.FLAGS.MANAGE_CHANNELS,f.FLAGS.VIEW_CHANNEL])}},{key:"muted",get:function(){if(this.client.user.bot)return null;try{return this.client.user.guildSettings.get(this.guild.id).channelOverrides.get(this.id).muted}catch(e){return!1}}},{key:"messageNotifications",get:function(){if(this.client.user.bot)return null;try{return this.client.user.guildSettings.get(this.guild.id).channelOverrides.get(this.id).messageNotifications}catch(e){return m.MessageNotificationTypes[3]}}}]),i}();module.exports=g;
},{"./Channel":"gHxX","./Role":"aSv9","./PermissionOverwrites":"C6y+","../util/Permissions":"hyYc","../util/Collection":"QMEy","../util/Constants":"TQBg","./Invite":"YTTt"}],"TH/A":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=s(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./GuildChannel"),y=require("./interfaces/TextBasedChannel"),p=require("../util/Collection"),h=function(e){function n(e,o){var i;return t(this,n),(i=r(this,a(n).call(this,e,o))).type="text",i.messages=new p,i._typing=new Map,i}return c(n,f),o(n,[{key:"setup",value:function(e){u(a(n.prototype),"setup",this).call(this,e),this.topic=e.topic,this.nsfw=Boolean(e.nsfw),this.lastMessageID=e.last_message_id,this.lastPinTimestamp=e.last_pin_timestamp?new Date(e.last_pin_timestamp).getTime():null,this.rateLimitPerUser=e.rate_limit_per_user||0}},{key:"fetchWebhooks",value:function(){return this.client.rest.methods.getChannelWebhooks(this)}},{key:"setNSFW",value:function(e,t){return this.edit({nsfw:e},t)}},{key:"createWebhook",value:function(e,t,n){var o=this;return"string"==typeof t&&t.startsWith("data:")?this.client.rest.methods.createWebhook(this,e,t,n):this.client.resolver.resolveImage(t).then(function(t){return o.client.rest.methods.createWebhook(o,e,t,n)})}},{key:"setRateLimitPerUser",value:function(e,t){return this.edit({rateLimitPerUser:e},t)}},{key:"send",value:function(){}},{key:"sendMessage",value:function(){}},{key:"sendEmbed",value:function(){}},{key:"sendFile",value:function(){}},{key:"sendFiles",value:function(){}},{key:"sendCode",value:function(){}},{key:"fetchMessage",value:function(){}},{key:"fetchMessages",value:function(){}},{key:"fetchPinnedMessages",value:function(){}},{key:"search",value:function(){}},{key:"startTyping",value:function(){}},{key:"stopTyping",value:function(){}},{key:"createCollector",value:function(){}},{key:"createMessageCollector",value:function(){}},{key:"awaitMessages",value:function(){}},{key:"bulkDelete",value:function(){}},{key:"acknowledge",value:function(){}},{key:"_cacheMessage",value:function(){}},{key:"members",get:function(){var e=new p;for(var t of this.guild.members.values())this.permissionsFor(t).has("READ_MESSAGES")&&e.set(t.id,t);return e}},{key:"lastMessage",get:function(){}},{key:"lastPinAt",get:function(){}},{key:"typing",get:function(){}},{key:"typingCount",get:function(){}}]),n}();y.applyToClass(h,!0),module.exports=h;
},{"./GuildChannel":"pGdW","./interfaces/TextBasedChannel":"yhxh","../util/Collection":"QMEy"}],"EllE":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?o(t):n}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=s(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./GuildChannel"),h=require("../util/Collection"),p=require("../util/Permissions"),y=function(e){function n(e,i){var o;return t(this,n),(o=r(this,c(n).call(this,e,i))).members=new h,o.type="voice",o}return l(n,a),i(n,[{key:"setup",value:function(e){u(c(n.prototype),"setup",this).call(this,e),this.bitrate=.001*e.bitrate,this.userLimit=e.user_limit}},{key:"setBitrate",value:function(e,t){return e*=1e3,this.edit({bitrate:e},t)}},{key:"setUserLimit",value:function(e,t){return this.edit({userLimit:e},t)}},{key:"join",value:function(){return this.client.browser?Promise.reject(new Error("Voice connections are not available in browsers.")):this.client.voice.joinChannel(this)}},{key:"leave",value:function(){if(!this.client.browser){var e=this.client.voice.connections.get(this.guild.id);e&&e.channel.id===this.id&&e.disconnect()}}},{key:"connection",get:function(){var e=this.guild.voiceConnection;return e&&e.channel.id===this.id?e:null}},{key:"full",get:function(){return this.userLimit>0&&this.members.size>=this.userLimit}},{key:"deletable",get:function(){return u(c(n.prototype),"deletable",this)&&this.permissionsFor(this.client.user).has(p.FLAGS.CONNECT)}},{key:"joinable",get:function(){return!this.client.browser&&(!!this.permissionsFor(this.client.user).has("CONNECT")&&!(this.full&&!this.permissionsFor(this.client.user).has("MOVE_MEMBERS")))}},{key:"speakable",get:function(){return this.permissionsFor(this.client.user).has("SPEAK")}}]),n}();module.exports=y;
},{"./GuildChannel":"pGdW","../util/Collection":"QMEy","../util/Permissions":"hyYc"}],"HxD0":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./GuildChannel"),a=function(t){function n(t,r){var u;return e(this,n),(u=o(this,i(n).call(this,t,r))).type="category",u}return c(n,l),r(n,[{key:"children",get:function(){var t=this;return this.guild.channels.filter(function(e){return e.parentID===t.id})}}]),n}();module.exports=a;
},{"./GuildChannel":"pGdW"}],"HTH+":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=c(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./TextChannel"),y=function(t){function n(t,r){var u;return e(this,n),(u=o(this,f(n).call(this,t,r))).type="news",u}return l(n,a),r(n,[{key:"setup",value:function(t){i(f(n.prototype),"setup",this).call(this,t),this.rateLimitPerUser=0}}]),n}();module.exports=y;
},{"./TextChannel":"TH/A"}],"Bu5G":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=c(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./GuildChannel"),y=function(t){function n(t,r){var u;return e(this,n),(u=o(this,f(n).call(this,t,r))).type="store",u}return l(n,a),r(n,[{key:"setup",value:function(t){i(f(n.prototype),"setup",this).call(this,t),this.nsfw=t.nsfw}}]),n}();module.exports=y;
},{"./GuildChannel":"pGdW"}],"KMd1":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=a(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./Channel"),y=require("./interfaces/TextBasedChannel"),p=require("../util/Collection"),g=function(e){function n(e,o){var i;return t(this,n),(i=r(this,c(n).call(this,e,o))).type="dm",i.messages=new p,i._typing=new Map,i}return l(n,f),o(n,[{key:"setup",value:function(e){u(c(n.prototype),"setup",this).call(this,e),this.recipient=this.client.dataManager.newUser(e.recipients[0]),this.lastMessageID=e.last_message_id,this.lastPinTimestamp=e.last_pin_timestamp?new Date(e.last_pin_timestamp).getTime():null}},{key:"toString",value:function(){return this.recipient.toString()}},{key:"send",value:function(){}},{key:"sendMessage",value:function(){}},{key:"sendEmbed",value:function(){}},{key:"sendFile",value:function(){}},{key:"sendFiles",value:function(){}},{key:"sendCode",value:function(){}},{key:"fetchMessage",value:function(){}},{key:"fetchMessages",value:function(){}},{key:"fetchPinnedMessages",value:function(){}},{key:"search",value:function(){}},{key:"startTyping",value:function(){}},{key:"stopTyping",value:function(){}},{key:"createCollector",value:function(){}},{key:"createMessageCollector",value:function(){}},{key:"awaitMessages",value:function(){}},{key:"acknowledge",value:function(){}},{key:"_cacheMessage",value:function(){}},{key:"lastPinAt",get:function(){}},{key:"typing",get:function(){}},{key:"typingCount",get:function(){}}]),n}();y.applyToClass(g,!0,["bulkDelete"]),module.exports=g;
},{"./Channel":"gHxX","./interfaces/TextBasedChannel":"yhxh","../util/Collection":"QMEy"}],"Ru3t":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=require("../util/Constants"),s=require("../util/Util"),l=require("../structures/Guild"),u=require("../structures/User"),r=require("../structures/Emoji"),a=require("../structures/GuildChannel"),c=require("../structures/TextChannel"),h=require("../structures/VoiceChannel"),o=require("../structures/CategoryChannel"),d=require("../structures/NewsChannel"),E=require("../structures/StoreChannel"),f=require("../structures/DMChannel"),v=require("../structures/GroupDMChannel"),y=function(){function t(n){e(this,t),this.client=n}return n(t,[{key:"newGuild",value:function(e){var t=this,n=this.client.guilds.has(e.id),s=new l(this.client,e);return this.client.guilds.set(s.id,s),this.pastReady&&!n&&(this.client.options.fetchAllMembers?s.fetchMembers().then(function(){t.client.emit(i.Events.GUILD_CREATE,s)}):this.client.emit(i.Events.GUILD_CREATE,s)),s}},{key:"newUser",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.client.users.has(e.id))return this.client.users.get(e.id);var n=new u(this.client,e);return t&&this.client.users.set(n.id,n),n}},{key:"newChannel",value:function(e,t){var n,s=this.client.channels.has(e.id);if(e.type===i.ChannelTypes.DM)n=new f(this.client,e);else if(e.type===i.ChannelTypes.GROUP_DM)n=new v(this.client,e);else if(t=t||this.client.guilds.get(e.guild_id),s)n=this.client.channels.get(e.id);else if(t){switch(e.type){case i.ChannelTypes.TEXT:n=new c(t,e);break;case i.ChannelTypes.VOICE:n=new h(t,e);break;case i.ChannelTypes.CATEGORY:n=new o(t,e);break;case i.ChannelTypes.NEWS:n=new d(t,e);break;case i.ChannelTypes.STORE:n=new E(t,e)}t.channels.set(n.id,n)}return n&&!s?(this.pastReady&&this.client.emit(i.Events.CHANNEL_CREATE,n),this.client.channels.set(n.id,n),n):s?n:null}},{key:"newEmoji",value:function(e,t){var n=t.emojis.has(e.id);if(e&&!n){var s=new r(t,e);return this.client.emit(i.Events.GUILD_EMOJI_CREATE,s),t.emojis.set(s.id,s),s}return n?t.emojis.get(e.id):null}},{key:"killEmoji",value:function(e){e instanceof r&&e.guild&&(this.client.emit(i.Events.GUILD_EMOJI_DELETE,e),e.guild.emojis.delete(e.id))}},{key:"killGuild",value:function(e){var t=this.client.guilds.has(e.id);this.client.guilds.delete(e.id),t&&this.pastReady&&this.client.emit(i.Events.GUILD_DELETE,e)}},{key:"killUser",value:function(e){this.client.users.delete(e.id)}},{key:"killChannel",value:function(e){this.client.channels.delete(e.id),e instanceof a&&e.guild.channels.delete(e.id)}},{key:"updateGuild",value:function(e,t){var n=s.cloneObject(e);e.setup(t),this.pastReady&&this.client.emit(i.Events.GUILD_UPDATE,n,e)}},{key:"updateChannel",value:function(e,t){e.setup(t)}},{key:"updateEmoji",value:function(e,t){var n=s.cloneObject(e);return e.setup(t),this.client.emit(i.Events.GUILD_EMOJI_UPDATE,n,e),e}},{key:"pastReady",get:function(){return this.client.ws.connection.status===i.Status.READY}}]),t}();module.exports=y;
},{"../util/Constants":"TQBg","../util/Util":"kFkP","../structures/Guild":"T/02","../structures/User":"OMuY","../structures/Emoji":"oytn","../structures/GuildChannel":"pGdW","../structures/TextChannel":"TH/A","../structures/VoiceChannel":"EllE","../structures/CategoryChannel":"HxD0","../structures/NewsChannel":"HTH+","../structures/StoreChannel":"Bu5G","../structures/DMChannel":"KMd1","../structures/GroupDMChannel":"vnRV"}],"4Bm0":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"Yj0v":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"pBGv"}],"1ExO":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"FRpO"}],"6/Zo":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"dskh"}],"Q14w":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"dskh"}],"wl+m":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"6/Zo","util":"f88W"}],"GRUB":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"Yj0v"}],"yM1o":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(n){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"WSyY":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=require("core-util-is");f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||B(e,t),t.pendingcb--,r(),T(e,t)}function B(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||j(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"4Bm0","util-deprecate":"yM1o","./internal/streams/stream":"1ExO","safe-buffer":"6/Zo","./internal/streams/destroy":"GRUB","./_stream_duplex":"Hba+","process":"pBGv"}],"Hba+":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("core-util-is");r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"4Bm0","./_stream_readable":"DHrQ","./_stream_writable":"WSyY"}],"z0rv":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"6/Zo"}],"DHrQ":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=require("core-util-is");p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"Yj0v","isarray":"REa7","events":"FRpO","./internal/streams/stream":"1ExO","safe-buffer":"6/Zo","core-util-is":"Q14w","inherits":"4Bm0","util":"f88W","./internal/streams/BufferList":"wl+m","./internal/streams/destroy":"GRUB","./_stream_duplex":"Hba+","string_decoder/":"z0rv","process":"pBGv"}],"7tlB":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=require("core-util-is");function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"Hba+","core-util-is":"Q14w","inherits":"4Bm0"}],"nwyA":[function(require,module,exports) {
"use strict";module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"7tlB","core-util-is":"Q14w","inherits":"4Bm0"}],"tzeh":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"DHrQ","./lib/_stream_writable.js":"WSyY","./lib/_stream_duplex.js":"Hba+","./lib/_stream_transform.js":"7tlB","./lib/_stream_passthrough.js":"nwyA"}],"LnjZ":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"WSyY"}],"kT1X":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"Hba+"}],"A9/K":[function(require,module,exports) {
module.exports=require("./readable").Transform;
},{"./readable":"tzeh"}],"C6nS":[function(require,module,exports) {
module.exports=require("./readable").PassThrough;
},{"./readable":"tzeh"}],"fnRj":[function(require,module,exports) {
module.exports=n;var e=require("events").EventEmitter,r=require("inherits");function n(){e.call(this)}r(n,e),n.Readable=require("readable-stream/readable.js"),n.Writable=require("readable-stream/writable.js"),n.Duplex=require("readable-stream/duplex.js"),n.Transform=require("readable-stream/transform.js"),n.PassThrough=require("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(r,n){var o=this;function t(e){r.writable&&!1===r.write(e)&&o.pause&&o.pause()}function s(){o.readable&&o.resume&&o.resume()}o.on("data",t),r.on("drain",s),r._isStdio||n&&!1===n.end||(o.on("end",a),o.on("close",u));var i=!1;function a(){i||(i=!0,r.end())}function u(){i||(i=!0,"function"==typeof r.destroy&&r.destroy())}function d(r){if(l(),0===e.listenerCount(this,"error"))throw r}function l(){o.removeListener("data",t),r.removeListener("drain",s),o.removeListener("end",a),o.removeListener("close",u),o.removeListener("error",d),r.removeListener("error",d),o.removeListener("end",l),o.removeListener("close",l),r.removeListener("close",l)}return o.on("error",d),r.on("error",d),o.on("end",l),o.on("close",l),r.on("close",l),r.emit("pipe",o),r};
},{"events":"FRpO","inherits":"4Bm0","readable-stream/readable.js":"tzeh","readable-stream/writable.js":"LnjZ","readable-stream/duplex.js":"kT1X","readable-stream/transform.js":"A9/K","readable-stream/passthrough.js":"C6nS"}],"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"XO/A":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,s=o.length,u=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<s;c=o[++n])h(c)||!z(c)?u+=" "+c:u+=" "+i(c);return u},exports.deprecate=function(r,n){if(j(e.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(!0===t.noDeprecation)return r;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),x(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),s=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return a(t);if(0===i.length){if(D(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return a(t)}var x,h="",b=!1,m=["{","}"];(d(t)&&(b=!0,m=["[","]"]),D(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return O(t)&&(h=" "+RegExp.prototype.toString.call(t)),w(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+a(t)),0!==i.length||b&&0!=t.length?r<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=b?f(e,t,r,s,i):i.map(function(n){return g(e,t,r,s,n,b)}),e.seen.pop(),y(x,h,m)):m[0]+h+m[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):x(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)$(t,String(s))?i.push(g(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),$(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function y(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function x(e){return"boolean"==typeof e}function h(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function O(e){return z(e)&&"[object RegExp]"===A(e)}function z(e){return"object"==typeof e&&null!==e}function w(e){return z(e)&&"[object Date]"===A(e)}function E(e){return z(e)&&("[object Error]"===A(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function J(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(e){if(j(n)&&(n=""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=t.pid;o[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=x,exports.isNull=h,exports.isNullOrUndefined=b,exports.isNumber=m,exports.isString=v,exports.isSymbol=S,exports.isUndefined=j,exports.isRegExp=O,exports.isObject=z,exports.isDate=w,exports.isError=E,exports.isFunction=D,exports.isPrimitive=N,exports.isBuffer=require("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var e=new Date,t=[J(e.getHours()),J(e.getMinutes()),J(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",H(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!z(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};
},{"./support/isBuffer":"vexR","inherits":"tcrG","process":"pBGv"}],"DlZn":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=require("object-assign");function r(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=require("util/"),o=Object.prototype.hasOwnProperty,u=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=module.exports=q,l=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(l);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function E(t){if(a||!i.isFunction(t))return i.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function h(t){return g(E(t.actual),128)+" "+t.operator+" "+g(E(t.expected),128)}function y(t,e,r,n,i){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function q(t,e){t||y(t,!0,e,"==",s.ok)}function d(t,e,o,u){if(t===e)return!0;if(n(t)&&n(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(n(t)!==n(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),b(t,e,o,u))}return o?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e,r,n){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),a=m(e);if(o&&!a||!o&&a)return!1;if(o)return d(t=u.call(t),e=u.call(e),r);var c,f,s=A(t),l=A(e);if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!d(t[c=s[f]],e[c],r,n))return!1;return!0}function v(t,e,r){d(t,e,!0)&&y(t,e,r,"notDeepStrictEqual",v)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t){var e;try{t()}catch(r){e=r}return e}function w(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=S(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&y(o,r,"Missing expected exception"+n);var u="string"==typeof n,a=!t&&o&&!r;if((!t&&i.isError(o)&&u&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}function O(t,e){t||y(t,!0,e,"==",O)}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\n"+i);if(o>=0){var u=n.indexOf("\n",o+1);n=n.substring(u+1)}this.stack=n}}},i.inherits(s.AssertionError,Error),s.fail=y,s.ok=q,s.equal=function(t,e,r){t!=e&&y(t,e,r,"==",s.equal)},s.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",s.notEqual)},s.deepEqual=function(t,e,r){d(t,e,!1)||y(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(t,e,r){d(t,e,!0)||y(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(t,e,r){d(t,e,!1)&&y(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=v,s.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){w(!0,t,e,r)},s.doesNotThrow=function(t,e,r){w(!1,t,e,r)},s.ifError=function(t){if(t)throw t},s.strict=e(O,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var A=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};
},{"object-assign":"J4Nk","util/":"XO/A"}],"wru8":[function(require,module,exports) {
"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=t;
},{}],"Cngu":[function(require,module,exports) {
"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function t(r,t){return Object.prototype.hasOwnProperty.call(r,t)}exports.assign=function(r){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)t(n,a)&&(r[a]=n[a])}}return r},exports.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var e={arraySet:function(r,t,e,n,a){if(t.subarray&&r.subarray)r.set(t.subarray(e,e+n),a);else for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){var t,e,n,a,o,s;for(n=0,t=0,e=r.length;t<e;t++)n+=r[t].length;for(s=new Uint8Array(n),a=0,t=0,e=r.length;t<e;t++)o=r[t],s.set(o,a),a+=o.length;return s}},n={arraySet:function(r,t,e,n,a){for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){return[].concat.apply([],r)}};exports.setTyped=function(r){r?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,e)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,n))},exports.setTyped(r);
},{}],"Iy1V":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),t=4,n=0,_=1,r=2;function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,l=1,d=2,f=3,o=258,b=29,s=256,u=s+1+b,c=30,p=19,h=2*u+1,v=15,y=16,x=7,g=256,m=16,w=17,A=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,B=new Array(2*(u+2));a(B);var C=new Array(2*c);a(C);var D=new Array(j);a(D);var E=new Array(o-f+1);a(E);var F=new Array(b);a(F);var G,H,I,J=new Array(c);function K(e,t,n,_,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=_,this.max_length=r,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?D[e]:D[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){O(e,n[2*t],n[2*t+1])}function Q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function T(e,t){var n,_,r,a,i,l,d=t.dyn_tree,f=t.max_code,o=t.stat_desc.static_tree,b=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,c=t.stat_desc.max_length,p=0;for(a=0;a<=v;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)(a=d[2*d[2*(_=e.heap[n])+1]+1]+1)>c&&(a=c,p++),d[2*_+1]=a,_>f||(e.bl_count[a]++,i=0,_>=u&&(i=s[_-u]),l=d[2*_],e.opt_len+=l*(a+i),b&&(e.static_len+=l*(o[2*_+1]+i)));if(0!==p){do{for(a=c-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[c]--,p-=2}while(p>0);for(a=c;0!==a;a--)for(_=e.bl_count[a];0!==_;)(r=e.heap[--n])>f||(d[2*r+1]!==a&&(e.opt_len+=(a-d[2*r+1])*d[2*r],d[2*r+1]=a),_--)}}function U(e,t,n){var _,r,a=new Array(v+1),i=0;for(_=1;_<=v;_++)a[_]=i=i+n[_-1]<<1;for(r=0;r<=t;r++){var l=e[2*r+1];0!==l&&(e[2*r]=Q(a[l]++,l))}}function V(){var e,t,n,_,r,a=new Array(v+1);for(n=0,_=0;_<b-1;_++)for(F[_]=n,e=0;e<1<<k[_];e++)E[n++]=_;for(E[n-1]=_,r=0,_=0;_<16;_++)for(J[_]=r,e=0;e<1<<q[_];e++)D[r++]=_;for(r>>=7;_<c;_++)for(J[_]=r<<7,e=0;e<1<<q[_]-7;e++)D[256+r++]=_;for(t=0;t<=v;t++)a[t]=0;for(e=0;e<=143;)B[2*e+1]=8,e++,a[8]++;for(;e<=255;)B[2*e+1]=9,e++,a[9]++;for(;e<=279;)B[2*e+1]=7,e++,a[7]++;for(;e<=287;)B[2*e+1]=8,e++,a[8]++;for(U(B,u+1,a),e=0;e<c;e++)C[2*e+1]=5,C[2*e]=Q(e,5);G=new K(B,k,s+1,u,v),H=new K(C,q,0,c,v),I=new K(new Array(0),z,0,p,x)}function W(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Y(t,n,_,r){X(t),r&&(N(t,_),N(t,~_)),e.arraySet(t.pending_buf,t.window,n,_,t.pending),t.pending+=_}function Z(e,t,n,_){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&_[t]<=_[n]}function $(e,t,n){for(var _=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&Z(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Z(t,_,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=_}function ee(e,t,n){var _,r,a,i,l=0;if(0!==e.last_lit)do{_=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===_?P(e,r,t):(P(e,(a=E[r])+s+1,t),0!==(i=k[a])&&O(e,r-=F[a],i),P(e,a=M(--_),n),0!==(i=q[a])&&O(e,_-=J[a],i))}while(l<e.last_lit);P(e,g,t)}function te(e,t){var n,_,r,a=t.dyn_tree,i=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<d;n++)0!==a[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=i[2*r+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)$(e,a,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),_=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=_,a[2*r]=a[2*n]+a[2*_],e.depth[r]=(e.depth[n]>=e.depth[_]?e.depth[n]:e.depth[_])+1,a[2*n+1]=a[2*_+1]=r,e.heap[1]=r++,$(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],T(e,t),U(a,f,e.bl_count)}function ne(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),t[2*(n+1)+1]=65535,_=0;_<=n;_++)r=i,i=t[2*(_+1)+1],++l<d&&r===i||(l<f?e.bl_tree[2*r]+=l:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*m]++):l<=10?e.bl_tree[2*w]++:e.bl_tree[2*A]++,l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4))}function _e(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),_=0;_<=n;_++)if(r=i,i=t[2*(_+1)+1],!(++l<d&&r===i)){if(l<f)do{P(e,r,e.bl_tree)}while(0!=--l);else 0!==r?(r!==a&&(P(e,r,e.bl_tree),l--),P(e,m,e.bl_tree),O(e,l-3,2)):l<=10?(P(e,w,e.bl_tree),O(e,l-3,3)):(P(e,A,e.bl_tree),O(e,l-11,7));l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4)}}function re(e){var t;for(ne(e,e.dyn_ltree,e.l_desc.max_code),ne(e,e.dyn_dtree,e.d_desc.max_code),te(e,e.bl_desc),t=p-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ae(e,t,n,_){var r;for(O(e,t-257,5),O(e,n-1,5),O(e,_-4,4),r=0;r<_;r++)O(e,e.bl_tree[2*S[r]+1],3);_e(e,e.dyn_ltree,t-1),_e(e,e.dyn_dtree,n-1)}function ie(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return _;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return _;return n}a(J);var le=!1;function de(e){le||(V(),le=!0),e.l_desc=new L(e.dyn_ltree,G),e.d_desc=new L(e.dyn_dtree,H),e.bl_desc=new L(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,W(e)}function fe(e,t,n,_){O(e,(i<<1)+(_?1:0),3),Y(e,t,n,!0)}function oe(e){O(e,l<<1,3),P(e,g,B),R(e)}function be(e,n,_,a){var i,f,o=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=ie(e)),te(e,e.l_desc),te(e,e.d_desc),o=re(e),i=e.opt_len+3+7>>>3,(f=e.static_len+3+7>>>3)<=i&&(i=f)):i=f=_+5,_+4<=i&&-1!==n?fe(e,n,_,a):e.strategy===t||f===i?(O(e,(l<<1)+(a?1:0),3),ee(e,B,C)):(O(e,(d<<1)+(a?1:0),3),ae(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),ee(e,e.dyn_ltree,e.dyn_dtree)),W(e),a&&X(e)}function se(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+s+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1}exports._tr_init=de,exports._tr_stored_block=fe,exports._tr_flush_block=be,exports._tr_tally=se,exports._tr_align=oe;
},{"../utils/common":"Cngu"}],"P885":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(var u=65535&e|0,i=e>>>16&65535|0,n=0;0!==o;){o-=n=o>2e3?2e3:o;do{i=i+(u=u+r[t++]|0)|0}while(--n);u%=65521,i%=65521}return u|i<<16|0}module.exports=e;
},{}],"ntXC":[function(require,module,exports) {
"use strict";function r(){for(var r,o=[],t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;o[t]=r}return o}var o=r();function t(r,t,n,u){var a=o,e=u+n;r^=-1;for(var f=u;f<e;f++)r=r>>>8^a[255&(r^t[f])];return-1^r}module.exports=t;
},{}],"spUl":[function(require,module,exports) {
"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],"d27Y":[function(require,module,exports) {
"use strict";var t,a=require("../utils/common"),e=require("./trees"),s=require("./adler32"),i=require("./crc32"),r=require("./messages"),n=0,h=1,l=3,_=4,d=5,o=0,u=1,g=-2,f=-3,c=-5,p=-1,m=1,w=2,v=3,k=4,z=0,b=2,x=8,y=9,B=15,S=8,q=29,I=256,A=I+1+q,C=30,R=19,j=2*A+1,D=15,E=3,H=258,K=H+E+1,N=32,F=42,G=69,J=73,L=91,M=103,O=113,P=666,Q=1,T=2,U=3,V=4,W=3;function X(t,a){return t.msg=r[a],a}function Y(t){return(t<<1)-(t>4?9:0)}function Z(t){for(var a=t.length;--a>=0;)t[a]=0}function $(t){var e=t.state,s=e.pending;s>t.avail_out&&(s=t.avail_out),0!==s&&(a.arraySet(t.output,e.pending_buf,e.pending_out,s,t.next_out),t.next_out+=s,e.pending_out+=s,t.total_out+=s,t.avail_out-=s,e.pending-=s,0===e.pending&&(e.pending_out=0))}function tt(t,a){e._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,a),t.block_start=t.strstart,$(t.strm)}function at(t,a){t.pending_buf[t.pending++]=a}function et(t,a){t.pending_buf[t.pending++]=a>>>8&255,t.pending_buf[t.pending++]=255&a}function st(t,e,r,n){var h=t.avail_in;return h>n&&(h=n),0===h?0:(t.avail_in-=h,a.arraySet(e,t.input,t.next_in,h,r),1===t.state.wrap?t.adler=s(t.adler,e,h,r):2===t.state.wrap&&(t.adler=i(t.adler,e,h,r)),t.next_in+=h,t.total_in+=h,h)}function it(t,a){var e,s,i=t.max_chain_length,r=t.strstart,n=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,_=t.window,d=t.w_mask,o=t.prev,u=t.strstart+H,g=_[r+n-1],f=_[r+n];t.prev_length>=t.good_match&&(i>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(e=a)+n]===f&&_[e+n-1]===g&&_[e]===_[r]&&_[++e]===_[r+1]){r+=2,e++;do{}while(_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&r<u);if(s=H-(u-r),r=u-H,s>n){if(t.match_start=a,n=s,s>=h)break;g=_[r+n-1],f=_[r+n]}}}while((a=o[a&d])>l&&0!=--i);return n<=t.lookahead?n:t.lookahead}function rt(t){var e,s,i,r,n,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-K)){a.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=s=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--s);e=s=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--s);r+=h}if(0===t.strm.avail_in)break;if(s=st(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=s,t.lookahead+t.insert>=E)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+E-1])&t.hash_mask,t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<E)););}while(t.lookahead<K&&0!==t.strm.avail_in)}function nt(t,a){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(rt(t),0===t.lookahead&&a===n)return Q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+e;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,tt(t,!1),0===t.strm.avail_out))return Q;if(t.strstart-t.block_start>=t.w_size-K&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):(t.strstart>t.block_start&&(tt(t,!1),t.strm.avail_out),Q)}function ht(t,a){for(var s,i;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==s&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s)),t.match_length>=E)if(i=e._tr_tally(t,t.strstart-t.match_start,t.match_length-E),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=E){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function lt(t,a){for(var s,i,r;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=E-1,0!==s&&t.prev_length<t.max_lazy_match&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s),t.match_length<=5&&(t.strategy===m||t.match_length===E&&t.strstart-t.match_start>4096)&&(t.match_length=E-1)),t.prev_length>=E&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-E,i=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-E),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=E-1,t.strstart++,i&&(tt(t,!1),0===t.strm.avail_out))return Q}else if(t.match_available){if((i=e._tr_tally(t,0,t.window[t.strstart-1]))&&tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function _t(t,a){for(var s,i,r,h,l=t.window;;){if(t.lookahead<=H){if(rt(t),t.lookahead<=H&&a===n)return Q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=E&&t.strstart>0&&(i=l[r=t.strstart-1])===l[++r]&&i===l[++r]&&i===l[++r]){h=t.strstart+H;do{}while(i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&r<h);t.match_length=H-(h-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=E?(s=e._tr_tally(t,1,t.match_length-E),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function dt(t,a){for(var s;;){if(0===t.lookahead&&(rt(t),0===t.lookahead)){if(a===n)return Q;break}if(t.match_length=0,s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function ot(t,a,e,s,i){this.good_length=t,this.max_lazy=a,this.nice_length=e,this.max_chain=s,this.func=i}function ut(a){a.window_size=2*a.w_size,Z(a.head),a.max_lazy_match=t[a.level].max_lazy,a.good_match=t[a.level].good_length,a.nice_match=t[a.level].nice_length,a.max_chain_length=t[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=E-1,a.match_available=0,a.ins_h=0}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*j),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*A+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(t){var a;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=b,(a=t.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?F:O,t.adler=2===a.wrap?0:1,a.last_flush=n,e._tr_init(a),o):X(t,g)}function ct(t){var a=ft(t);return a===o&&ut(t.state),a}function pt(t,a){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=a,o):g}function mt(t,e,s,i,r,n){if(!t)return g;var h=1;if(e===p&&(e=6),i<0?(h=0,i=-i):i>15&&(h=2,i-=16),r<1||r>y||s!==x||i<8||i>15||e<0||e>9||n<0||n>k)return X(t,g);8===i&&(i=9);var l=new gt;return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+E-1)/E),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=n,l.method=s,ct(t)}function wt(t,a){return mt(t,a,x,B,S,z)}function vt(a,s){var r,f,p,m;if(!a||!a.state||s>d||s<0)return a?X(a,g):g;if(f=a.state,!a.output||!a.input&&0!==a.avail_in||f.status===P&&s!==_)return X(a,0===a.avail_out?c:g);if(f.strm=a,r=f.last_flush,f.last_flush=s,f.status===F)if(2===f.wrap)a.adler=0,at(f,31),at(f,139),at(f,8),f.gzhead?(at(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),at(f,255&f.gzhead.time),at(f,f.gzhead.time>>8&255),at(f,f.gzhead.time>>16&255),at(f,f.gzhead.time>>24&255),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(at(f,255&f.gzhead.extra.length),at(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(a.adler=i(a.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=G):(at(f,0),at(f,0),at(f,0),at(f,0),at(f,0),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,W),f.status=O);else{var k=x+(f.w_bits-8<<4)<<8;k|=(f.strategy>=w||f.level<2?0:f.level<6?1:6===f.level?2:3)<<6,0!==f.strstart&&(k|=N),k+=31-k%31,f.status=O,et(f,k),0!==f.strstart&&(et(f,a.adler>>>16),et(f,65535&a.adler)),a.adler=1}if(f.status===G)if(f.gzhead.extra){for(p=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending!==f.pending_buf_size));)at(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=J)}else f.status=J;if(f.status===J)if(f.gzhead.name){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.gzindex=0,f.status=L)}else f.status=L;if(f.status===L)if(f.gzhead.comment){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.status=M)}else f.status=M;if(f.status===M&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&$(a),f.pending+2<=f.pending_buf_size&&(at(f,255&a.adler),at(f,a.adler>>8&255),a.adler=0,f.status=O)):f.status=O),0!==f.pending){if($(a),0===a.avail_out)return f.last_flush=-1,o}else if(0===a.avail_in&&Y(s)<=Y(r)&&s!==_)return X(a,c);if(f.status===P&&0!==a.avail_in)return X(a,c);if(0!==a.avail_in||0!==f.lookahead||s!==n&&f.status!==P){var z=f.strategy===w?dt(f,s):f.strategy===v?_t(f,s):t[f.level].func(f,s);if(z!==U&&z!==V||(f.status=P),z===Q||z===U)return 0===a.avail_out&&(f.last_flush=-1),o;if(z===T&&(s===h?e._tr_align(f):s!==d&&(e._tr_stored_block(f,0,0,!1),s===l&&(Z(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),$(a),0===a.avail_out))return f.last_flush=-1,o}return s!==_?o:f.wrap<=0?u:(2===f.wrap?(at(f,255&a.adler),at(f,a.adler>>8&255),at(f,a.adler>>16&255),at(f,a.adler>>24&255),at(f,255&a.total_in),at(f,a.total_in>>8&255),at(f,a.total_in>>16&255),at(f,a.total_in>>24&255)):(et(f,a.adler>>>16),et(f,65535&a.adler)),$(a),f.wrap>0&&(f.wrap=-f.wrap),0!==f.pending?o:u)}function kt(t){var a;return t&&t.state?(a=t.state.status)!==F&&a!==G&&a!==J&&a!==L&&a!==M&&a!==O&&a!==P?X(t,g):(t.state=null,a===O?X(t,f):o):g}function zt(t,e){var i,r,n,h,l,_,d,u,f=e.length;if(!t||!t.state)return g;if(2===(h=(i=t.state).wrap)||1===h&&i.status!==F||i.lookahead)return g;for(1===h&&(t.adler=s(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===h&&(Z(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new a.Buf8(i.w_size),a.arraySet(u,e,f-i.w_size,i.w_size,0),e=u,f=i.w_size),l=t.avail_in,_=t.next_in,d=t.input,t.avail_in=f,t.next_in=0,t.input=e,rt(i);i.lookahead>=E;){r=i.strstart,n=i.lookahead-(E-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+E-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=E-1,rt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=E-1,i.match_available=0,t.next_in=_,t.input=d,t.avail_in=l,i.wrap=h,o}t=[new ot(0,0,0,0,nt),new ot(4,4,8,4,ht),new ot(4,5,16,8,ht),new ot(4,6,32,32,ht),new ot(4,4,16,16,lt),new ot(8,16,32,32,lt),new ot(8,16,128,128,lt),new ot(8,32,128,256,lt),new ot(32,128,258,1024,lt),new ot(32,258,258,4096,lt)],exports.deflateInit=wt,exports.deflateInit2=mt,exports.deflateReset=ct,exports.deflateResetKeep=ft,exports.deflateSetHeader=pt,exports.deflate=vt,exports.deflateEnd=kt,exports.deflateSetDictionary=zt,exports.deflateInfo="pako deflate (from Nodeca project)";
},{"../utils/common":"Cngu","./trees":"Iy1V","./adler32":"P885","./crc32":"ntXC","./messages":"spUl"}],"ZysO":[function(require,module,exports) {
"use strict";var i=30,e=12;module.exports=function(o,a){var t,d,n,l,s,f,r,b,c,u,v,m,w,h,k,_,x,g,p,z,j,q,y,A,B;t=o.state,d=o.next_in,A=o.input,n=d+(o.avail_in-5),l=o.next_out,B=o.output,s=l-(a-o.avail_out),f=l+(o.avail_out-257),r=t.dmax,b=t.wsize,c=t.whave,u=t.wnext,v=t.window,m=t.hold,w=t.bits,h=t.lencode,k=t.distcode,_=(1<<t.lenbits)-1,x=(1<<t.distbits)-1;i:do{w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=h[m&_];e:for(;;){if(m>>>=p=g>>>24,w-=p,0===(p=g>>>16&255))B[l++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=h[(65535&g)+(m&(1<<p)-1)];continue e}if(32&p){t.mode=e;break i}o.msg="invalid literal/length code",t.mode=i;break i}z=65535&g,(p&=15)&&(w<p&&(m+=A[d++]<<w,w+=8),z+=m&(1<<p)-1,m>>>=p,w-=p),w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=k[m&x];o:for(;;){if(m>>>=p=g>>>24,w-=p,!(16&(p=g>>>16&255))){if(0==(64&p)){g=k[(65535&g)+(m&(1<<p)-1)];continue o}o.msg="invalid distance code",t.mode=i;break i}if(j=65535&g,w<(p&=15)&&(m+=A[d++]<<w,(w+=8)<p&&(m+=A[d++]<<w,w+=8)),(j+=m&(1<<p)-1)>r){o.msg="invalid distance too far back",t.mode=i;break i}if(m>>>=p,w-=p,j>(p=l-s)){if((p=j-p)>c&&t.sane){o.msg="invalid distance too far back",t.mode=i;break i}if(q=0,y=v,0===u){if(q+=b-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}else if(u<p){if(q+=b+u-p,(p-=u)<z){z-=p;do{B[l++]=v[q++]}while(--p);if(q=0,u<z){z-=p=u;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}}else if(q+=u-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}for(;z>2;)B[l++]=y[q++],B[l++]=y[q++],B[l++]=y[q++],z-=3;z&&(B[l++]=y[q++],z>1&&(B[l++]=y[q++]))}else{q=l-j;do{B[l++]=B[q++],B[l++]=B[q++],B[l++]=B[q++],z-=3}while(z>2);z&&(B[l++]=B[q++],z>1&&(B[l++]=B[q++]))}break}}break}}while(d<n&&l<f);d-=z=w>>3,m&=(1<<(w-=z<<3))-1,o.next_in=d,o.next_out=l,o.avail_in=d<n?n-d+5:5-(d-n),o.avail_out=l<f?f-l+257:257-(l-f),t.hold=m,t.bits=w};
},{}],"WdHS":[function(require,module,exports) {
"use strict";var r=require("../utils/common"),f=15,i=852,o=592,e=0,u=1,t=2,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(a,c,m,w,d,v,B,h){var k,p,q,x,g,j,y,z,A,C=h.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new r.Buf16(f+1),Q=new r.Buf16(f+1),R=null,S=0;for(D=0;D<=f;D++)P[D]=0;for(E=0;E<w;E++)P[c[m+E]]++;for(H=C,G=f;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return d[v++]=20971520,d[v++]=20971520,h.bits=1,0;for(F=1;F<G&&0===P[F];F++);for(H<F&&(H=F),K=1,D=1;D<=f;D++)if(K<<=1,(K-=P[D])<0)return-1;if(K>0&&(a===e||1!==G))return-1;for(Q[1]=0,D=1;D<f;D++)Q[D+1]=Q[D]+P[D];for(E=0;E<w;E++)0!==c[m+E]&&(B[Q[c[m+E]]++]=E);if(a===e?(N=R=B,j=19):a===u?(N=n,O-=257,R=l,S-=257,j=256):(N=s,R=b,j=-1),M=0,E=0,D=F,g=v,I=H,J=0,q=-1,x=(L=1<<H)-1,a===u&&L>i||a===t&&L>o)return 1;for(;;){y=D-J,B[E]<j?(z=0,A=B[E]):B[E]>j?(z=R[S+B[E]],A=N[O+B[E]]):(z=96,A=0),k=1<<D-J,F=p=1<<I;do{d[g+(M>>J)+(p-=k)]=y<<24|z<<16|A|0}while(0!==p);for(k=1<<D-1;M&k;)k>>=1;if(0!==k?(M&=k-1,M+=k):M=0,E++,0==--P[D]){if(D===G)break;D=c[m+B[E]]}if(D>H&&(M&x)!==q){for(0===J&&(J=H),g+=F,K=1<<(I=D-J);I+J<G&&!((K-=P[I+J])<=0);)I++,K<<=1;if(L+=1<<I,a===u&&L>i||a===t&&L>o)return 1;d[q=M&x]=H<<24|I<<16|g-v|0}}return 0!==M&&(d[g+M]=D-J<<24|64<<16|0),h.bits=H,0};
},{"../utils/common":"Cngu"}],"3Geg":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),a=require("./adler32"),t=require("./crc32"),i=require("./inffast"),s=require("./inftrees"),n=0,r=1,o=2,d=4,l=5,f=6,c=0,h=1,k=2,b=-2,m=-3,w=-4,u=-5,g=8,v=1,x=2,p=3,_=4,y=5,z=6,B=7,S=8,q=9,C=10,I=11,R=12,j=13,A=14,D=15,E=16,G=17,H=18,K=19,N=20,F=21,J=22,L=23,M=24,O=25,P=26,Q=27,T=28,U=29,V=30,W=31,X=32,Y=852,Z=592,$=15,ee=$;function ae(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(a){var t;return a&&a.state?(t=a.state,a.total_in=a.total_out=t.total=0,a.msg="",t.wrap&&(a.adler=1&t.wrap),t.mode=v,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new e.Buf32(Y),t.distcode=t.distdyn=new e.Buf32(Z),t.sane=1,t.back=-1,c):b}function se(e){var a;return e&&e.state?((a=e.state).wsize=0,a.whave=0,a.wnext=0,ie(e)):b}function ne(e,a){var t,i;return e&&e.state?(i=e.state,a<0?(t=0,a=-a):(t=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?b:(null!==i.window&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,se(e))):b}function re(e,a){var t,i;return e?(i=new te,e.state=i,i.window=null,(t=ne(e,a))!==c&&(e.state=null),t):b}function oe(e){return re(e,ee)}var de,le,fe=!0;function ce(a){if(fe){var t;for(de=new e.Buf32(512),le=new e.Buf32(32),t=0;t<144;)a.lens[t++]=8;for(;t<256;)a.lens[t++]=9;for(;t<280;)a.lens[t++]=7;for(;t<288;)a.lens[t++]=8;for(s(r,a.lens,0,288,de,0,a.work,{bits:9}),t=0;t<32;)a.lens[t++]=5;s(o,a.lens,0,32,le,0,a.work,{bits:5}),fe=!1}a.lencode=de,a.lenbits=9,a.distcode=le,a.distbits=5}function he(a,t,i,s){var n,r=a.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new e.Buf8(r.wsize)),s>=r.wsize?(e.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>s&&(n=s),e.arraySet(r.window,t,i-s,n,r.wnext),(s-=n)?(e.arraySet(r.window,t,i-s,s,0),r.wnext=s,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function ke(Y,Z){var $,ee,te,ie,se,ne,re,oe,de,le,fe,ke,be,me,we,ue,ge,ve,xe,pe,_e,ye,ze,Be,Se=0,qe=new e.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&0!==Y.avail_in)return b;($=Y.state).mode===R&&($.mode=j),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,le=ne,fe=re,ye=c;e:for(;;)switch($.mode){case v:if(0===$.wrap){$.mode=j;break}for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(2&$.wrap&&35615===oe){$.check=0,qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0),oe=0,de=0,$.mode=x;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&oe)<<8)+(oe>>8))%31){Y.msg="incorrect header check",$.mode=V;break}if((15&oe)!==g){Y.msg="unknown compression method",$.mode=V;break}if(de-=4,_e=8+(15&(oe>>>=4)),0===$.wbits)$.wbits=_e;else if(_e>$.wbits){Y.msg="invalid window size",$.mode=V;break}$.dmax=1<<_e,Y.adler=$.check=1,$.mode=512&oe?C:R,oe=0,de=0;break;case x:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.flags=oe,(255&$.flags)!==g){Y.msg="unknown compression method",$.mode=V;break}if(57344&$.flags){Y.msg="unknown header flags set",$.mode=V;break}$.head&&($.head.text=oe>>8&1),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=p;case p:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.time=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,qe[2]=oe>>>16&255,qe[3]=oe>>>24&255,$.check=t($.check,qe,4,0)),oe=0,de=0,$.mode=_;case _:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.xflags=255&oe,$.head.os=oe>>8),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=y;case y:if(1024&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length=oe,$.head&&($.head.extra_len=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0}else $.head&&($.head.extra=null);$.mode=z;case z:if(1024&$.flags&&((ke=$.length)>ne&&(ke=ne),ke&&($.head&&(_e=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),e.arraySet($.head.extra,ee,ie,ke,_e)),512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,$.length-=ke),$.length))break e;$.length=0,$.mode=B;case B:if(2048&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.name+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.name=null);$.length=0,$.mode=S;case S:if(4096&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.comment+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.comment=null);$.mode=q;case q:if(512&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(65535&$.check)){Y.msg="header crc mismatch",$.mode=V;break}oe=0,de=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),Y.adler=$.check=0,$.mode=R;break;case C:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}Y.adler=$.check=ae(oe),oe=0,de=0,$.mode=I;case I:if(0===$.havedict)return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,k;Y.adler=$.check=1,$.mode=R;case R:if(Z===l||Z===f)break e;case j:if($.last){oe>>>=7&de,de-=7&de,$.mode=Q;break}for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}switch($.last=1&oe,de-=1,3&(oe>>>=1)){case 0:$.mode=A;break;case 1:if(ce($),$.mode=N,Z===f){oe>>>=2,de-=2;break e}break;case 2:$.mode=G;break;case 3:Y.msg="invalid block type",$.mode=V}oe>>>=2,de-=2;break;case A:for(oe>>>=7&de,de-=7&de;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if((65535&oe)!=(oe>>>16^65535)){Y.msg="invalid stored block lengths",$.mode=V;break}if($.length=65535&oe,oe=0,de=0,$.mode=D,Z===f)break e;case D:$.mode=E;case E:if(ke=$.length){if(ke>ne&&(ke=ne),ke>re&&(ke=re),0===ke)break e;e.arraySet(te,ee,ie,ke,se),ne-=ke,ie+=ke,re-=ke,se+=ke,$.length-=ke;break}$.mode=R;break;case G:for(;de<14;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.nlen=257+(31&oe),oe>>>=5,de-=5,$.ndist=1+(31&oe),oe>>>=5,de-=5,$.ncode=4+(15&oe),oe>>>=4,de-=4,$.nlen>286||$.ndist>30){Y.msg="too many length or distance symbols",$.mode=V;break}$.have=0,$.mode=H;case H:for(;$.have<$.ncode;){for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.lens[Ce[$.have++]]=7&oe,oe>>>=3,de-=3}for(;$.have<19;)$.lens[Ce[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,ze={bits:$.lenbits},ye=s(n,$.lens,0,19,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid code lengths set",$.mode=V;break}$.have=0,$.mode=K;case K:for(;$.have<$.nlen+$.ndist;){for(;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ge<16)oe>>>=we,de-=we,$.lens[$.have++]=ge;else{if(16===ge){for(Be=we+2;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe>>>=we,de-=we,0===$.have){Y.msg="invalid bit length repeat",$.mode=V;break}_e=$.lens[$.have-1],ke=3+(3&oe),oe>>>=2,de-=2}else if(17===ge){for(Be=we+3;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=3+(7&(oe>>>=we)),oe>>>=3,de-=3}else{for(Be=we+7;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=11+(127&(oe>>>=we)),oe>>>=7,de-=7}if($.have+ke>$.nlen+$.ndist){Y.msg="invalid bit length repeat",$.mode=V;break}for(;ke--;)$.lens[$.have++]=_e}}if($.mode===V)break;if(0===$.lens[256]){Y.msg="invalid code -- missing end-of-block",$.mode=V;break}if($.lenbits=9,ze={bits:$.lenbits},ye=s(r,$.lens,0,$.nlen,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid literal/lengths set",$.mode=V;break}if($.distbits=6,$.distcode=$.distdyn,ze={bits:$.distbits},ye=s(o,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,ze),$.distbits=ze.bits,ye){Y.msg="invalid distances set",$.mode=V;break}if($.mode=N,Z===f)break e;case N:$.mode=F;case F:if(ne>=6&&re>=258){Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,i(Y,fe),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,$.mode===R&&($.back=-1);break}for($.back=0;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ue&&0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.lencode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,$.length=ge,0===ue){$.mode=P;break}if(32&ue){$.back=-1,$.mode=R;break}if(64&ue){Y.msg="invalid literal/length code",$.mode=V;break}$.extra=15&ue,$.mode=J;case J:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=L;case L:for(;ue=(Se=$.distcode[oe&(1<<$.distbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.distcode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,64&ue){Y.msg="invalid distance code",$.mode=V;break}$.offset=ge,$.extra=15&ue,$.mode=M;case M:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.offset+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}if($.offset>$.dmax){Y.msg="invalid distance too far back",$.mode=V;break}$.mode=O;case O:if(0===re)break e;if(ke=fe-re,$.offset>ke){if((ke=$.offset-ke)>$.whave&&$.sane){Y.msg="invalid distance too far back",$.mode=V;break}ke>$.wnext?(ke-=$.wnext,be=$.wsize-ke):be=$.wnext-ke,ke>$.length&&(ke=$.length),me=$.window}else me=te,be=se-$.offset,ke=$.length;ke>re&&(ke=re),re-=ke,$.length-=ke;do{te[se++]=me[be++]}while(--ke);0===$.length&&($.mode=F);break;case P:if(0===re)break e;te[se++]=$.length,re--,$.mode=F;break;case Q:if($.wrap){for(;de<32;){if(0===ne)break e;ne--,oe|=ee[ie++]<<de,de+=8}if(fe-=re,Y.total_out+=fe,$.total+=fe,fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,se-fe):a($.check,te,fe,se-fe)),fe=re,($.flags?oe:ae(oe))!==$.check){Y.msg="incorrect data check",$.mode=V;break}oe=0,de=0}$.mode=T;case T:if($.wrap&&$.flags){for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(4294967295&$.total)){Y.msg="incorrect length check",$.mode=V;break}oe=0,de=0}$.mode=U;case U:ye=h;break e;case V:ye=m;break e;case W:return w;case X:default:return b}return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,($.wsize||fe!==Y.avail_out&&$.mode<V&&($.mode<Q||Z!==d))&&he(Y,Y.output,Y.next_out,fe-Y.avail_out)?($.mode=W,w):(le-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=le,Y.total_out+=fe,$.total+=fe,$.wrap&&fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,Y.next_out-fe):a($.check,te,fe,Y.next_out-fe)),Y.data_type=$.bits+($.last?64:0)+($.mode===R?128:0)+($.mode===N||$.mode===D?256:0),(0===le&&0===fe||Z===d)&&ye===c&&(ye=u),ye)}function be(e){if(!e||!e.state)return b;var a=e.state;return a.window&&(a.window=null),e.state=null,c}function me(e,a){var t;return e&&e.state?0==(2&(t=e.state).wrap)?b:(t.head=a,a.done=!1,c):b}function we(e,t){var i,s=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==I?b:i.mode===I&&a(1,t,s,0)!==i.check?m:he(e,t,s,s)?(i.mode=W,w):(i.havedict=1,c):b}exports.inflateReset=se,exports.inflateReset2=ne,exports.inflateResetKeep=ie,exports.inflateInit=oe,exports.inflateInit2=re,exports.inflate=ke,exports.inflateEnd=be,exports.inflateGetHeader=me,exports.inflateSetDictionary=we,exports.inflateInfo="pako inflate (from Nodeca project)";
},{"../utils/common":"Cngu","./adler32":"P885","./crc32":"ntXC","./inffast":"ZysO","./inftrees":"WdHS"}],"ecLr":[function(require,module,exports) {
"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
},{}],"MId7":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var t=require("buffer").Buffer,e=require("process"),s=require("assert"),r=require("pako/lib/zlib/zstream"),i=require("pako/lib/zlib/deflate.js"),o=require("pako/lib/zlib/inflate.js"),h=require("pako/lib/zlib/constants");for(var n in h)exports[n]=h[n];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7;var a=31,p=139;function _(t){if("number"!=typeof t||t<exports.DEFLATE||t>exports.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}_.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=exports.UNZIP),this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?i.deflateEnd(this.strm):this.mode!==exports.INFLATE&&this.mode!==exports.GUNZIP&&this.mode!==exports.INFLATERAW&&this.mode!==exports.UNZIP||o.inflateEnd(this.strm),this.mode=exports.NONE,this.dictionary=null)},_.prototype.write=function(t,e,s,r,i,o,h){return this._write(!0,t,e,s,r,i,o,h)},_.prototype.writeSync=function(t,e,s,r,i,o,h){return this._write(!1,t,e,s,r,i,o,h)},_.prototype._write=function(r,i,o,h,n,a,p,_){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==exports.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==exports.Z_NO_FLUSH&&i!==exports.Z_PARTIAL_FLUSH&&i!==exports.Z_SYNC_FLUSH&&i!==exports.Z_FULL_FLUSH&&i!==exports.Z_FINISH&&i!==exports.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=t.alloc(0),n=0,h=0),this.strm.avail_in=n,this.strm.input=o,this.strm.next_in=h,this.strm.avail_out=_,this.strm.output=a,this.strm.next_out=p,this.flush=i,!r)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return e.nextTick(function(){l._process(),l._after()}),this},_.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},_.prototype._process=function(){var t=null;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflate(this.strm,this.flush);break;case exports.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(this.strm.input[t]!==a){this.mode=exports.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;this.strm.input[t]===p?(this.gzip_id_bytes_read=2,this.mode=exports.GUNZIP):this.mode=exports.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===exports.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===exports.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===exports.Z_DATA_ERROR&&(this.err=exports.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===exports.GUNZIP&&this.err===exports.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},_.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===exports.Z_FINISH)return this._error("unexpected end of file"),!1;break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},_.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},_.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},_.prototype.init=function(t,e,r,i,o){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(t>=8&&t<=15,"invalid windowBits"),s(e>=-1&&e<=9,"invalid compression level"),s(r>=1&&r<=9,"invalid memlevel"),s(i===exports.Z_FILTERED||i===exports.Z_HUFFMAN_ONLY||i===exports.Z_RLE||i===exports.Z_FIXED||i===exports.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,r,i,o),this._setDictionary()},_.prototype.params=function(){throw new Error("deflateParams Not supported")},_.prototype.reset=function(){this._reset(),this._setDictionary()},_.prototype._init=function(t,e,s,h,n){switch(this.level=t,this.windowBits=e,this.memLevel=s,this.strategy=h,this.flush=exports.Z_NO_FLUSH,this.err=exports.Z_OK,this.mode!==exports.GZIP&&this.mode!==exports.GUNZIP||(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),this.mode!==exports.DEFLATERAW&&this.mode!==exports.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==exports.Z_OK&&this._error("Init error"),this.dictionary=n,this.write_in_progress=!1,this.init_done=!0},_.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=i.deflateSetDictionary(this.strm,this.dictionary)}this.err!==exports.Z_OK&&this._error("Failed to set dictionary")}},_.prototype._reset=function(){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=i.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==exports.Z_OK&&this._error("Failed to reset stream")},exports.Zlib=_;
},{"assert":"DlZn","pako/lib/zlib/zstream":"wru8","pako/lib/zlib/deflate.js":"d27Y","pako/lib/zlib/inflate.js":"3Geg","pako/lib/zlib/constants":"ecLr","buffer":"dskh","process":"pBGv"}],"a/TY":[function(require,module,exports) {

var process = require("process");
var e=require("process"),t=require("buffer").Buffer,n=require("stream").Transform,r=require("./binding"),i=require("util"),o=require("assert").ok,s=require("buffer").kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";r.Z_MIN_WINDOWBITS=8,r.Z_MAX_WINDOWBITS=15,r.Z_DEFAULT_WINDOWBITS=15,r.Z_MIN_CHUNK=64,r.Z_MAX_CHUNK=1/0,r.Z_DEFAULT_CHUNK=16384,r.Z_MIN_MEMLEVEL=1,r.Z_MAX_MEMLEVEL=9,r.Z_DEFAULT_MEMLEVEL=8,r.Z_MIN_LEVEL=-1,r.Z_MAX_LEVEL=9,r.Z_DEFAULT_LEVEL=r.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(r),_=0;_<l.length;_++){var u=l[_];u.match(/^Z/)&&Object.defineProperty(exports,u,{enumerable:!0,value:r[u],writable:!1})}for(var a={Z_OK:r.Z_OK,Z_STREAM_END:r.Z_STREAM_END,Z_NEED_DICT:r.Z_NEED_DICT,Z_ERRNO:r.Z_ERRNO,Z_STREAM_ERROR:r.Z_STREAM_ERROR,Z_DATA_ERROR:r.Z_DATA_ERROR,Z_MEM_ERROR:r.Z_MEM_ERROR,Z_BUF_ERROR:r.Z_BUF_ERROR,Z_VERSION_ERROR:r.Z_VERSION_ERROR},h=Object.keys(a),c=0;c<h.length;c++){var p=h[c];a[a[p]]=p}function E(e,n,r){var i=[],o=0;function l(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",l)}function _(){var n,l=null;o>=s?l=new RangeError(f):n=t.concat(i,o),i=[],e.close(),r(l,n)}e.on("error",function(t){e.removeListener("end",_),e.removeListener("readable",l),r(t)}),e.on("end",_),e.end(n),l()}function d(e,n){if("string"==typeof n&&(n=t.from(n)),!t.isBuffer(n))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(n,r)}function w(e){if(!(this instanceof w))return new w(e);S.call(this,e,r.DEFLATE)}function Z(e){if(!(this instanceof Z))return new Z(e);S.call(this,e,r.INFLATE)}function L(e){if(!(this instanceof L))return new L(e);S.call(this,e,r.GZIP)}function R(e){if(!(this instanceof R))return new R(e);S.call(this,e,r.GUNZIP)}function v(e){if(!(this instanceof v))return new v(e);S.call(this,e,r.DEFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);S.call(this,e,r.INFLATERAW)}function I(e){if(!(this instanceof I))return new I(e);S.call(this,e,r.UNZIP)}function g(e){return e===r.Z_NO_FLUSH||e===r.Z_PARTIAL_FLUSH||e===r.Z_SYNC_FLUSH||e===r.Z_FULL_FLUSH||e===r.Z_FINISH||e===r.Z_BLOCK}function S(e,i){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||exports.Z_DEFAULT_CHUNK,n.call(this,e),e.flush&&!g(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!g(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||r.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:r.Z_FINISH,e.chunkSize&&(e.chunkSize<exports.Z_MIN_CHUNK||e.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<exports.Z_MIN_WINDOWBITS||e.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<exports.Z_MIN_LEVEL||e.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<exports.Z_MIN_MEMLEVEL||e.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=exports.Z_FILTERED&&e.strategy!=exports.Z_HUFFMAN_ONLY&&e.strategy!=exports.Z_RLE&&e.strategy!=exports.Z_FIXED&&e.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!t.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new r.Zlib(i);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){y(s),s._hadError=!0;var n=new Error(e);n.errno=t,n.code=exports.codes[t],s.emit("error",n)};var f=exports.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(f=e.level);var l=exports.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||exports.Z_DEFAULT_WINDOWBITS,f,e.memLevel||exports.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=f,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function y(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function F(e){e.emit("close")}Object.defineProperty(exports,"codes",{enumerable:!0,value:Object.freeze(a),writable:!1}),exports.Deflate=w,exports.Inflate=Z,exports.Gzip=L,exports.Gunzip=R,exports.DeflateRaw=v,exports.InflateRaw=x,exports.Unzip=I,exports.createDeflate=function(e){return new w(e)},exports.createInflate=function(e){return new Z(e)},exports.createDeflateRaw=function(e){return new v(e)},exports.createInflateRaw=function(e){return new x(e)},exports.createGzip=function(e){return new L(e)},exports.createGunzip=function(e){return new R(e)},exports.createUnzip=function(e){return new I(e)},exports.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new w(t),e,n)},exports.deflateSync=function(e,t){return d(new w(t),e)},exports.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new L(t),e,n)},exports.gzipSync=function(e,t){return d(new L(t),e)},exports.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new v(t),e,n)},exports.deflateRawSync=function(e,t){return d(new v(t),e)},exports.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new I(t),e,n)},exports.unzipSync=function(e,t){return d(new I(t),e)},exports.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new Z(t),e,n)},exports.inflateSync=function(e,t){return d(new Z(t),e)},exports.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new R(t),e,n)},exports.gunzipSync=function(e,t){return d(new R(t),e)},exports.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new x(t),e,n)},exports.inflateRawSync=function(e,t){return d(new x(t),e)},i.inherits(S,n),S.prototype.params=function(t,n,i){if(t<exports.Z_MIN_LEVEL||t>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(n!=exports.Z_FILTERED&&n!=exports.Z_HUFFMAN_ONLY&&n!=exports.Z_RLE&&n!=exports.Z_FIXED&&n!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==t||this._strategy!==n){var s=this;this.flush(r.Z_SYNC_FLUSH,function(){o(s._handle,"zlib binding closed"),s._handle.params(t,n),s._hadError||(s._level=t,s._strategy=n,i&&i())})}else e.nextTick(i)},S.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},S.prototype._flush=function(e){this._transform(t.alloc(0),"",e)},S.prototype.flush=function(n,i){var o=this,s=this._writableState;("function"==typeof n||void 0===n&&!i)&&(i=n,n=r.Z_FULL_FLUSH),s.ended?i&&e.nextTick(i):s.ending?i&&this.once("end",i):s.needDrain?i&&this.once("drain",function(){return o.flush(n,i)}):(this._flushFlag=n,this.write(t.alloc(0),"",i))},S.prototype.close=function(t){y(this,t),e.nextTick(F,this)},S.prototype._transform=function(e,n,i){var o,s=this._writableState,f=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||t.isBuffer(e)?this._handle?(f?o=this._finishFlushFlag:(o=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||r.Z_NO_FLUSH)),void this._processChunk(e,o,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},S.prototype._processChunk=function(e,n,r){var i=e&&e.length,l=this._chunkSize-this._offset,_=0,u=this,a="function"==typeof r;if(!a){var h,c=[],p=0;this.on("error",function(e){h=e}),o(this._handle,"zlib binding closed");do{var E=this._handle.writeSync(n,e,_,i,this._buffer,this._offset,l)}while(!this._hadError&&Z(E[0],E[1]));if(this._hadError)throw h;if(p>=s)throw y(this),new RangeError(f);var d=t.concat(c,p);return y(this),d}o(this._handle,"zlib binding closed");var w=this._handle.write(n,e,_,i,this._buffer,this._offset,l);function Z(s,f){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var h=l-f;if(o(h>=0,"have should not go down"),h>0){var E=u._buffer.slice(u._offset,u._offset+h);u._offset+=h,a?u.push(E):(c.push(E),p+=E.length)}if((0===f||u._offset>=u._chunkSize)&&(l=u._chunkSize,u._offset=0,u._buffer=t.allocUnsafe(u._chunkSize)),0===f){if(_+=i-s,i=s,!a)return!0;var d=u._handle.write(n,e,_,i,u._buffer,u._offset,u._chunkSize);return d.callback=Z,void(d.buffer=e)}if(!a)return!1;r()}}w.buffer=e,w.callback=Z},i.inherits(w,S),i.inherits(Z,S),i.inherits(L,S),i.inherits(R,S),i.inherits(v,S),i.inherits(x,S),i.inherits(I,S);
},{"buffer":"dskh","stream":"fnRj","./binding":"MId7","util":"gfUn","assert":"DlZn","process":"pBGv"}],"B8Ln":[function(require,module,exports) {
function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function r(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}var t=function(){function e(r){n(this,e),this.packetManager=r}return r(e,[{key:"handle",value:function(n){return n}}]),e}();module.exports=t;
},{}],"f61M":[function(require,module,exports) {
function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}var n=require("../util/Constants"),s=require("../util/Util"),u=function(){function r(e,i){t(this,r),this.user=e,this.patch(i)}return i(r,[{key:"patch",value:function(e){for(var t of Object.keys(n.UserSettingsMap)){var r=n.UserSettingsMap[t];e.hasOwnProperty(t)&&("function"==typeof r?this[r.name]=r(e[t]):this[r]=e[t])}}},{key:"update",value:function(t,r){return this.user.client.rest.methods.patchUserSettings(e({},t,r))}},{key:"setGuildPosition",value:function(e,t,r){var i=Object.assign([],this.guildPositions);return s.moveElementInArray(i,e.id,t,r),this.update("guild_positions",i).then(function(){return e})}},{key:"addRestrictedGuild",value:function(e){var t=Object.assign([],this.restrictedGuilds);return t.includes(e.id)?Promise.reject(new Error("Guild is already restricted")):(t.push(e.id),this.update("restricted_guilds",t).then(function(){return e}))}},{key:"removeRestrictedGuild",value:function(e){var t=Object.assign([],this.restrictedGuilds),r=t.indexOf(e.id);return r<0?Promise.reject(new Error("Guild is not restricted")):(t.splice(r,1),this.update("restricted_guilds",t).then(function(){return e}))}}]),r}();module.exports=u;
},{"../util/Constants":"TQBg","../util/Util":"kFkP"}],"HsUB":[function(require,module,exports) {
function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}var t=require("../util/Constants"),a=function(){function n(r){e(this,n),this.patch(r)}return r(n,[{key:"patch",value:function(e){for(var n of Object.keys(t.UserChannelOverrideMap)){var r=t.UserChannelOverrideMap[n];e.hasOwnProperty(n)&&("function"==typeof r?this[r.name]=r(e[n]):this[r]=e[n])}}}]),n}();module.exports=a;
},{"../util/Constants":"TQBg"}],"Grxo":[function(require,module,exports) {
function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var r=require("../util/Constants"),a=require("../util/Collection"),l=require("./ClientUserChannelOverride"),u=function(){function t(e,i){n(this,t),Object.defineProperty(this,"client",{value:i}),this.guildID=e.guild_id,this.channelOverrides=new a,this.patch(e)}return i(t,[{key:"patch",value:function(e){for(var n of Object.keys(r.UserGuildSettingsMap)){var t=r.UserGuildSettingsMap[n];if(e.hasOwnProperty(n))if("channel_overrides"===n)for(var i of e[n])this.channelOverrides.set(i.channel_id,new l(i));else"function"==typeof t?this[t.name]=t(e[n]):this[t]=e[n]}}},{key:"update",value:function(n,t){return this.client.rest.methods.patchClientUserGuildSettings(this.guildID,e({},n,t))}}]),t}();module.exports=u;
},{"../util/Constants":"TQBg","../util/Collection":"QMEy","./ClientUserChannelOverride":"HsUB"}],"Q6XH":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?i(t):r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=u(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(r):s.value}})(e,t,r||e)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=require("./User"),f=require("../util/Collection"),d=require("./ClientUserSettings"),m=require("./ClientUserGuildSettings"),h=require("../util/Constants"),y=require("util"),v=function(e){function r(){return t(this,r),s(this,l(r).apply(this,arguments))}return a(r,p),n(r,[{key:"setup",value:function(e){if(o(l(r.prototype),"setup",this).call(this,e),this.verified=e.verified,this.email=e.email,this.localPresence={},this._typing=new Map,this.friends=new f,this.blocked=new f,this.notes=new f,this.premium="boolean"==typeof e.premium?e.premium:null,this.mfaEnabled=e.mfa_enabled,this.mobile="boolean"==typeof e.mobile?e.mobile:null,this.settings=e.user_settings?new d(this,e.user_settings):null,this.guildSettings=new f,e.user_guild_settings)for(var t of e.user_guild_settings)this.guildSettings.set(t.guild_id,new m(t,this.client))}},{key:"edit",value:function(e){return this.client.rest.methods.updateCurrentUser(e)}},{key:"setUsername",value:function(e,t){return this.client.rest.methods.updateCurrentUser({username:e},t)}},{key:"setEmail",value:function(e,t){return this.client.rest.methods.updateCurrentUser({email:e},t)}},{key:"setPassword",value:function(e,t){return this.client.rest.methods.updateCurrentUser({password:e},t)}},{key:"setAvatar",value:function(e){var t=this;return this.client.resolver.resolveImage(e).then(function(e){return t.client.rest.methods.updateCurrentUser({avatar:e})})}},{key:"setPresence",value:function(e){var t=this;return new Promise(function(r){var n=t.localPresence.status||t.presence.status,s=t.localPresence.game,i=t.localPresence.afk||t.presence.afk;if(!s&&t.presence.game&&(s={name:t.presence.game.name,type:t.presence.game.type,url:t.presence.game.url}),e.status){if("string"!=typeof e.status)throw new TypeError("Status must be a string");t.bot?n=e.status:(t.settings.update(h.UserSettingsMap.status,e.status),n="invisible")}e.game?((s=e.game).type=s.url&&void 0===s.type?1:s.type||0,"string"==typeof s.type&&(s.type=h.ActivityTypes.indexOf(s.type.toUpperCase()))):void 0!==e.game&&(s=null),void 0!==e.afk&&(i=e.afk),i=Boolean(i),t.localPresence={status:n,game:s,afk:i},t.localPresence.since=0,t.localPresence.game=t.localPresence.game||null,t.client.ws.send({op:3,d:t.localPresence}),t.client._setPresence(t.id,t.localPresence),r(t)})}},{key:"setStatus",value:function(e){return this.setPresence({status:e})}},{key:"setGame",value:function(e,t){return e?this.setPresence({game:{name:e,url:t}}):this.setPresence({game:null})}},{key:"setActivity",value:function(e){var{url:t,type:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?this.setPresence({game:{name:e,type:r,url:t}}).then(function(e){return e.presence}):this.setPresence({game:null})}},{key:"setAFK",value:function(e){return this.setPresence({afk:e})}},{key:"fetchMentions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.rest.methods.fetchMentions(e)}},{key:"addFriend",value:function(e){return e=this.client.resolver.resolveUser(e),this.client.rest.methods.addFriend(e)}},{key:"removeFriend",value:function(e){return e=this.client.resolver.resolveUser(e),this.client.rest.methods.removeFriend(e)}},{key:"createGuild",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof n&&n.startsWith("data:")?this.client.rest.methods.createGuild({name:e,icon:n,region:t}):this.client.resolver.resolveImage(n).then(function(n){return r.client.rest.methods.createGuild({name:e,icon:n,region:t})})}},{key:"createGroupDM",value:function(e){var t=this;return this.client.rest.methods.createGroupDM({recipients:e.map(function(e){return t.client.resolver.resolveUserID(e.user)}),accessTokens:e.map(function(e){return e.accessToken}),nicks:e.reduce(function(e,t){return t.nick&&(e[t.user?t.user.id:t.id]=t.nick),e},{})})}},{key:"acceptInvite",value:function(e){return this.client.rest.methods.acceptInvite(e)}}]),r}();v.prototype.acceptInvite=y.deprecate(v.prototype.acceptInvite,"ClientUser#acceptInvite: userbot methods will be removed"),v.prototype.setGame=y.deprecate(v.prototype.setGame,"ClientUser#setGame: use ClientUser#setActivity instead"),v.prototype.addFriend=y.deprecate(v.prototype.addFriend,"ClientUser#addFriend: userbot methods will be removed"),v.prototype.removeFriend=y.deprecate(v.prototype.removeFriend,"ClientUser#removeFriend: userbot methods will be removed"),v.prototype.setPassword=y.deprecate(v.prototype.setPassword,"ClientUser#setPassword: userbot methods will be removed"),v.prototype.setEmail=y.deprecate(v.prototype.setEmail,"ClientUser#setEmail: userbot methods will be removed"),v.prototype.fetchMentions=y.deprecate(v.prototype.fetchMentions,"ClientUser#fetchMentions: userbot methods will be removed"),module.exports=v;
},{"./User":"OMuY","../util/Collection":"QMEy","./ClientUserSettings":"f61M","./ClientUserGuildSettings":"Grxo","../util/Constants":"TQBg","util":"gfUn"}],"pIzY":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?o(t):n}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=require("./AbstractHandler"),f=require("../../../../structures/ClientUser"),l=function(e){function n(){return t(this,n),s(this,a(n).apply(this,arguments))}return i(n,c),r(n,[{key:"handle",value:function(e){var t=this.packetManager.client,n=e.d;t.ws.heartbeat(),n.user.user_settings=n.user_settings,n.user.user_guild_settings=n.user_guild_settings;var r=new f(t,n.user);for(var s of(t.user=r,t.readyAt=new Date,t.users.set(r.id,r),n.guilds))t.guilds.has(s.id)||t.dataManager.newGuild(s);for(var o of n.private_channels)t.dataManager.newChannel(o);for(var a of n.relationships){var i=t.dataManager.newUser(a.user);1===a.type?t.user.friends.set(i.id,i):2===a.type&&t.user.blocked.set(i.id,i)}for(var u of(n.presences=n.presences||[],n.presences))t.dataManager.newUser(u.user),t._setPresence(u.user.id,u);if(n.notes)for(var c in n.notes){var l=n.notes[c];l.length||(l=null),t.user.notes.set(c,l)}!t.user.bot&&t.options.sync&&t.setInterval(t.syncGuilds.bind(t),3e4),t.users.has("1")||t.dataManager.newUser({id:"1",username:"Clyde",discriminator:"0000",avatar:"https://discordapp.com/assets/f78426a064bc9dd24847519259bc42af.png",bot:!0,status:"online",game:null,verified:!0});var d=t.setTimeout(function(){t.ws.connection.triggerReady()},1200*n.guilds.length);t.setMaxListeners(n.guilds.length+10),t.once("ready",function(){t.syncGuilds(),t.setMaxListeners(10),t.clearTimeout(d)});var p=this.packetManager.ws;p.sessionID=n.session_id,p._trace=n._trace,t.emit("debug","READY ".concat(p._trace.join(" -> ")," ").concat(p.sessionID)),p.checkIfReady()}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln","../../../../structures/ClientUser":"Q6XH"}],"kqy7":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=require("./AbstractHandler"),l=require("../../../../util/Constants"),s=function(t){function n(){return e(this,n),o(this,c(n).apply(this,arguments))}return i(n,f),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=e.ws.connection;n._trace=t.d._trace,n.status=l.Status.READY,this.packetManager.handleQueue();var r=n.sequence-n.closeSequence;n.debug("RESUMED ".concat(n._trace.join(" -> ")," | replayed ").concat(r," events.")),e.emit(l.Events.RESUME,r),n.heartbeat()}}]),n}();module.exports=s;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"GncX":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),o(this,i(n).apply(this,arguments))}return a(n,f),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,r=e.guilds.get(n.id);r?r.available||n.unavailable||(r.setup(n),this.packetManager.ws.checkIfReady()):e.dataManager.newGuild(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"MjuY":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./AbstractHandler"),a=require("../../../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.actions.GuildDelete.handle(n);o.guild&&e.emit(a.Events.GUILD_DELETE,o.guild)}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"tL35":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildUpdate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"2L+2":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=require("../../../../util/Constants"),p=function(t){function n(){return e(this,n),o(this,i(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,r=e.guilds.get(n.guild_id),o=e.users.get(n.user.id);r&&o&&e.emit(l.Events.GUILD_BAN_ADD,r,o)}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"1XK3":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildBanRemove.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"obun":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.guilds.get(n.guild_id);o&&(o.memberCount++,o._addMember(n))}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"1n+/":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildMemberRemove.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"fsKK":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),o(this,i(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,r=e.guilds.get(n.guild_id);if(r){var o=r.members.get(n.user.id);o&&r._updateMember(o,n)}}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"TxeB":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildRoleCreate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"/UCQ":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildRoleDelete.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"H3nE":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildRoleUpdate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"Jqga":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildEmojisUpdate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"cAxX":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=require("../../../../util/Constants"),p=function(t){function n(){return e(this,n),o(this,i(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,r=e.guilds.get(n.guild_id);if(r){var o=n.members.map(function(t){return r._addMember(t,!1)});e.emit(l.Events.GUILD_MEMBERS_CHUNK,o,r),e.ws.lastHeartbeatAck=!0}}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"UdkR":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),{Events:l}=require("../../../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.guilds.get(n.guild_id);o&&e.emit(l.GUILD_INTEGRATIONS_UPDATE,o)}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"3ADe":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.ChannelCreate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"t2WZ":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=require("../../../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.actions.ChannelDelete.handle(n);o.channel&&e.emit(l.Events.CHANNEL_DELETE,o.channel)}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"2Scy":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.ChannelUpdate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"bXFG":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=require("./AbstractHandler"),l=require("../../../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,u(n).apply(this,arguments))}return c(n,f),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.channels.get(n.channel_id),r=new Date(n.last_pin_timestamp);o&&r&&(o.lastPinTimestamp=r.getTime()||null,e.emit(l.Events.CHANNEL_PINS_UPDATE,o,r))}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"BXym":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?i(t):r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./AbstractHandler"),a=require("../../../../util/Constants"),l=require("../../../../util/Util"),p=function(e){function r(){return t(this,r),o(this,u(r).apply(this,arguments))}return c(r,f),n(r,[{key:"handle",value:function(e){var t=this.packetManager.client,r=e.d,n=t.users.get(r.user.id),o=t.guilds.get(r.guild_id);if(!n){if(!r.user.username)return;n=t.dataManager.newUser(r.user)}var i=l.cloneObject(n);if(n.patch(r.user),n.equals(i)||t.emit(a.Events.USER_UPDATE,i,n),o){var u=o.members.get(n.id);if(u||"offline"===r.status||(u=o._addMember({user:n,roles:r.roles,deaf:!1,mute:!1},!1),t.emit(a.Events.GUILD_MEMBER_AVAILABLE,u)),u){if(0===t.listenerCount(a.Events.PRESENCE_UPDATE))return void o._setPresence(n.id,r);var c=l.cloneObject(u);u.presence&&(c.frozenPresence=l.cloneObject(u.presence)),o._setPresence(n.id,r),t.emit(a.Events.PRESENCE_UPDATE,c,u)}else o._setPresence(n.id,r)}}}]),r}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg","../../../../util/Util":"kFkP"}],"OlT4":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.UserUpdate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"TvQf":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.UserNoteUpdate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"G2G+":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=require("../../../../util/Constants"),s=function(t){function n(){return e(this,n),o(this,i(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client;e.user.settings.patch(t.d),e.emit(l.Events.USER_SETTINGS_UPDATE,e.user.settings)}}]),n}();module.exports=s;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"zV7i":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./AbstractHandler"),s=require("../../../../util/Constants"),a=require("../../../../structures/ClientUserGuildSettings"),p=function(t){function n(){return e(this,n),o(this,u(n).apply(this,arguments))}return c(n,l),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=e.user.guildSettings.get(t.d.guild_id);n?n.patch(t.d):e.user.guildSettings.set(t.d.guild_id,new a(t.d,e)),e.emit(s.Events.USER_GUILD_SETTINGS_UPDATE,e.user.guildSettings.get(t.d.guild_id))}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg","../../../../structures/ClientUserGuildSettings":"Grxo"}],"6IZE":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./AbstractHandler"),f=require("../../../../util/Constants"),s=require("../../../../util/Util"),p=function(e){function n(){return t(this,n),o(this,u(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(e){var t=this.packetManager.client,n=e.d,r=t.guilds.get(n.guild_id);if(r){var o=r.members.get(n.user_id);if(o){var i=s.cloneObject(o);o.voiceChannel&&o.voiceChannel.id!==n.channel_id&&o.voiceChannel.members.delete(i.id),n.channel_id||(o.speaking=null),o.user.id===t.user.id&&n.channel_id&&t.emit("self.voiceStateUpdate",n);var u=t.channels.get(n.channel_id);u&&(u.members.set(o.id,o),o.guild.channels.set(n.channel_id,u)),o.serverMute=n.mute,o.serverDeaf=n.deaf,o.selfMute=n.self_mute,o.selfDeaf=n.self_deaf,o.voiceSessionID=n.session_id,o.voiceChannelID=n.channel_id,t.emit(f.Events.VOICE_STATE_UPDATE,i,o)}}}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg","../../../../util/Util":"kFkP"}],"5XXj":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),f=require("../../../../util/Constants"),l=function(t){function n(){return e(this,n),o(this,u(n).apply(this,arguments))}return c(n,a),i(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,i=e.channels.get(n.channel_id),o=e.users.get(n.user_id),r=new Date(1e3*n.timestamp);if(i&&o){if("voice"===i.type)return void e.emit(f.Events.WARN,"Discord sent a typing packet to voice channel ".concat(i.id));if(i._typing.has(o.id)){var u=i._typing.get(o.id);u.lastTimestamp=r,u.resetTimeout(y(i,o))}else i._typing.set(o.id,new p(e,r,r,y(i,o))),e.emit(f.Events.TYPING_START,i,o)}}}]),n}(),p=function(){function t(n,i,o,r){e(this,t),this.client=n,this.since=i,this.lastTimestamp=o,this._timeout=r}return i(t,[{key:"resetTimeout",value:function(t){this.client.clearTimeout(this._timeout),this._timeout=t}},{key:"elapsedTime",get:function(){return Date.now()-this.since}}]),t}();function y(t,e){return t.client.setTimeout(function(){t.client.emit(f.Events.TYPING_STOP,t,e,t._typing.get(e.id)),t._typing.delete(e.id)},6e3)}module.exports=l;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"+v2f":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=require("../../../../util/Constants"),s=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.actions.MessageCreate.handle(n);o.message&&e.emit(l.Events.MESSAGE_CREATE,o.message)}}]),n}();module.exports=s;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"taDC":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=require("../../../../util/Constants"),s=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.actions.MessageDelete.handle(n);o.message&&e.emit(l.Events.MESSAGE_DELETE,o.message)}}]),n}();module.exports=s;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"2P7n":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.MessageUpdate.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"5XNh":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.MessageDeleteBulk.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"6mmu":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.emit("self.voiceServer",n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"MRQu":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.GuildSync.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"SlFq":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),o(this,u(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;1===n.type?e.fetchUser(n.id).then(function(t){e.user.friends.set(t.id,t)}):2===n.type&&e.fetchUser(n.id).then(function(t){e.user.blocked.set(t.id,t)})}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"NSnz":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?u(t):n}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./AbstractHandler"),l=function(e){function n(){return t(this,n),o(this,i(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(e){var t=this.packetManager.client,n=e.d;2===n.type?t.user.blocked.has(n.id)&&t.user.blocked.delete(n.id):1===n.type&&t.user.friends.has(n.id)&&t.user.friends.delete(n.id)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"B7P2":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.MessageReactionAdd.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"zPVL":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.MessageReactionRemove.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"M7H+":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d;e.actions.MessageReactionRemoveAll.handle(n)}}]),n}();module.exports=l;
},{"./AbstractHandler":"B8Ln"}],"nXgk":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./AbstractHandler"),{Events:l}=require("../../../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.packetManager.client,n=t.d,o=e.channels.get(n.channel_id);o&&e.emit(l.WEBHOOKS_UPDATE,o)}}]),n}();module.exports=p;
},{"./AbstractHandler":"B8Ln","../../../../util/Constants":"TQBg"}],"EncG":[function(require,module,exports) {
function e(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function s(e,s){for(var t=0;t<s.length;t++){var r=s[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var r=require("../../../util/Constants"),i=[r.WSEvents.READY,r.WSEvents.RESUMED,r.WSEvents.GUILD_CREATE,r.WSEvents.GUILD_DELETE,r.WSEvents.GUILD_MEMBERS_CHUNK,r.WSEvents.GUILD_MEMBER_ADD,r.WSEvents.GUILD_MEMBER_REMOVE],n=function(){function s(t){e(this,s),this.ws=t,this.handlers={},this.queue=[],this.register(r.WSEvents.READY,require("./handlers/Ready")),this.register(r.WSEvents.RESUMED,require("./handlers/Resumed")),this.register(r.WSEvents.GUILD_CREATE,require("./handlers/GuildCreate")),this.register(r.WSEvents.GUILD_DELETE,require("./handlers/GuildDelete")),this.register(r.WSEvents.GUILD_UPDATE,require("./handlers/GuildUpdate")),this.register(r.WSEvents.GUILD_BAN_ADD,require("./handlers/GuildBanAdd")),this.register(r.WSEvents.GUILD_BAN_REMOVE,require("./handlers/GuildBanRemove")),this.register(r.WSEvents.GUILD_MEMBER_ADD,require("./handlers/GuildMemberAdd")),this.register(r.WSEvents.GUILD_MEMBER_REMOVE,require("./handlers/GuildMemberRemove")),this.register(r.WSEvents.GUILD_MEMBER_UPDATE,require("./handlers/GuildMemberUpdate")),this.register(r.WSEvents.GUILD_ROLE_CREATE,require("./handlers/GuildRoleCreate")),this.register(r.WSEvents.GUILD_ROLE_DELETE,require("./handlers/GuildRoleDelete")),this.register(r.WSEvents.GUILD_ROLE_UPDATE,require("./handlers/GuildRoleUpdate")),this.register(r.WSEvents.GUILD_EMOJIS_UPDATE,require("./handlers/GuildEmojisUpdate")),this.register(r.WSEvents.GUILD_MEMBERS_CHUNK,require("./handlers/GuildMembersChunk")),this.register(r.WSEvents.GUILD_INTEGRATIONS_UPDATE,require("./handlers/GuildIntegrationsUpdate")),this.register(r.WSEvents.CHANNEL_CREATE,require("./handlers/ChannelCreate")),this.register(r.WSEvents.CHANNEL_DELETE,require("./handlers/ChannelDelete")),this.register(r.WSEvents.CHANNEL_UPDATE,require("./handlers/ChannelUpdate")),this.register(r.WSEvents.CHANNEL_PINS_UPDATE,require("./handlers/ChannelPinsUpdate")),this.register(r.WSEvents.PRESENCE_UPDATE,require("./handlers/PresenceUpdate")),this.register(r.WSEvents.USER_UPDATE,require("./handlers/UserUpdate")),this.register(r.WSEvents.USER_NOTE_UPDATE,require("./handlers/UserNoteUpdate")),this.register(r.WSEvents.USER_SETTINGS_UPDATE,require("./handlers/UserSettingsUpdate")),this.register(r.WSEvents.USER_GUILD_SETTINGS_UPDATE,require("./handlers/UserGuildSettingsUpdate")),this.register(r.WSEvents.VOICE_STATE_UPDATE,require("./handlers/VoiceStateUpdate")),this.register(r.WSEvents.TYPING_START,require("./handlers/TypingStart")),this.register(r.WSEvents.MESSAGE_CREATE,require("./handlers/MessageCreate")),this.register(r.WSEvents.MESSAGE_DELETE,require("./handlers/MessageDelete")),this.register(r.WSEvents.MESSAGE_UPDATE,require("./handlers/MessageUpdate")),this.register(r.WSEvents.MESSAGE_DELETE_BULK,require("./handlers/MessageDeleteBulk")),this.register(r.WSEvents.VOICE_SERVER_UPDATE,require("./handlers/VoiceServerUpdate")),this.register(r.WSEvents.GUILD_SYNC,require("./handlers/GuildSync")),this.register(r.WSEvents.RELATIONSHIP_ADD,require("./handlers/RelationshipAdd")),this.register(r.WSEvents.RELATIONSHIP_REMOVE,require("./handlers/RelationshipRemove")),this.register(r.WSEvents.MESSAGE_REACTION_ADD,require("./handlers/MessageReactionAdd")),this.register(r.WSEvents.MESSAGE_REACTION_REMOVE,require("./handlers/MessageReactionRemove")),this.register(r.WSEvents.MESSAGE_REACTION_REMOVE_ALL,require("./handlers/MessageReactionRemoveAll")),this.register(r.WSEvents.WEBHOOKS_UPDATE,require("./handlers/WebhooksUpdate"))}return t(s,[{key:"register",value:function(e,s){this.handlers[e]=new s(this)}},{key:"handleQueue",value:function(){var e=this;this.queue.forEach(function(s,t){e.handle(e.queue[t],!0),e.queue.splice(t,1)})}},{key:"handle",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.op===r.OPCodes.HEARTBEAT_ACK?(this.ws.client._pong(this.ws.client._pingTimestamp),this.ws.lastHeartbeatAck=!0,this.ws.client.emit("debug","Heartbeat acknowledged")):e.op===r.OPCodes.HEARTBEAT&&(this.client.ws.send({op:r.OPCodes.HEARTBEAT,d:this.client.ws.sequence}),this.ws.client.emit("debug","Received gateway heartbeat")),this.ws.status===r.Status.RECONNECTING&&(this.ws.reconnecting=!1,this.ws.checkIfReady()),this.ws.setSequence(e.s),void 0===this.ws.disabledEvents[e.t]&&(this.ws.status!==r.Status.READY&&-1===i.indexOf(e.t)?(this.queue.push(e),!1):(!s&&this.queue.length>0&&this.handleQueue(),!!this.handlers[e.t]&&this.handlers[e.t].handle(e)))}},{key:"client",get:function(){return this.ws.client}}]),s}();module.exports=n;
},{"../../../util/Constants":"TQBg","./handlers/Ready":"pIzY","./handlers/Resumed":"kqy7","./handlers/GuildCreate":"GncX","./handlers/GuildDelete":"MjuY","./handlers/GuildUpdate":"tL35","./handlers/GuildBanAdd":"2L+2","./handlers/GuildBanRemove":"1XK3","./handlers/GuildMemberAdd":"obun","./handlers/GuildMemberRemove":"1n+/","./handlers/GuildMemberUpdate":"fsKK","./handlers/GuildRoleCreate":"TxeB","./handlers/GuildRoleDelete":"/UCQ","./handlers/GuildRoleUpdate":"H3nE","./handlers/GuildEmojisUpdate":"Jqga","./handlers/GuildMembersChunk":"cAxX","./handlers/GuildIntegrationsUpdate":"UdkR","./handlers/ChannelCreate":"3ADe","./handlers/ChannelDelete":"t2WZ","./handlers/ChannelUpdate":"2Scy","./handlers/ChannelPinsUpdate":"bXFG","./handlers/PresenceUpdate":"BXym","./handlers/UserUpdate":"OlT4","./handlers/UserNoteUpdate":"TvQf","./handlers/UserSettingsUpdate":"G2G+","./handlers/UserGuildSettingsUpdate":"zV7i","./handlers/VoiceStateUpdate":"6IZE","./handlers/TypingStart":"5XXj","./handlers/MessageCreate":"+v2f","./handlers/MessageDelete":"taDC","./handlers/MessageUpdate":"2P7n","./handlers/MessageDeleteBulk":"5XNh","./handlers/VoiceServerUpdate":"6mmu","./handlers/GuildSync":"MRQu","./handlers/RelationshipAdd":"SlFq","./handlers/RelationshipRemove":"NSnz","./handlers/MessageReactionAdd":"B7P2","./handlers/MessageReactionRemove":"zPVL","./handlers/MessageReactionRemoveAll":"M7H+","./handlers/WebhooksUpdate":"nXgk"}],"gDPL":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,i){return!i||"object"!==t(i)&&"function"!=typeof i?o(e):i}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h="undefined"!=typeof window,l=require("events"),d=require("../../util/Constants"),f=require("zlib"),b=require("./packets/WebSocketPacketManager"),g=function(){try{var e=require("erlpack");return e.pack?e:null}catch(e){return null}}(),y=function(){if(h)return window.WebSocket;try{return require("@discordjs/uws")}catch(e){return require("ws")}}(),p=function(t){function n(e,t){var s;for(var u of(i(this,n),(s=r(this,a(n).call(this))).manager=e,s.client=e.client,s.ws=null,s.sequence=-1,s.status=d.Status.IDLE,s.packetManager=new b(o(s)),s.lastPingTimestamp=0,s.ratelimit={queue:[],remaining:120,total:120,time:6e4,resetTimer:null},s.connect(t),s.disabledEvents={},s.closeSequence=0,s.expectingClose=!1,s.client.options.disabledEvents))s.disabledEvents[u]=!0;return s}return u(n,l),s(n,[{key:"triggerReady",value:function(){this.status!==d.Status.READY?(this.status=d.Status.READY,this.client.emit(d.Events.READY),this.packetManager.handleQueue()):this.debug("Tried to mark self as ready, but already ready")}},{key:"checkIfReady",value:function(){var e=this;if(this.status===d.Status.READY||this.status===d.Status.NEARLY)return!1;var t=0;for(var i of this.client.guilds.values())i.available||t++;if(0===t){if(this.status=d.Status.NEARLY,!this.client.options.fetchAllMembers)return this.triggerReady();var n=this.client.guilds.map(function(e){return e.fetchMembers()});Promise.all(n).then(function(){return e.triggerReady()}).catch(function(t){e.debug("Failed to fetch all members before ready! ".concat(t)),e.triggerReady()})}return!0}},{key:"debug",value:function(e){return e instanceof Error&&(e=e.stack),this.manager.debug("[connection] ".concat(e))}},{key:"unpack",value:function(t){return t instanceof ArrayBuffer&&(t=e.from(new Uint8Array(t))),g&&"string"!=typeof t?g.unpack(t):(t instanceof e&&(t=f.inflateSync(t).toString()),JSON.parse(t))}},{key:"pack",value:function(e){return g?g.pack(e):JSON.stringify(e)}},{key:"processQueue",value:function(){var e=this;if(0!==this.ratelimit.remaining&&0!==this.ratelimit.queue.length)for(this.ratelimit.remaining===this.ratelimit.total&&(this.ratelimit.resetTimer=this.client.setTimeout(function(){e.ratelimit.remaining=e.ratelimit.total,e.processQueue()},this.ratelimit.time));this.ratelimit.remaining>0;){var t=this.ratelimit.queue.shift();if(!t)return;this._send(t),this.ratelimit.remaining--}}},{key:"_send",value:function(e){this.ws&&this.ws.readyState===y.OPEN?this.ws.send(this.pack(e)):this.debug("Tried to send packet ".concat(JSON.stringify(e)," but no WebSocket is available!"))}},{key:"send",value:function(e){this.ws&&this.ws.readyState===y.OPEN?(this.ratelimit.queue.push(e),this.processQueue()):this.debug("Tried to send packet ".concat(JSON.stringify(e)," but no WebSocket is available!"))}},{key:"connect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.gateway,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i)return this.client.setTimeout(function(){return e.connect(t,0,n)},i);if(this.ws&&!n)return this.debug("WebSocket connection already exists"),!1;if("string"!=typeof t)return this.debug("Tried to connect to an invalid gateway: ".concat(t)),!1;this.expectingClose=!1,this.gateway=t,this.debug("Connecting to ".concat(t));var s=this.ws=new y(t);return h&&(s.binaryType="arraybuffer"),s.onmessage=this.onMessage.bind(this),s.onopen=this.onOpen.bind(this),s.onerror=this.onError.bind(this),s.onclose=this.onClose.bind(this),this.status=d.Status.CONNECTING,!0}},{key:"destroy",value:function(){var e=this.ws;return e?(this.heartbeat(-1),this.expectingClose=!0,e.close(1e3),this.packetManager.handleQueue(),this.ws=null,this.status=d.Status.DISCONNECTED,this.ratelimit.remaining=this.ratelimit.total,!0):(this.debug("Attempted to destroy WebSocket but no connection exists!"),!1)}},{key:"onMessage",value:function(e){var t;try{t=this.unpack(e.data)}catch(i){this.emit("debug",i)}return this.onPacket(t)}},{key:"setSequence",value:function(e){this.sequence=e>this.sequence?e:this.sequence}},{key:"onPacket",value:function(e){if(!e)return this.debug("Received null packet"),!1;switch(this.client.emit("raw",e),e.op){case d.OPCodes.HELLO:return this.heartbeat(e.d.heartbeat_interval);case d.OPCodes.RECONNECT:return this.reconnect();case d.OPCodes.INVALID_SESSION:return e.d||(this.sessionID=null),this.sequence=-1,this.debug("Session invalidated -- will identify with a new session"),this.identify(e.d?2500:0);case d.OPCodes.HEARTBEAT_ACK:return this.ackHeartbeat();case d.OPCodes.HEARTBEAT:return this.heartbeat();default:return this.packetManager.handle(e)}}},{key:"onOpen",value:function(e){e&&e.target&&e.target.url&&(this.gateway=e.target.url),this.debug("Connected to gateway ".concat(this.gateway)),this.identify()}},{key:"reconnect",value:function(){this.debug("Attemping to reconnect in 5500ms..."),this.client.emit(d.Events.RECONNECTING),this.connect(this.gateway,5500,!0)}},{key:"onError",value:function(e){e&&"uWs client connection error"===e.message?this.reconnect():this.client.emit(d.Events.ERROR,e)}},{key:"onClose",value:function(e){if(this.debug("".concat(this.expectingClose?"Client":"Server"," closed the WebSocket connection: ").concat(e.code)),this.closeSequence=this.sequence,this.emit("close",e),this.heartbeat(-1),1e3===e.code?this.expectingClose:d.WSCodes[e.code])return this.expectingClose=!1,this.client.emit(d.Events.DISCONNECT,e),this.debug(d.WSCodes[e.code]),void this.destroy();this.expectingClose=!1,this.reconnect()}},{key:"ackHeartbeat",value:function(){this.debug("Heartbeat acknowledged, latency of ".concat(Date.now()-this.lastPingTimestamp,"ms")),this.client._pong(this.lastPingTimestamp)}},{key:"heartbeat",value:function(e){var t=this;isNaN(e)?(this.debug("Sending a heartbeat"),this.lastPingTimestamp=Date.now(),this.send({op:d.OPCodes.HEARTBEAT,d:this.sequence})):-1===e?(this.debug("Clearing heartbeat interval"),this.client.clearInterval(this.heartbeatInterval),this.heartbeatInterval=null):(this.debug("Setting a heartbeat interval for ".concat(e,"ms")),this.heartbeatInterval=this.client.setInterval(function(){return t.heartbeat()},e))}},{key:"identify",value:function(e){return e?this.client.setTimeout(this.identify.bind(this),e):this.sessionID?this.identifyResume():this.identifyNew()}},{key:"identifyNew",value:function(){if(this.client.token){var e=Object.assign({token:this.client.token},this.client.options.ws),{shardId:t,shardCount:i}=this.client.options;i>0&&(e.shard=[Number(t),Number(i)]),this.debug("Identifying as a new session"),this.send({op:d.OPCodes.IDENTIFY,d:e})}else this.debug("No token available to identify a new session with")}},{key:"identifyResume",value:function(){if(!this.sessionID)return this.debug("Warning: wanted to resume but session ID not available; identifying as a new session instead"),this.identifyNew();this.debug("Attempting to resume session ".concat(this.sessionID));var e={token:this.client.token,session_id:this.sessionID,seq:this.sequence};return this.send({op:d.OPCodes.RESUME,d:e})}}]),n}();p.ENCODING=g?"etf":"json",p.WebSocket=y,module.exports=p;
},{"events":"FRpO","../../util/Constants":"TQBg","zlib":"a/TY","./packets/WebSocketPacketManager":"EncG","erlpack":"f88W","@discordjs/uws":"f88W","ws":"f88W","buffer":"dskh"}],"fzZi":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}var o=require("../util/Constants"),r=require("./websocket/WebSocketConnection"),i=function(){function e(n){t(this,e),this.client=n,this.heartbeatInterval=null}return n(e,[{key:"connectToWebSocket",value:function(t,e,n){var i=this;this.client.emit(o.Events.DEBUG,"Authenticated using token ".concat(t)),this.client.token=t;var c=this.client.setTimeout(function(){return n(new Error(o.Errors.TOOK_TOO_LONG))},3e5);this.client.rest.methods.getGateway().then(function(s){var l=o.DefaultOptions.ws.version,u="".concat(s.url,"/?v=").concat(l,"&encoding=").concat(r.ENCODING);i.client.emit(o.Events.DEBUG,"Using gateway ".concat(u)),i.client.ws.connect(u),i.client.ws.connection.once("error",n),i.client.ws.connection.once("close",function(t){4004===t.code&&n(new Error(o.Errors.BAD_LOGIN)),4010===t.code&&n(new Error(o.Errors.INVALID_SHARD)),4011===t.code&&n(new Error(o.Errors.SHARDING_REQUIRED))}),i.client.once(o.Events.READY,function(){e(t),i.client.clearTimeout(c)})},n)}},{key:"destroy",value:function(){var t=this;return this.client.ws.destroy(),this.client.rest.destroy(),this.client.user?this.client.user.bot?(this.client.token=null,Promise.resolve()):this.client.rest.methods.logout().then(function(){t.client.token=null}):Promise.resolve()}},{key:"status",get:function(){return this.connection?this.connection.status:o.Status.IDLE}}]),e}();module.exports=i;
},{"../util/Constants":"TQBg","./websocket/WebSocketConnection":"gDPL"}],"jtx1":[function(require,module,exports) {
function n(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}var r=function r(t){for(var a in n(this,r),this.key=new Uint8Array(new ArrayBuffer(t.length)),t)this.key[a]=t[a]};module.exports=r;
},{}],"pZe/":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?s(e):n}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u,h=require("../../util/Constants"),l=require("./util/SecretKey"),d=require("events").EventEmitter;try{u=require("@discordjs/uws")}catch(b){u=require("ws")}var f=function(t){function n(t){var i;return e(this,n),(i=o(this,r(n).call(this))).client=t.voiceManager.client,i.voiceConnection=t,i.attempts=0,i.connect(),i.dead=!1,i.voiceConnection.on("closing",i.shutdown.bind(s(i))),i}return a(n,d),i(n,[{key:"shutdown",value:function(){this.dead=!0,this.reset()}},{key:"reset",value:function(){this.ws&&(this.ws.readyState!==u.CLOSED&&this.ws.close(),this.ws=null),this.clearHeartbeat()}},{key:"connect",value:function(){this.dead||(this.ws&&this.reset(),this.attempts>=5?this.emit("debug",new Error("Too many connection attempts (".concat(this.attempts,")."))):(this.attempts++,this.ws=new u("wss://".concat(this.voiceConnection.authentication.endpoint)),this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onclose=this.onClose.bind(this),this.ws.onerror=this.onError.bind(this)))}},{key:"send",value:function(t){var e=this;return new Promise(function(n,i){if(!e.ws||e.ws.readyState!==u.OPEN)throw new Error("Voice websocket not open to send ".concat(t,"."));e.ws.send(t,null,function(e){e?i(e):n(t)})})}},{key:"sendPacket",value:function(t){try{t=JSON.stringify(t)}catch(e){return Promise.reject(e)}return this.send(t)}},{key:"onOpen",value:function(){var t=this;this.sendPacket({op:h.OPCodes.DISPATCH,d:{server_id:this.voiceConnection.channel.guild.id,user_id:this.client.user.id,token:this.voiceConnection.authentication.token,session_id:this.voiceConnection.authentication.sessionID}}).catch(function(){t.emit("error",new Error("Tried to send join packet, but the WebSocket is not open."))})}},{key:"onMessage",value:function(t){try{return this.onPacket(JSON.parse(t.data))}catch(e){return this.onError(e)}}},{key:"onClose",value:function(){this.dead||this.client.setTimeout(this.connect.bind(this),1e3*this.attempts)}},{key:"onError",value:function(t){this.emit("error",t)}},{key:"onPacket",value:function(t){switch(t.op){case h.VoiceOPCodes.READY:this.setHeartbeat(t.d.heartbeat_interval),this.emit("ready",t.d);break;case h.VoiceOPCodes.SESSION_DESCRIPTION:this.emit("sessionDescription",t.d.mode,new l(t.d.secret_key));break;case h.VoiceOPCodes.SPEAKING:this.emit("speaking",t.d);break;default:this.emit("unknownPacket",t)}}},{key:"setHeartbeat",value:function(t){t&&!isNaN(t)?(this.heartbeatInterval&&(this.emit("warn","A voice heartbeat interval is being overwritten"),clearInterval(this.heartbeatInterval)),this.heartbeatInterval=this.client.setInterval(this.sendHeartbeat.bind(this),t)):this.onError(new Error("Tried to set voice heartbeat but no valid interval was specified."))}},{key:"clearHeartbeat",value:function(){this.heartbeatInterval?(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null):this.emit("warn","Tried to clear a heartbeat interval that does not exist")}},{key:"sendHeartbeat",value:function(){var t=this;this.sendPacket({op:h.VoiceOPCodes.HEARTBEAT,d:null}).catch(function(){t.emit("warn","Tried to send heartbeat, but connection is not open"),t.clearHeartbeat()})}}]),n}();module.exports=f;
},{"../../util/Constants":"TQBg","./util/SecretKey":"jtx1","events":"FRpO","@discordjs/uws":"f88W","ws":"f88W"}],"l1BS":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}function i(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?c(e):o}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=require("dgram"),f=require("../../util/Constants"),d=require("events").EventEmitter,p=function(t){function r(e){var t;return o(this,r),(t=i(this,s(r).call(this))).voiceConnection=e,t.socket=null,t.discordAddress=null,t.localAddress=null,t.localPort=null,t.voiceConnection.on("closing",t.shutdown.bind(c(t))),t}return u(r,d),n(r,[{key:"shutdown",value:function(){if(this.socket){this.socket.removeAllListeners("message");try{this.socket.close()}finally{this.socket=null}}}},{key:"send",value:function(e){var t=this;return new Promise(function(o,r){if(!t.socket)throw new Error("Tried to send a UDP packet, but there is no socket available.");if(!t.discordAddress||!t.discordPort)throw new Error("Malformed UDP address or port.");t.socket.send(e,0,e.length,t.discordPort,t.discordAddress,function(t){t?r(t):o(e)})})}},{key:"createUDPSocket",value:function(t){var o=this;this.discordAddress=t,(this.socket=l.createSocket("udp4")).once("message",function(e){var t=y(e);t.error?o.emit("error",t.error):(o.localAddress=t.address,o.localPort=t.port,o.voiceConnection.sockets.ws.sendPacket({op:f.VoiceOPCodes.SELECT_PROTOCOL,d:{protocol:"udp",data:{address:t.address,port:t.port,mode:"xsalsa20_poly1305"}}}))});var r=e.alloc(70);r.writeUIntBE(this.voiceConnection.authentication.ssrc,0,4),this.send(r)}},{key:"discordPort",get:function(){return this.voiceConnection.authentication.port}}]),r}();function y(t){try{for(var o=e.from(t),r="",n=4;n<o.indexOf(0,n);n++)r+=String.fromCharCode(o[n]);return{address:r,port:parseInt(o.readUIntLE(o.length-2,2).toString(10),10)}}catch(i){return{error:i}}}module.exports=p;
},{"dgram":"f88W","../../util/Constants":"TQBg","events":"FRpO","buffer":"dskh"}],"JcXc":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function u(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?i(e):o}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("events"),s=function(t){function n(){var e,{volume:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(this,n),(e=u(this,l(n).call(this))).setVolume(t),e}return f(n,a),r(n,[{key:"applyVolume",value:function(t,o){if(1===(o=o||this._volume))return t;for(var n=e.alloc(t.length),r=0;r<t.length&&!(r>=t.length-1);r+=2){var u=Math.min(32767,Math.max(-32767,Math.floor(o*t.readInt16LE(r))));n.writeInt16LE(u,r)}return n}},{key:"setVolume",value:function(e){this.emit("volumeChange",this._volume,e),this._volume=e}},{key:"setVolumeDecibels",value:function(e){this.setVolume(Math.pow(10,e/20))}},{key:"setVolumeLogarithmic",value:function(e){this.setVolume(Math.pow(e,1.660964))}},{key:"volume",get:function(){return this._volume}},{key:"volumeDecibels",get:function(){return 20*Math.log10(this._volume)}},{key:"volumeLogarithmic",get:function(){return Math.pow(this._volume,1/1.660964)}}]),n}();module.exports=s;
},{"events":"FRpO","buffer":"dskh"}],"Q/yY":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}var i=function(){function e(){var{bitrate:n=48,fec:i=!1,plp:o=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.ctl={BITRATE:4002,FEC:4012,PLP:4014},this.samplingRate=48e3,this.channels=2,this.bitrate=n,this.options={fec:i,plp:o}}return n(e,[{key:"init",value:function(){try{this.setBitrate(this.bitrate),this.options.fec&&this.setFEC(this.options.fec),this.options.plp&&this.setPLP(this.options.plp)}catch(t){}}},{key:"encode",value:function(t){return t}},{key:"decode",value:function(t){return t}},{key:"destroy",value:function(){}}]),e}();module.exports=i;
},{}],"DUKh":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?c(t):n}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=a(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,s=require("./BaseOpusEngine"),y=function(e){function n(e){var o;t(this,n),o=r(this,f(n).call(this,e));try{p=require("node-opus")}catch(i){throw i}return o.encoder=new p.OpusEncoder(o.samplingRate,o.channels),l(f(n.prototype),"init",c(o)).call(c(o)),o}return i(n,s),o(n,[{key:"setBitrate",value:function(e){this.encoder.applyEncoderCTL(this.ctl.BITRATE,1e3*Math.min(128,Math.max(16,e)))}},{key:"setFEC",value:function(e){this.encoder.applyEncoderCTL(this.ctl.FEC,e?1:0)}},{key:"setPLP",value:function(e){this.encoder.applyEncoderCTL(this.ctl.PLP,Math.min(100,Math.max(0,100*e)))}},{key:"encode",value:function(e){return l(f(n.prototype),"encode",this).call(this,e),this.encoder.encode(e,1920)}},{key:"decode",value:function(e){return l(f(n.prototype),"decode",this).call(this,e),this.encoder.decode(e,1920)}}]),n}();module.exports=y;
},{"./BaseOpusEngine":"Q/yY","node-opus":"f88W"}],"PByo":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?c(t):n}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=f(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s,p=require("./BaseOpusEngine"),y=function(e){function n(e){var o;t(this,n),o=r(this,a(n).call(this,e));try{s=require("opusscript")}catch(i){throw i}return o.encoder=new s(o.samplingRate,o.channels),l(a(n.prototype),"init",c(o)).call(c(o)),o}return i(n,p),o(n,[{key:"setBitrate",value:function(e){this.encoder.encoderCTL(this.ctl.BITRATE,1e3*Math.min(128,Math.max(16,e)))}},{key:"setFEC",value:function(e){this.encoder.encoderCTL(this.ctl.FEC,e?1:0)}},{key:"setPLP",value:function(e){this.encoder.encoderCTL(this.ctl.PLP,Math.min(100,Math.max(0,100*e)))}},{key:"encode",value:function(e){return l(a(n.prototype),"encode",this).call(this,e),this.encoder.encode(e,960)}},{key:"decode",value:function(e){return l(a(n.prototype),"decode",this).call(this,e),this.encoder.decode(e)}},{key:"destroy",value:function(){l(a(n.prototype),"destroy",this).call(this),this.encoder.delete()}}]),n}();module.exports=y;
},{"./BaseOpusEngine":"Q/yY","opusscript":"f88W"}],"PrU2":[function(require,module,exports) {
var n=[require("./NodeOpusEngine"),require("./OpusScriptEngine")];function r(n,r){try{return new n(r)}catch(e){if(e.message.includes("Cannot find module"))return null;throw e}}exports.add=function(r){n.push(r)},exports.fetch=function(e){for(var t of n){var u=r(t,e);if(u)return u}throw new Error("Couldn't find an Opus engine.")};
},{"./NodeOpusEngine":"DUKh","./OpusScriptEngine":"PByo"}],"0eHB":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function s(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?o(e):r}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=require("./util/VolumeInterface"),f=require("prism-media"),h=require("./opus/OpusEngineList"),d=require("../../util/Collection"),p=["-analyzeduration","0","-loglevel","0","-f","s16le","-ar","48000","-ac","2"],v=function(t){function n(e){var t;return r(this,n),(t=s(this,a(n).call(this))).client=e,t._dispatchers=new d,t._encoders=new d,t.prism=new f,t.currentTranscoder=null,t.tickInterval=null,t._volume=1,t}return u(n,l),i(n,[{key:"unregisterDispatcher",value:function(e,t){var r=t||e.volume;for(var n of(this.emit("unsubscribe",e),this._dispatchers.values()))n.delete(e),n.size||(this._encoders.get(r).destroy(),this._dispatchers.delete(r),this._encoders.delete(r))}},{key:"registerDispatcher",value:function(e){var t=this;this._dispatchers.has(e.volume)||(this._dispatchers.set(e.volume,new Set),this._encoders.set(e.volume,h.fetch()));var r=this._dispatchers.get(e.volume);r.has(e)||(r.add(e),e.once("end",function(){return t.unregisterDispatcher(e)}),e.on("volumeChange",function(r,n){t.unregisterDispatcher(e,r),t._dispatchers.has(n)||(t._dispatchers.set(n,new Set),t._encoders.set(n,h.fetch())),t._dispatchers.get(n).add(e)}),this.emit("subscribe",e))}},{key:"killCurrentTranscoder",value:function(){this.currentTranscoder&&(this.currentTranscoder.transcoder&&this.currentTranscoder.transcoder.kill(),this.currentTranscoder=null,this.emit("end"))}},{key:"playStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setVolume(t.volume||1),this._playTranscodable(e,t)}},{key:"playFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setVolume(t.volume||1),this._playTranscodable("file:".concat(e),t)}},{key:"_playTranscodable",value:function(e,t){var r=this;this.killCurrentTranscoder();var n=this.prism.transcode({type:"ffmpeg",media:e,ffmpegArguments:p.concat(["-ss",String(t.seek||0)])});return n.once("error",function(e){r.listenerCount("error")>0?r.emit("error",e):r.emit("warn",e)}),n.once("end",function(){return r.killCurrentTranscoder()}),this.currentTranscoder={transcoder:n,options:t},n.output.once("readable",function(){return r._startPlaying()}),this}},{key:"playConvertedStream",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.killCurrentTranscoder(),this.setVolume(r.volume||1),this.currentTranscoder={options:{stream:e}},e.once("readable",function(){return t._startPlaying()}),this}},{key:"playOpusStream",value:function(e){var t=this;return this.currentTranscoder={options:{stream:e},opus:!0},e.once("readable",function(){return t._startPlaying()}),this}},{key:"playArbitraryInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setVolume(t.volume||1),t.input=e,this._playTranscodable(e,t)}},{key:"pause",value:function(){for(var e of(this.paused=!0,this._dispatchers.values()))for(var t of e.values())t.pause()}},{key:"resume",value:function(){for(var e of(this.paused=!1,this._dispatchers.values()))for(var t of e.values())t.resume()}},{key:"_startPlaying",value:function(){this.tickInterval&&clearInterval(this.tickInterval),this._startTime=Date.now(),this._count=0,this._pausedTime=0,this._missed=0,this.tick()}},{key:"tick",value:function(){var e=this;if(this._playableStream){if(this.paused)return this._pausedTime+=20,void setTimeout(function(){return e.tick()},20);var t=this.currentTranscoder.opus,r=this.readStreamBuffer();if(!r)return this._missed++,void(this._missed<5?(this._pausedTime+=200,setTimeout(function(){return e.tick()},200)):this.killCurrentTranscoder());this._missed=0;var n={},i=function(t){if(n[t])return n[t];var i=e._encoders.get(t).encode(e.applyVolume(r,e._volume*t));return n[t]=i,i};for(var s of this.dispatchers)if(t)s.processPacket(r);else{var o=s.volume;s.processPacket(i(o))}var a=this._startTime+this._pausedTime+20*this._count-Date.now()+20;this._count++,setTimeout(function(){return e.tick()},a)}}},{key:"readStreamBuffer",value:function(){var t=this.currentTranscoder.opus,r=2*(t?80:1920),n=this._playableStream.read(r);if(t)return n;if(!n)return null;if(n.length!==r){var i=e.alloc(r).fill(0);n.copy(i),n=i}return n}},{key:"end",value:function(){this.killCurrentTranscoder()}},{key:"destroy",value:function(){for(var e of(this.end(),this._dispatchers.values()))for(var t of e.values())t.destroy("end","broadcast ended")}},{key:"dispatchers",get:function(){var e=[];for(var t of this._dispatchers.values())e=e.concat(Array.from(t.values()));return e}},{key:"_playableStream",get:function(){var e=this.currentTranscoder;if(!e)return null;var t=e.transcoder,r=e.options;return t&&t.output||r.stream}}]),n}();module.exports=v;
},{"./util/VolumeInterface":"JcXc","prism-media":"f88W","./opus/OpusEngineList":"PrU2","../../util/Collection":"QMEy","buffer":"dskh"}],"cIuy":[function(require,module,exports) {
var e={sodium:function(e){return{open:e.api.crypto_secretbox_open_easy,close:e.api.crypto_secretbox_easy}},"libsodium-wrappers":function(e){return{open:e.crypto_secretbox_open_easy,close:e.crypto_secretbox_easy}},tweetnacl:function(e){return{open:e.secretbox.open,close:e.secretbox}}};exports.methods={};var r=function(r){try{var t=require(r);return"libsodium-wrappers"===r&&t.ready?t.ready.then(function(){exports.methods=e[r](t)}).catch(function(){var r=require("tweetnacl");exports.methods=e.tweetnacl(r)}).catch(function(){}):exports.methods=e[r](t),"break"}catch(o){}};for(var t of Object.keys(e)){var o=r(t);if("break"===o)break}
},{"tweetnacl":"f88W"}],"aDEF":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?a(e):n}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=require("../util/VolumeInterface"),l=require("../VoiceBroadcast"),f=require("../../../util/Constants"),p=require("../util/Secretbox"),m=e.alloc(24);m.fill(0);var d=function(t){function i(e,t,s){var a;n(this,i),(a=r(this,o(i).call(this,s))).player=e,a.stream=t,a.stream instanceof l||a.startStreaming(),a.streamOptions=s;var u=a.streamingData;return u.length=20,u.missed=0,a.paused=!1,a.destroyed=!1,a._opus=s.opus,a}return u(i,h),s(i,[{key:"pause",value:function(){this.setPaused(!0)}},{key:"resume",value:function(){this.setPaused(!1)}},{key:"end",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";this.destroy("end",e)}},{key:"setSpeaking",value:function(e){this.speaking!==e&&this.player.voiceConnection.status===f.VoiceStatus.CONNECTED&&(this.speaking=e,this.emit("speaking",e))}},{key:"setBitrate",value:function(e){this.player.setBitrate(e)}},{key:"sendBuffer",value:function(e,t,n,i){i=i||this.player.opusEncoder.encode(e);var s=this.createPacket(t,n,i);this.sendPacket(s)}},{key:"sendPacket",value:function(e){var t=this,n=this.passes;for(this.setSpeaking(!0);n--&&this.player.voiceConnection.sockets.udp;)this.player.voiceConnection.sockets.udp.send(e).catch(function(e){t.setSpeaking(!1),t.emit("debug","Failed to send a packet ".concat(e))})}},{key:"createPacket",value:function(t,n,i){var s=e.alloc(i.length+28);s.fill(0),s[0]=128,s[1]=120,s.writeUIntBE(t,2,2),s.writeUIntBE(n,4,4),s.writeUIntBE(this.player.voiceConnection.authentication.ssrc,8,4),s.copy(m,0,0,12),i=p.methods.close(i,m,this.player.voiceConnection.authentication.secretKey.key);for(var r=0;r<i.length;r++)s[r+12]=i[r];return s}},{key:"processPacket",value:function(e){try{if(this.destroyed||!this.player.voiceConnection.authentication.secretKey)return void this.setSpeaking(!1);var t=this.streamingData;if(this.paused)return this.setSpeaking(!1),void(t.pausedTime=10*t.length);if(!e)return t.missed++,void(t.pausedTime+=10*t.length);this.started(),this.missed=0,this.stepStreamingData(),this.sendBuffer(null,t.sequence,t.timestamp,e)}catch(n){this.destroy("error",n)}}},{key:"process",value:function(){var e=this;try{if(this.destroyed)return void this.setSpeaking(!1);var t=this.streamingData;if(t.missed>=5)return void this.destroy("end","Stream is not generating quickly enough.");if(this.paused)return this.setSpeaking(!1),t.pausedTime+=10*t.length,void this.player.voiceConnection.voiceManager.client.setTimeout(function(){return e.process()},10*t.length);this.started();var n=this.readStreamBuffer();if(!n)return t.missed++,t.pausedTime+=10*t.length,void this.player.voiceConnection.voiceManager.client.setTimeout(function(){return e.process()},10*t.length);t.missed=0,this.stepStreamingData(),this._opus?this.sendBuffer(null,t.sequence,t.timestamp,n):this.sendBuffer(n,t.sequence,t.timestamp);var i=t.length+(t.startTime+t.pausedTime+t.count*t.length-Date.now());this.player.voiceConnection.voiceManager.client.setTimeout(function(){return e.process()},i)}catch(s){this.destroy("error",s)}}},{key:"readStreamBuffer",value:function(){var t=this.streamingData,n=(this._opus?80:1920)*t.channels,i=this.stream.read(n);if(this._opus)return i;if(!i)return null;if(i.length!==n){var s=e.alloc(n).fill(0);i.copy(s),i=s}return i=this.applyVolume(i)}},{key:"started",value:function(){var e=this.streamingData;e.startTime||(this.emit("start"),e.startTime=Date.now())}},{key:"stepStreamingData",value:function(){var e=this.streamingData;e.count++,e.sequence=e.sequence<65535?e.sequence+1:0,e.timestamp=e.timestamp+960<4294967295?e.timestamp+960:0}},{key:"destroy",value:function(e,t){this.destroyed||(this.destroyed=!0,this.setSpeaking(!1),this.emit(e,t),"end"!==e&&this.emit("end","destroyed due to ".concat(e," - ").concat(t)))}},{key:"startStreaming",value:function(){var e=this;if(this.stream){this.stream.on("end",function(t){return e.destroy("end",t||"stream")}),this.stream.on("error",function(t){return e.destroy("error",t)});var t=this.streamingData;t.length=20,t.missed=0,this.stream.once("readable",function(){t.startTime=null,t.count=0,e.process()})}else this.emit("error","No stream")}},{key:"setPaused",value:function(e){this.setSpeaking(!(this.paused=e))}},{key:"passes",get:function(){return this.streamOptions.passes||1},set:function(e){this.streamOptions.passes=e}},{key:"streamingData",get:function(){return this.player.streamingData}},{key:"time",get:function(){return this.streamingData.count*(this.streamingData.length||0)}},{key:"totalStreamTime",get:function(){return this.time+this.streamingData.pausedTime}}]),i}();module.exports=d;
},{"../util/VolumeInterface":"JcXc","../VoiceBroadcast":"0eHB","../../../util/Constants":"TQBg","../util/Secretbox":"cIuy","buffer":"dskh"}],"9qsz":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?i(t):r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=require("events").EventEmitter,p=require("prism-media"),h=require("../dispatcher/StreamDispatcher"),l=require("../../../util/Collection"),f=require("../opus/OpusEngineList"),y=["-analyzeduration","0","-loglevel","0","-f","s16le","-ar","48000","-ac","2"],d=function(e){function r(e){var n;return t(this,r),(n=o(this,s(r).call(this))).voiceConnection=e,n.prism=new p,n.streams=new l,n.currentStream={},n.streamingData={channels:2,count:0,sequence:0,timestamp:0,pausedTime:0},n.voiceConnection.once("closing",function(){return n.destroyCurrentStream()}),n}return u(r,c),n(r,[{key:"destroy",value:function(){this.opusEncoder&&this.opusEncoder.destroy(),this.opusEncoder=null}},{key:"destroyCurrentStream",value:function(){var e=this.transcoder,t=this.dispatcher;if(e&&e.kill(),t){var r=t.listeners("end")[0],n=t.listeners("error")[0];r&&t.removeListener("end",r),n&&t.removeListener("error",n),t.destroy("end")}this.currentStream={}}},{key:"setBitrate",value:function(e){if(e&&this.opusEncoder){var t="auto"===e?this.voiceConnection.channel.bitrate:e;this.opusEncoder.setBitrate(t)}}},{key:"playUnknownStream",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.destroy(),this.opusEncoder=f.fetch(r);var n=this.prism.transcode({type:"ffmpeg",media:e,ffmpegArguments:y.concat(["-ss",String(r.seek||0)])});return this.destroyCurrentStream(),this.currentStream={transcoder:n,output:n.output,input:e},n.on("error",function(e){t.destroyCurrentStream(),t.listenerCount("error")>0&&t.emit("error",e),t.emit("warn","prism transcoder error - ".concat(e))}),this.playPCMStream(n.output,r,!0)}},{key:"playPCMStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.destroy(),this.opusEncoder=f.fetch(t),this.setBitrate(t.bitrate);var n=this.createDispatcher(e,t);return r?this.currentStream.dispatcher=n:(this.destroyCurrentStream(),this.currentStream={dispatcher:n,input:e,output:e}),n}},{key:"playOpusStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.opus=!0,this.destroyCurrentStream();var r=this.createDispatcher(e,t);return this.currentStream={dispatcher:r,input:e,output:e},r}},{key:"playBroadcast",value:function(e,t){this.destroyCurrentStream();var r=this.createDispatcher(e,t);return this.currentStream={dispatcher:r,broadcast:e,input:e,output:e},e.registerDispatcher(r),r}},{key:"createDispatcher",value:function(e){var t=this,{seek:r=0,volume:n=1,passes:o=1,opus:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new h(this,e,{seek:r,volume:n,passes:o,opus:i});return s.on("end",function(){return t.destroyCurrentStream()}),s.on("error",function(){return t.destroyCurrentStream()}),s.on("speaking",function(e){return t.voiceConnection.setSpeaking(e)}),s}},{key:"transcoder",get:function(){return this.currentStream.transcoder}},{key:"dispatcher",get:function(){return this.currentStream.dispatcher}}]),r}();module.exports=d;
},{"events":"FRpO","prism-media":"f88W","../dispatcher/StreamDispatcher":"aDEF","../../../util/Collection":"QMEy","../opus/OpusEngineList":"PrU2"}],"FNsP":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("stream").Readable,p=function(t){function n(){var t;return e(this,n),(t=r(this,i(n).call(this)))._packets=[],t.open=!0,t}return c(n,a),o(n,[{key:"_read",value:function(){}},{key:"_push",value:function(t){this.open&&this.push(t)}}]),n}();module.exports=p;
},{"stream":"fnRj"}],"tRQe":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function n(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?i(e):r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=require("events").EventEmitter,l=require("../util/Secretbox"),f=require("./VoiceReadable"),h=require("../opus/OpusEngineList"),d=e.alloc(24);d.fill(0);var m=function(t){function o(e){var t;return r(this,o),(t=n(this,u(o).call(this))).queues=new Map,t.pcmStreams=new Map,t.opusStreams=new Map,t.opusEncoders=new Map,t.destroyed=!1,t.voiceConnection=e,t._listener=function(e){var r=+e.readUInt32BE(8).toString(10),o=t.voiceConnection.ssrcMap.get(r);if(o){if(t.queues.get(r))return t.queues.get(r).push(e),t.queues.get(r).map(function(e){return t.handlePacket(e,o)}),void t.queues.delete(r);t.handlePacket(e,o)}else t.queues.has(r)||t.queues.set(r,[]),t.queues.get(r).push(e)},t.voiceConnection.sockets.udp.socket.on("message",t._listener),t}return c(o,p),s(o,[{key:"recreate",value:function(){this.destroyed&&(this.voiceConnection.sockets.udp.socket.on("message",this._listener),this.destroyed=!1)}},{key:"destroy",value:function(){for(var[e,t]of(this.voiceConnection.sockets.udp.socket.removeListener("message",this._listener),this.pcmStreams))t._push(null),this.pcmStreams.delete(e);for(var[r,o]of this.opusStreams)o._push(null),this.opusStreams.delete(r);for(var[s,n]of this.opusEncoders)n.destroy(),this.opusEncoders.delete(s);this.destroyed=!0}},{key:"stoppedSpeaking",value:function(e){var t=this.opusStreams.get(e.id),r=this.pcmStreams.get(e.id),o=this.opusEncoders.get(e.id);t&&(t.push(null),t.open=!1,this.opusStreams.delete(e.id)),r&&(r.push(null),r.open=!1,this.pcmStreams.delete(e.id)),o&&o.destroy()}},{key:"createOpusStream",value:function(e){if(!(e=this.voiceConnection.voiceManager.client.resolver.resolveUser(e)))throw new Error("Couldn't resolve the user to create Opus stream.");if(this.opusStreams.get(e.id))throw new Error("There is already an existing stream for that user.");var t=new f;return this.opusStreams.set(e.id,t),t}},{key:"createPCMStream",value:function(e){if(!(e=this.voiceConnection.voiceManager.client.resolver.resolveUser(e)))throw new Error("Couldn't resolve the user to create PCM stream.");if(this.pcmStreams.get(e.id))throw new Error("There is already an existing stream for that user.");var t=new f;return this.pcmStreams.set(e.id,t),t}},{key:"handlePacket",value:function(t,r){t.copy(d,0,0,12);var s=l.methods.open(t.slice(12),d,this.voiceConnection.authentication.secretKey.key);if(s){if(190===(s=e.from(s))[0]&&222===s[1]&&s.length>4){for(var n=s.readUInt16BE(2),i=4,u=0;u<n;u++){var c=s[i];i++,0!==c&&(i+=1+(15&c>>4))}for(;0===s[i];)i++;s=s.slice(i)}if(this.opusStreams.get(r.id)&&this.opusStreams.get(r.id)._push(s),this.emit("opus",r,s),this.listenerCount("pcm")>0||this.pcmStreams.size>0){this.opusEncoders.get(r.id)||this.opusEncoders.set(r.id,h.fetch());var{pcm:a,error:p}=o._tryDecode(this.opusEncoders.get(r.id),s);if(p)return void this.emit("warn","decode","Failed to decode packet voice to PCM because: ".concat(p.message));this.pcmStreams.get(r.id)&&this.pcmStreams.get(r.id)._push(a),this.emit("pcm",r,a)}}else this.emit("warn","decrypt","Failed to decrypt voice packet")}}],[{key:"_tryDecode",value:function(e,t){try{return{pcm:e.decode(t)}}catch(r){return{error:r}}}}]),o}();module.exports=m;
},{"events":"FRpO","../util/Secretbox":"cIuy","./VoiceReadable":"FNsP","../opus/OpusEngineList":"PrU2","buffer":"dskh"}],"1rXe":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?r(t):i}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=require("./VoiceWebSocket"),h=require("./VoiceUDPClient"),l=require("../../util/Util"),p=require("../../util/Constants"),d=require("./player/AudioPlayer"),y=require("./receiver/VoiceReceiver"),f=require("events").EventEmitter,k=require("prism-media"),v=function(e){function i(e,n){var a;return t(this,i),(a=s(this,o(i).call(this))).voiceManager=e,a.client=e.client,a.prism=new k,a.channel=n,a.status=p.VoiceStatus.AUTHENTICATING,a.speaking=!1,a.receivers=[],a.authentication={},a.player=new d(r(a)),a.player.on("debug",function(e){a.emit("debug","audio player - ".concat(e))}),a.player.on("error",function(e){a.emit("warn",e)}),a.ssrcMap=new Map,a.sockets={},a.authenticate(),a}return a(i,f),n(i,[{key:"setSpeaking",value:function(e){var t=this;this.speaking!==e&&this.status===p.VoiceStatus.CONNECTED&&(this.speaking=e,this.sockets.ws.sendPacket({op:p.VoiceOPCodes.SPEAKING,d:{speaking:!0,delay:0}}).catch(function(e){t.emit("debug",e)}))}},{key:"sendVoiceStateUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=l.mergeDefault({guild_id:this.channel.guild.id,channel_id:this.channel.id,self_mute:!1,self_deaf:!1},e),this.client.ws.send({op:p.OPCodes.VOICE_STATE_UPDATE,d:e})}},{key:"setTokenAndEndpoint",value:function(e,t){t&&(e?(t=t.match(/([^:]*)/)[0])?this.status===p.VoiceStatus.AUTHENTICATING?(this.authentication.token=e,this.authentication.endpoint=t,this.checkAuthenticated()):e===this.authentication.token&&t===this.authentication.endpoint||this.reconnect(e,t):this.authenticateFailed("Invalid endpoint received."):this.authenticateFailed("Token not provided from voice server packet."))}},{key:"setSessionID",value:function(e){e?this.status===p.VoiceStatus.AUTHENTICATING?(this.authentication.sessionID=e,this.checkAuthenticated()):e!==this.authentication.sessionID&&(this.authentication.sessionID=e,this.emit("newSession",e)):this.authenticateFailed("Session ID not supplied.")}},{key:"checkAuthenticated",value:function(){var{token:e,endpoint:t,sessionID:i}=this.authentication;e&&t&&i&&(clearTimeout(this.connectTimeout),this.status=p.VoiceStatus.CONNECTING,this.emit("authenticated"),this.connect())}},{key:"authenticateFailed",value:function(e){clearTimeout(this.connectTimeout),this.status===p.VoiceStatus.AUTHENTICATING?this.emit("failed",new Error(e)):this.emit("error",new Error(e)),this.status=p.VoiceStatus.DISCONNECTED}},{key:"updateChannel",value:function(e){this.channel=e,this.sendVoiceStateUpdate()}},{key:"authenticate",value:function(){var e=this;this.sendVoiceStateUpdate(),this.connectTimeout=this.client.setTimeout(function(){return e.authenticateFailed(new Error("Connection not established within 15 seconds."))},15e3)}},{key:"reconnect",value:function(e,t){this.authentication.token=e,this.authentication.endpoint=t,this.status=p.VoiceStatus.RECONNECTING,this.emit("reconnecting"),this.connect()}},{key:"disconnect",value:function(){this.emit("closing"),this.sendVoiceStateUpdate({channel_id:null}),this.player.destroy(),this.cleanup(),this.status=p.VoiceStatus.DISCONNECTED,this.emit("disconnect")}},{key:"cleanup",value:function(){var{ws:e,udp:t}=this.sockets;e&&(e.removeAllListeners("error"),e.removeAllListeners("ready"),e.removeAllListeners("sessionDescription"),e.removeAllListeners("speaking")),t&&t.removeAllListeners("error"),this.sockets.ws=null,this.sockets.udp=null}},{key:"connect",value:function(){var e=this;if(this.status!==p.VoiceStatus.RECONNECTING){if(this.sockets.ws)throw new Error("There is already an existing WebSocket connection.");if(this.sockets.udp)throw new Error("There is already an existing UDP connection.")}this.sockets.ws&&this.sockets.ws.shutdown(),this.sockets.udp&&this.sockets.udp.shutdown(),this.sockets.ws=new u(this),this.sockets.udp=new h(this);var{ws:t,udp:i}=this.sockets;t.on("error",function(t){return e.emit("error",t)}),i.on("error",function(t){return e.emit("error",t)}),t.on("ready",this.onReady.bind(this)),t.on("sessionDescription",this.onSessionDescription.bind(this)),t.on("speaking",this.onSpeaking.bind(this))}},{key:"onReady",value:function(e){var{port:t,ssrc:i,ip:n}=e;this.authentication.port=t,this.authentication.ssrc=i,this.sockets.udp.createUDPSocket(n)}},{key:"onSessionDescription",value:function(e,t){this.authentication.encryptionMode=e,this.authentication.secretKey=t,this.status=p.VoiceStatus.CONNECTED,this.emit("ready")}},{key:"onSpeaking",value:function(e){var{user_id:t,ssrc:i,speaking:n}=e,s=this.channel.guild,o=this.client.users.get(t);if(this.ssrcMap.set(+i,o),!n)for(var r of this.receivers)r.stoppedSpeaking(o);this.status===p.VoiceStatus.CONNECTED&&this.emit("speaking",o,n),s._memberSpeakUpdate(t,n)}},{key:"playFile",value:function(e,t){return this.player.playUnknownStream("file:".concat(e),t)}},{key:"playArbitraryInput",value:function(e,t){return this.player.playUnknownStream(e,t)}},{key:"playStream",value:function(e,t){return this.player.playUnknownStream(e,t)}},{key:"playConvertedStream",value:function(e,t){return this.player.playPCMStream(e,t)}},{key:"playOpusStream",value:function(e,t){return this.player.playOpusStream(e,t)}},{key:"playBroadcast",value:function(e,t){return this.player.playBroadcast(e,t)}},{key:"createReceiver",value:function(){var e=new y(this);return this.receivers.push(e),e}},{key:"dispatcher",get:function(){return this.player.dispatcher}}]),i}();module.exports=v;
},{"./VoiceWebSocket":"pZe/","./VoiceUDPClient":"l1BS","../../util/Util":"kFkP","../../util/Constants":"TQBg","./player/AudioPlayer":"9qsz","./receiver/VoiceReceiver":"tRQe","events":"FRpO","prism-media":"f88W"}],"An0G":[function(require,module,exports) {
function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function i(n,i,t){return i&&e(n.prototype,i),t&&e(n,t),n}var t=require("../../util/Collection"),o=require("./VoiceConnection"),c=function(){function e(i){n(this,e),this.client=i,this.connections=new t,this.client.on("self.voiceServer",this.onVoiceServer.bind(this)),this.client.on("self.voiceStateUpdate",this.onVoiceStateUpdate.bind(this))}return i(e,[{key:"onVoiceServer",value:function(n){var{guild_id:e,token:i,endpoint:t}=n,o=this.connections.get(e);o&&o.setTokenAndEndpoint(i,t)}},{key:"onVoiceStateUpdate",value:function(n){var{guild_id:e,session_id:i,channel_id:t}=n,o=this.connections.get(e);o&&(o.channel=this.client.channels.get(t),o.setSessionID(i))}},{key:"joinChannel",value:function(n){var e=this;return new Promise(function(i,t){if(!n.joinable)throw n.full?new Error("You do not have permission to join this voice channel; it is full."):new Error("You do not have permission to join this voice channel.");var c=e.connections.get(n.guild.id);if(c)return c.channel.id!==n.id&&e.connections.get(n.guild.id).updateChannel(n),void i(c);c=new o(e,n),e.connections.set(n.guild.id,c),c.once("failed",function(i){e.connections.delete(n.guild.id),t(i)}),c.once("authenticated",function(){c.once("ready",function(){return i(c)}),c.once("error",t),c.once("disconnect",function(){return e.connections.delete(n.guild.id)})})})}}]),e}();module.exports=c;
},{"../../util/Collection":"QMEy","./VoiceConnection":"1rXe"}],"lYPQ":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("events").EventEmitter,f=require("../../util/Constants"),l=require("./WebSocketConnection"),b=function(t){function n(t){var o;return e(this,n),(o=c(this,i(n).call(this))).client=t,o.connection=null,o}return u(n,a),o(n,[{key:"heartbeat",value:function(){return this.connection?this.connection.heartbeat():this.debug("No connection to heartbeat")}},{key:"debug",value:function(t){return this.client.emit("debug","[ws] ".concat(t))}},{key:"destroy",value:function(){return this.connection?this.connection.destroy():(this.debug("Attempted to destroy WebSocket but no connection exists!"),!1)}},{key:"send",value:function(t){this.connection?this.connection.send(t):this.debug("No connection to websocket")}},{key:"connect",value:function(t){if(!this.connection)return this.connection=new l(this,t),!0;switch(this.connection.status){case f.Status.IDLE:case f.Status.DISCONNECTED:return this.connection.connect(t,5500),!0;default:return this.debug("Couldn't connect to ".concat(t," as the websocket is at state ").concat(this.connection.status)),!1}}}]),n}();module.exports=b;
},{"events":"FRpO","../../util/Constants":"TQBg","./WebSocketConnection":"gDPL"}],"k3KD":[function(require,module,exports) {
function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function t(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}var r=function(){function e(t){n(this,e),this.client=t}return t(e,[{key:"handle",value:function(n){return n}}]),e}();module.exports=r;
},{}],"BpCo":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?s(t):n}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=require("./Action"),l=require("../../structures/Message"),f=function(e){function n(){return t(this,n),o(this,a(n).apply(this,arguments))}return i(n,c),r(n,[{key:"handle",value:function(e){var t=this.client,n=t.channels.get((e instanceof Array?e[0]:e).channel_id),r=t.users.get((e instanceof Array?e[0]:e).author.id);if(n){var o=n.guild?n.guild.member(r):null;if(e instanceof Array){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=n._cacheMessage(new l(n,e[a],t));var i=s[s.length-1];return n.lastMessageID=i.id,r&&(r.lastMessageID=i.id,r.lastMessage=i),o&&(o.lastMessageID=i.id,o.lastMessage=i),{messages:s}}var u=n._cacheMessage(new l(n,e,t));return n.lastMessageID=e.id,r&&(r.lastMessageID=e.id,r.lastMessage=u),o&&(o.lastMessageID=e.id,o.lastMessage=u),{message:u}}return{message:null}}}]),n}();module.exports=f;
},{"./Action":"k3KD","../../structures/Message":"Djan"}],"ADlc":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=require("./Action"),f=function(e){function n(e){var o;return t(this,n),(o=r(this,u(n).call(this,e))).deleted=new Map,o}return c(n,s),o(n,[{key:"handle",value:function(e){var t,n=this.client.channels.get(e.channel_id);return n&&((t=n.messages.get(e.id))?(n.messages.delete(t.id),this.deleted.set(n.id+t.id,t),this.scheduleForDeletion(n.id,t.id)):t=this.deleted.get(n.id+e.id)||null,t&&(t.deleted=!0)),{message:t}}},{key:"scheduleForDeletion",value:function(e,t){var n=this;this.client.setTimeout(function(){return n.deleted.delete(e+t)},this.client.options.restWsBridgeTimeout)}}]),n}();module.exports=f;
},{"./Action":"k3KD"}],"C4Eu":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=require("./Action"),s=require("../../util/Collection"),a=require("../../util/Constants"),p=function(e){function n(){return t(this,n),r(this,u(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(e){var t=new s,n=this.client.channels.get(e.channel_id);if(n)for(var o of e.ids){var r=n.messages.get(o);r&&(r.deleted=!0,t.set(r.id,r),n.messages.delete(o))}return t.size>0&&this.client.emit(a.Events.MESSAGE_BULK_DELETE,t),{messages:t}}}]),n}();module.exports=p;
},{"./Action":"k3KD","../../util/Collection":"QMEy","../../util/Constants":"TQBg"}],"z+9B":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),a=require("../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(t){var e=this.client,n=e.channels.get(t.channel_id);if(n){var o=n.messages.get(t.id);return o?(o.patch(t),e.emit(a.Events.MESSAGE_UPDATE,o._edits[0],o),{old:o._edits[0],updated:o}):{old:o,updated:o}}return{old:null,updated:null}}}]),n}();module.exports=p;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"AZUN":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./Action"),s=require("../../util/Constants"),l=function(e){function n(){return t(this,n),o(this,u(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(e){var t=this.client.users.get(e.user_id);if(!t)return!1;var n=this.client.channels.get(e.channel_id);if(!n||"voice"===n.type)return!1;var r=n.messages.get(e.message_id);if(!r)return!1;if(!e.emoji)return!1;var o=r._addReaction(e.emoji,t);return o&&this.client.emit(s.Events.MESSAGE_REACTION_ADD,o,t),{message:r,reaction:o,user:t}}}]),n}();module.exports=l;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"8mdT":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./Action"),s=require("../../util/Constants"),l=function(e){function n(){return t(this,n),o(this,u(n).apply(this,arguments))}return c(n,a),r(n,[{key:"handle",value:function(e){var t=this.client.users.get(e.user_id);if(!t)return!1;var n=this.client.channels.get(e.channel_id);if(!n||"voice"===n.type)return!1;var r=n.messages.get(e.message_id);if(!r)return!1;if(!e.emoji)return!1;var o=r._removeReaction(e.emoji,t);return o&&this.client.emit(s.Events.MESSAGE_REACTION_REMOVE,o,t),{message:r,reaction:o,user:t}}}]),n}();module.exports=l;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"rWpM":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./Action"),l=require("../../util/Constants"),s=function(t){function n(){return e(this,n),r(this,u(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.client.channels.get(t.channel_id);if(!e||"voice"===e.type)return!1;var n=e.messages.get(t.message_id);return!!n&&(n._clearReactions(),this.client.emit(l.Events.MESSAGE_REACTION_REMOVE_ALL,n),{message:n})}}]),n}();module.exports=s;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"Fwds":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./Action"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){return{channel:this.client.dataManager.newChannel(t)}}}]),n}();module.exports=l;
},{"./Action":"k3KD"}],"43KK":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./Action"),a=function(e){function n(e){var o;return t(this,n),(o=r(this,u(n).call(this,e))).deleted=new Map,o}return c(n,f),o(n,[{key:"handle",value:function(e){var t=this.client,n=t.channels.get(e.id);return n?(t.dataManager.killChannel(n),this.deleted.set(n.id,n),this.scheduleForDeletion(n.id)):n=this.deleted.get(e.id)||null,n&&(n.deleted=!0),{channel:n}}},{key:"scheduleForDeletion",value:function(e){var t=this;this.client.setTimeout(function(){return t.deleted.delete(e)},this.client.options.restWsBridgeTimeout)}}]),n}();module.exports=a;
},{"./Action":"k3KD"}],"CGon":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?u(t):r}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./Action"),l=require("../../structures/TextChannel"),f=require("../../structures/VoiceChannel"),p=require("../../structures/CategoryChannel"),y=require("../../structures/NewsChannel"),b=require("../../structures/StoreChannel"),h=require("../../util/Constants"),m=h.ChannelTypes,d=require("../../util/Util"),O=function(e){function r(){return t(this,r),o(this,i(r).apply(this,arguments))}return s(r,a),n(r,[{key:"handle",value:function(e){var t=this.client,r=t.channels.get(e.id);if(r){var n=d.cloneObject(r);if(m[r.type.toUpperCase()]!==e.type){var o;switch(e.type){case m.TEXT:o=l;break;case m.VOICE:o=f;break;case m.CATEGORY:o=p;break;case m.NEWS:o=y;break;case m.STORE:o=b}var u=new o(r.guild,e);if(r.messages&&u.messages)for(var[i,s]of r.messages)u.messages.set(i,s);r=u,this.client.channels.set(r.id,r)}else r.setup(e);return t.emit(h.Events.CHANNEL_UPDATE,n,r),{old:n,updated:r}}return{old:null,updated:null}}}]),r}();module.exports=O;
},{"./Action":"k3KD","../../structures/TextChannel":"TH/A","../../structures/VoiceChannel":"EllE","../../structures/CategoryChannel":"HxD0","../../structures/NewsChannel":"HTH+","../../structures/StoreChannel":"Bu5G","../../util/Constants":"TQBg","../../util/Util":"kFkP"}],"9bz8":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./Action"),f=require("../../util/Constants"),s=function(e){function n(e){var o;return t(this,n),(o=r(this,u(n).call(this,e))).deleted=new Map,o}return l(n,a),o(n,[{key:"handle",value:function(e){var t=this.client,n=t.guilds.get(e.id);if(n){for(var o of n.channels.values())"text"===o.type&&o.stopTyping(!0);if(n.available&&e.unavailable)return n.available=!1,t.emit(f.Events.GUILD_UNAVAILABLE,n),{guild:null};for(var r of n.channels.values())this.client.channels.delete(r.id);n.voiceConnection&&n.voiceConnection.disconnect(),t.guilds.delete(n.id),this.deleted.set(n.id,n),this.scheduleForDeletion(n.id)}else n=this.deleted.get(e.id)||null;return n&&(n.deleted=!0),{guild:n}}},{key:"scheduleForDeletion",value:function(e){var t=this;this.client.setTimeout(function(){return t.deleted.delete(e)},this.client.options.restWsBridgeTimeout)}}]),n}();module.exports=s;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"6X4j":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),a=require("../../util/Constants"),p=require("../../util/Util"),s=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(t){var e=this.client,n=e.guilds.get(t.id);if(n){var o=p.cloneObject(n);return n.setup(t),e.emit(a.Events.GUILD_UPDATE,o,n),{old:o,updated:n}}return{old:null,updated:null}}}]),n}();module.exports=s;
},{"./Action":"k3KD","../../util/Constants":"TQBg","../../util/Util":"kFkP"}],"iEPA":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(t,e){return{member:t._addMember(e,!1)}}}]),n}();module.exports=p;
},{"./Action":"k3KD"}],"uNBZ":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=require("./Action"),f=require("../../util/Constants"),a=function(e){function n(e){var r;return t(this,n),(r=o(this,u(n).call(this,e))).deleted=new Map,r}return l(n,s),r(n,[{key:"handle",value:function(e){var t=this.client,n=t.guilds.get(e.guild_id),r=null;return n&&(r=n.members.get(e.user.id),n.memberCount--,r?(n._removeMember(r),this.deleted.set(n.id+e.user.id,r),t.status===f.Status.READY&&t.emit(f.Events.GUILD_MEMBER_REMOVE,r),this.scheduleForDeletion(n.id,e.user.id)):r=this.deleted.get(n.id+e.user.id)||null,r&&(r.deleted=!0)),{guild:n,member:r}}},{key:"scheduleForDeletion",value:function(e,t){var n=this;this.client.setTimeout(function(){return n.deleted.delete(e+t)},this.client.options.restWsBridgeTimeout)}}]),n}();module.exports=a;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"xoqg":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./Action"),l=require("../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){var e=this.client,n=e.guilds.get(t.guild_id),o=e.dataManager.newUser(t.user);n&&o&&e.emit(l.Events.GUILD_BAN_REMOVE,n,o)}}]),n}();module.exports=p;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"1B97":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),s=require("../../util/Constants"),a=require("../../structures/Role"),p=function(t){function n(){return e(this,n),o(this,u(n).apply(this,arguments))}return c(n,l),r(n,[{key:"handle",value:function(t){var e,n=this.client,r=n.guilds.get(t.guild_id);if(r){var o=r.roles.has(t.role.id);e=new a(r,t.role),r.roles.set(e.id,e),o||n.emit(s.Events.GUILD_ROLE_CREATE,e)}return{role:e}}}]),n}();module.exports=p;
},{"./Action":"k3KD","../../util/Constants":"TQBg","../../structures/Role":"aSv9"}],"wS/z":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=require("./Action"),s=require("../../util/Constants"),a=function(e){function n(e){var o;return t(this,n),(o=r(this,u(n).call(this,e))).deleted=new Map,o}return l(n,f),o(n,[{key:"handle",value:function(e){var t,n=this.client,o=n.guilds.get(e.guild_id);return o&&((t=o.roles.get(e.role_id))?(o.roles.delete(e.role_id),this.deleted.set(o.id+e.role_id,t),this.scheduleForDeletion(o.id,e.role_id),n.emit(s.Events.GUILD_ROLE_DELETE,t)):t=this.deleted.get(o.id+e.role_id)||null,t&&(t.deleted=!0)),{role:t}}},{key:"scheduleForDeletion",value:function(e,t){var n=this;this.client.setTimeout(function(){return n.deleted.delete(e+t)},this.client.options.restWsBridgeTimeout)}}]),n}();module.exports=a;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"WCHL":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=require("./Action"),a=require("../../util/Constants"),p=require("../../util/Util"),s=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return l(n,f),o(n,[{key:"handle",value:function(t){var e=this.client,n=e.guilds.get(t.guild_id);if(n){var o=t.role,r=null,u=n.roles.get(o.id);return u&&(r=p.cloneObject(u),u.setup(t.role),e.emit(a.Events.GUILD_ROLE_UPDATE,r,u)),{old:r,updated:u}}return{old:null,updated:null}}}]),n}();module.exports=s;
},{"./Action":"k3KD","../../util/Constants":"TQBg","../../util/Util":"kFkP"}],"6N4x":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./Action"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t){return{user:this.client.dataManager.newUser(t)}}}]),n}();module.exports=l;
},{"./Action":"k3KD"}],"M237":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?u(e):r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),a=require("../../util/Constants"),s=require("../../util/Util"),p=function(t){function r(){return e(this,r),o(this,i(r).apply(this,arguments))}return c(r,l),n(r,[{key:"handle",value:function(t){var e=this.client;if(e.user){if(e.user.equals(t))return{old:e.user,updated:e.user};var r=s.cloneObject(e.user);return e.user.patch(t),e.emit(a.Events.USER_UPDATE,r,e.user),{old:r,updated:e.user}}return{old:null,updated:null}}}]),r}();module.exports=p;
},{"./Action":"k3KD","../../util/Constants":"TQBg","../../util/Util":"kFkP"}],"6MZn":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),a=require("../../util/Constants"),p=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(t){var e=this.client,n=e.user.notes.get(t.id),o=t.note.length?t.note:null;return e.user.notes.set(t.id,o),e.emit(a.Events.USER_NOTE_UPDATE,t.id,n,o),{old:n,updated:o}}}]),n}();module.exports=p;
},{"./Action":"k3KD","../../util/Constants":"TQBg"}],"I9Df":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?i(t):r}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=require("./Action"),l=function(e){function r(){return t(this,r),o(this,u(r).apply(this,arguments))}return f(r,a),n(r,[{key:"handle",value:function(e){var t=this.client.guilds.get(e.id);if(t){if(e.presences)for(var r of e.presences)t._setPresence(r.user.id,r);if(e.members)for(var n of e.members){var o=t.members.get(n.user.id);o?t._updateMember(o,n):t._addMember(n,!1)}"large"in e&&(t.large=e.large)}}}]),r}();module.exports=l;
},{"./Action":"k3KD"}],"UqJl":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./Action"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t,e){return{emoji:this.client.dataManager.newEmoji(e,t)}}}]),n}();module.exports=l;
},{"./Action":"k3KD"}],"yLd9":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),a=function(t){function n(){return e(this,n),r(this,u(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(t){return this.client.dataManager.killEmoji(t),t.deleted=!0,{emoji:t}}}]),n}();module.exports=a;
},{"./Action":"k3KD"}],"wGGB":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=require("./Action"),l=function(t){function n(){return e(this,n),r(this,i(n).apply(this,arguments))}return c(n,a),o(n,[{key:"handle",value:function(t,e){return{emoji:this.client.dataManager.updateEmoji(t,e)}}}]),n}();module.exports=l;
},{"./Action":"k3KD"}],"rrs4":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return p(t)||s(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var y=require("./Action");function b(t){var e=new Map;for(var n of t)e.set.apply(e,f(n));return e}var h=function(t){function n(){return e(this,n),o(this,u(n).apply(this,arguments))}return a(n,y),r(n,[{key:"handle",value:function(t){var e=this.client.guilds.get(t.guild_id);if(e&&e.emojis){var n=b(e.emojis.entries());for(var r of t.emojis){var o=e.emojis.get(r.id);o?(n.delete(r.id),o.equals(r,!0)||this.client.actions.GuildEmojiUpdate.handle(o,r)):this.client.actions.GuildEmojiCreate.handle(e,r)}for(var i of n.values())this.client.actions.GuildEmojiDelete.handle(i)}}}]),n}();module.exports=h;
},{"./Action":"k3KD"}],"Y5y3":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function r(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?i(e):o}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),p=function(t){function o(){return e(this,o),r(this,u(o).apply(this,arguments))}return f(o,l),n(o,[{key:"handle",value:function(t){var e=this.client.guilds.get(t.guild_id);if(e)for(var o of t.roles){var n=e.roles.get(o.id);n&&(n.position=o.position)}return{guild:e}}}]),o}();module.exports=p;
},{"./Action":"k3KD"}],"VLEW":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=require("./Action"),a=function(t){function n(){return e(this,n),r(this,u(n).apply(this,arguments))}return c(n,l),o(n,[{key:"handle",value:function(t){var e=this.client.guilds.get(t.guild_id);if(e)for(var n of t.channels){var o=e.channels.get(n.id);o&&(o.position=n.position)}return{guild:e}}}]),n}();module.exports=a;
},{"./Action":"k3KD"}],"Ar0x":[function(require,module,exports) {
function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function i(e,i,t){return i&&r(e.prototype,i),t&&r(e,t),e}var t=function(){function r(i){e(this,r),this.client=i,this.register(require("./MessageCreate")),this.register(require("./MessageDelete")),this.register(require("./MessageDeleteBulk")),this.register(require("./MessageUpdate")),this.register(require("./MessageReactionAdd")),this.register(require("./MessageReactionRemove")),this.register(require("./MessageReactionRemoveAll")),this.register(require("./ChannelCreate")),this.register(require("./ChannelDelete")),this.register(require("./ChannelUpdate")),this.register(require("./GuildDelete")),this.register(require("./GuildUpdate")),this.register(require("./GuildMemberGet")),this.register(require("./GuildMemberRemove")),this.register(require("./GuildBanRemove")),this.register(require("./GuildRoleCreate")),this.register(require("./GuildRoleDelete")),this.register(require("./GuildRoleUpdate")),this.register(require("./UserGet")),this.register(require("./UserUpdate")),this.register(require("./UserNoteUpdate")),this.register(require("./GuildSync")),this.register(require("./GuildEmojiCreate")),this.register(require("./GuildEmojiDelete")),this.register(require("./GuildEmojiUpdate")),this.register(require("./GuildEmojisUpdate")),this.register(require("./GuildRolesPositionUpdate")),this.register(require("./GuildChannelsPositionUpdate"))}return i(r,[{key:"register",value:function(e){this[e.name.replace(/Action$/,"")]=new e(this.client)}}]),r}();module.exports=t;
},{"./MessageCreate":"BpCo","./MessageDelete":"ADlc","./MessageDeleteBulk":"C4Eu","./MessageUpdate":"z+9B","./MessageReactionAdd":"AZUN","./MessageReactionRemove":"8mdT","./MessageReactionRemoveAll":"rWpM","./ChannelCreate":"Fwds","./ChannelDelete":"43KK","./ChannelUpdate":"CGon","./GuildDelete":"9bz8","./GuildUpdate":"6X4j","./GuildMemberGet":"iEPA","./GuildMemberRemove":"uNBZ","./GuildBanRemove":"xoqg","./GuildRoleCreate":"1B97","./GuildRoleDelete":"wS/z","./GuildRoleUpdate":"WCHL","./UserGet":"6N4x","./UserUpdate":"M237","./UserNoteUpdate":"6MZn","./GuildSync":"I9Df","./GuildEmojiCreate":"UqJl","./GuildEmojiDelete":"yLd9","./GuildEmojiUpdate":"wGGB","./GuildEmojisUpdate":"rrs4","./GuildRolesPositionUpdate":"Y5y3","./GuildChannelsPositionUpdate":"VLEW"}],"TRQI":[function(require,module,exports) {
var process = require("process");
var e=require("process");function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var s=require("../util/Util"),i=function(){function t(r){n(this,t),this.client=r,e.on("message",this._handleMessage.bind(this)),r.on("ready",function(){e.send({_ready:!0})}),r.on("disconnect",function(){e.send({_disconnect:!0})}),r.on("reconnecting",function(){e.send({_reconnecting:!0})})}return r(t,[{key:"send",value:function(n){return new Promise(function(t,r){e.send(n,function(e){e?r(e):t()})})}},{key:"fetchClientValues",value:function(n){var t=this;return new Promise(function(r,i){var o=function(t){t&&t._sFetchProp===n&&(e.removeListener("message",o),t._error?i(s.makeError(t._error)):r(t._result))};e.on("message",o),t.send({_sFetchProp:n}).catch(function(n){e.removeListener("message",o),i(n)})})}},{key:"broadcastEval",value:function(n){var t=this;return new Promise(function(r,i){var o=function(t){t&&t._sEval===n&&(e.removeListener("message",o),t._error?i(s.makeError(t._error)):r(t._result))};e.on("message",o),t.send({_sEval:n}).catch(function(n){e.removeListener("message",o),i(n)})})}},{key:"_handleMessage",value:function(e){if(e)if(e._fetchProp){var n=e._fetchProp.split("."),t=this.client;for(var r of n)t=t[r];this._respond("fetchProp",{_fetchProp:e._fetchProp,_result:t})}else if(e._eval)try{this._respond("eval",{_eval:e._eval,_result:this.client._eval(e._eval)})}catch(i){this._respond("eval",{_eval:e._eval,_error:s.makePlainError(i)})}}},{key:"_respond",value:function(e,n){var t=this;this.send(n).catch(function(n){n.message="Error when sending ".concat(e," response to master process: ").concat(n.message),t.client.emit("error",n)})}},{key:"id",get:function(){return this.client.options.shardId}},{key:"count",get:function(){return this.client.options.shardCount}}],[{key:"singleton",value:function(e){return this._singleton?e.emit("warn","Multiple clients created in child process; only the first will handle sharding helpers."):this._singleton=new this(e),this._singleton}}]),t}();module.exports=i;
},{"../util/Util":"kFkP","process":"pBGv"}],"er9S":[function(require,module,exports) {
var process = require("process");
var process=require("process");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var EventEmitter=require("events"),Constants=require("../util/Constants"),Permissions=require("../util/Permissions"),Util=require("../util/Util"),RESTManager=require("./rest/RESTManager"),ClientDataManager=require("./ClientDataManager"),ClientManager=require("./ClientManager"),ClientDataResolver=require("./ClientDataResolver"),ClientVoiceManager=require("./voice/ClientVoiceManager"),WebSocketManager=require("./websocket/WebSocketManager"),ActionsManager=require("./actions/ActionsManager"),Collection=require("../util/Collection"),Presence=require("../structures/Presence").Presence,ShardClientUtil=require("../sharding/ShardClientUtil"),VoiceBroadcast=require("./voice/VoiceBroadcast"),Client=function(_EventEmitter){function Client(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,Client),e=_possibleConstructorReturn(this,_getPrototypeOf(Client).call(this)),!t.shardId&&"SHARD_ID"in process.env&&(t.shardId=Number(void 0)),!t.shardCount&&"SHARD_COUNT"in process.env&&(t.shardCount=Number(void 0)),e.options=Util.mergeDefault(Constants.DefaultOptions,t),e._validateOptions(),e.rest=new RESTManager(_assertThisInitialized(e)),e.dataManager=new ClientDataManager(_assertThisInitialized(e)),e.manager=new ClientManager(_assertThisInitialized(e)),e.ws=new WebSocketManager(_assertThisInitialized(e)),e.resolver=new ClientDataResolver(_assertThisInitialized(e)),e.actions=new ActionsManager(_assertThisInitialized(e)),e.voice=e.browser?null:new ClientVoiceManager(_assertThisInitialized(e)),e.shard=process.send?ShardClientUtil.singleton(_assertThisInitialized(e)):null,e.users=new Collection,e.guilds=new Collection,e.channels=new Collection,e.presences=new Collection,Object.defineProperty(_assertThisInitialized(e),"token",{writable:!0}),!e.token&&"CLIENT_TOKEN"in process.env?e.token=void 0:e.token=null,e.user=null,e.readyAt=null,e.broadcasts=[],e.pings=[],e._timeouts=new Set,e._intervals=new Set,e.options.messageSweepInterval>0&&e.setInterval(e.sweepMessages.bind(_assertThisInitialized(e)),1e3*e.options.messageSweepInterval),e}return _inherits(Client,_EventEmitter),_createClass(Client,[{key:"createVoiceBroadcast",value:function(){var e=new VoiceBroadcast(this);return this.broadcasts.push(e),e}},{key:"login",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.token;return this.rest.methods.login(e)}},{key:"destroy",value:function(){for(var e of this._timeouts)clearTimeout(e);for(var t of this._intervals)clearInterval(t);return this._timeouts.clear(),this._intervals.clear(),this.manager.destroy()}},{key:"syncGuilds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.guilds;this.user.bot||this.ws.send({op:12,d:e instanceof Collection?e.keyArray():e.map(function(e){return e.id})})}},{key:"fetchUser",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.users.has(e)?Promise.resolve(this.users.get(e)):this.rest.methods.getUser(e,t)}},{key:"fetchInvite",value:function(e){var t=this.resolver.resolveInviteCode(e);return this.rest.methods.getInvite(t)}},{key:"fetchWebhook",value:function(e,t){return this.rest.methods.getWebhook(e,t)}},{key:"fetchVoiceRegions",value:function(){return this.rest.methods.fetchVoiceRegions()}},{key:"sweepMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.messageCacheLifetime;if("number"!=typeof e||isNaN(e))throw new TypeError("The lifetime must be a number.");if(e<=0)return this.emit("debug","Didn't sweep messages - lifetime is unlimited"),-1;var t=1e3*e,n=Date.now(),r=0,i=0;for(var s of this.channels.values())s.messages&&(r++,i+=s.messages.sweep(function(e){return n-(e.editedTimestamp||e.createdTimestamp)>t}));return this.emit("debug","Swept ".concat(i," messages older than ").concat(e," seconds in ").concat(r," text-based channels")),i}},{key:"fetchApplication",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"@me";return"@me"!==e&&process.emitWarning('fetchApplication: use "@me" as an argument',"DeprecationWarning"),this.rest.methods.getApplication(e)}},{key:"generateInvite",value:function(e){return e=void 0===e?0:Permissions.resolve(e),this.fetchApplication().then(function(t){return"https://discordapp.com/oauth2/authorize?client_id=".concat(t.id,"&permissions=").concat(e,"&scope=bot")})}},{key:"setTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=setTimeout(function(){e.apply(void 0,i),n._timeouts.delete(o)},t);return this._timeouts.add(o),o})},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){clearTimeout(e),this._timeouts.delete(e)})},{key:"setInterval",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=setInterval.apply(void 0,[e,t].concat(r));return this._intervals.add(s),s})},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){clearInterval(e),this._intervals.delete(e)})},{key:"_pong",value:function(e){this.pings.unshift(Date.now()-e),this.pings.length>3&&(this.pings.length=3),this.ws.lastHeartbeatAck=!0}},{key:"_setPresence",value:function(e,t){this.presences.has(e)?this.presences.get(e).update(t):this.presences.set(e,new Presence(t,this))}},{key:"_eval",value:function _eval(script){return eval(script)}},{key:"_validateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;if("number"!=typeof e.shardCount||isNaN(e.shardCount))throw new TypeError("The shardCount option must be a number.");if("number"!=typeof e.shardId||isNaN(e.shardId))throw new TypeError("The shardId option must be a number.");if(e.shardCount<0)throw new RangeError("The shardCount option must be at least 0.");if(e.shardId<0)throw new RangeError("The shardId option must be at least 0.");if(0!==e.shardId&&e.shardId>=e.shardCount)throw new RangeError("The shardId option must be less than shardCount.");if("number"!=typeof e.messageCacheMaxSize||isNaN(e.messageCacheMaxSize))throw new TypeError("The messageCacheMaxSize option must be a number.");if("number"!=typeof e.messageCacheLifetime||isNaN(e.messageCacheLifetime))throw new TypeError("The messageCacheLifetime option must be a number.");if("number"!=typeof e.messageSweepInterval||isNaN(e.messageSweepInterval))throw new TypeError("The messageSweepInterval option must be a number.");if("boolean"!=typeof e.fetchAllMembers)throw new TypeError("The fetchAllMembers option must be a boolean.");if("boolean"!=typeof e.disableEveryone)throw new TypeError("The disableEveryone option must be a boolean.");if("number"!=typeof e.restWsBridgeTimeout||isNaN(e.restWsBridgeTimeout))throw new TypeError("The restWsBridgeTimeout option must be a number.");if(!(e.disabledEvents instanceof Array))throw new TypeError("The disabledEvents option must be an Array.");if("number"!=typeof e.retryLimit||isNaN(e.retryLimit))throw new TypeError("The retryLimit  options must be a number.")}},{key:"_pingTimestamp",get:function(){return this.ws.connection?this.ws.connection.lastPingTimestamp:0}},{key:"status",get:function(){return this.ws.connection?this.ws.connection.status:Constants.Status.IDLE}},{key:"uptime",get:function(){return this.readyAt?Date.now()-this.readyAt:null}},{key:"ping",get:function(){return this.pings.reduce(function(e,t){return e+t},0)/this.pings.length}},{key:"voiceConnections",get:function(){return this.browser?new Collection:this.voice.connections}},{key:"emojis",get:function(){var e=new Collection;for(var t of this.guilds.values())for(var n of t.emojis.values())e.set(n.id,n);return e}},{key:"readyTimestamp",get:function(){return this.readyAt?this.readyAt.getTime():null}},{key:"browser",get:function(){return"undefined"!=typeof window}}]),Client}(EventEmitter);module.exports=Client;
},{"events":"FRpO","../util/Constants":"TQBg","../util/Permissions":"hyYc","../util/Util":"kFkP","./rest/RESTManager":"zhwS","./ClientDataManager":"Ru3t","./ClientManager":"fzZi","./ClientDataResolver":"svNU","./voice/ClientVoiceManager":"An0G","./websocket/WebSocketManager":"lYPQ","./actions/ActionsManager":"Ar0x","../util/Collection":"QMEy","../structures/Presence":"ygDe","../sharding/ShardClientUtil":"TRQI","./voice/VoiceBroadcast":"0eHB","process":"pBGv"}],"Rhyv":[function(require,module,exports) {
var process = require("process");
var e=require("process");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?a(e):r}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=require("child_process"),l=require("events"),f=require("path"),v=require("../util/Util"),d=function(t){function n(t,s){var c,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r(this,n),(c=i(this,o(n).call(this))).manager=t,c.id=s,c.env=Object.assign({},e.env,{SHARD_ID:c.id,SHARD_COUNT:c.manager.totalShards,CLIENT_TOKEN:c.manager.token}),c.ready=!1,c._evals=new Map,c._fetches=new Map,c._exitListener=c._handleExit.bind(a(c),void 0),c.process=null,c.spawn(u),c}return c(n,l),s(n,[{key:"spawn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.manager.args,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.manager.execArgv;return this.process=h.fork(f.resolve(this.manager.file),t,{env:this.env,execArgv:r}).on("exit",this._exitListener).on("message",this._handleMessage.bind(this)),this.emit("spawn",this.process),new Promise(function(t,r){e.once("ready",t),e.once("disconnect",function(){return r(new Error("Shard ".concat(e.id,"'s Client disconnected before becoming ready.")))}),e.once("death",function(){return r(new Error("Shard ".concat(e.id,"'s process exited before its Client became ready.")))}),setTimeout(function(){return r(new Error("Shard ".concat(e.id,"'s Client took too long to become ready.")))},3e4)}).then(function(){return e.process})}},{key:"kill",value:function(){this.process.removeListener("exit",this._exitListener),this.process.kill(),this._handleExit(!1)}},{key:"respawn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return this.kill(),t>0?v.delayFor(t).then(function(){return e.spawn()}):this.spawn()}},{key:"send",value:function(e){var t=this;return new Promise(function(r,n){t.process.send(e,function(e){e?n(e):r(t)})})}},{key:"fetchClientValue",value:function(e){var t=this;if(this._fetches.has(e))return this._fetches.get(e);var r=new Promise(function(r,n){var s=function(n){n&&n._fetchProp===e&&(t.process.removeListener("message",s),t._fetches.delete(e),r(n._result))};t.process.on("message",s),t.send({_fetchProp:e}).catch(function(r){t.process.removeListener("message",s),t._fetches.delete(e),n(r)})});return this._fetches.set(e,r),r}},{key:"eval",value:function(e){var t=this;if(this._evals.has(e))return this._evals.get(e);var r=new Promise(function(r,n){var s=function(i){i&&i._eval===e&&(t.process.removeListener("message",s),t._evals.delete(e),i._error?n(v.makeError(i._error)):r(i._result))};t.process.on("message",s),t.send({_eval:e}).catch(function(r){t.process.removeListener("message",s),t._evals.delete(e),n(r)})});return this._evals.set(e,r),r}},{key:"_handleMessage",value:function(e){var t=this;if(e){if(e._ready)return this.ready=!0,void this.emit("ready");if(e._disconnect)return this.ready=!1,void this.emit("disconnect");if(e._reconnecting)return this.ready=!1,void this.emit("reconnecting");if(e._sFetchProp)return void this.manager.fetchClientValues(e._sFetchProp).then(function(r){return t.send({_sFetchProp:e._sFetchProp,_result:r})},function(r){return t.send({_sFetchProp:e._sFetchProp,_error:v.makePlainError(r)})});if(e._sEval)return void this.manager.broadcastEval(e._sEval).then(function(r){return t.send({_sEval:e._sEval,_result:r})},function(r){return t.send({_sEval:e._sEval,_error:v.makePlainError(r)})})}this.manager.emit("message",this,e),this.emit("message",e)}},{key:"_handleExit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.manager.respawn;this.emit("death",this.process),this.process=null,this._evals.clear(),this._fetches.clear(),e&&this.manager.createShard(this.id)}}]),n}();module.exports=d;
},{"child_process":"f88W","events":"FRpO","path":"UUq2","../util/Util":"kFkP","process":"pBGv"}],"Cv9c":[function(require,module,exports) {
var process = require("process");
var e=require("process");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function s(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function o(e,r,t){return r&&s(e.prototype,r),t&&s(e,t),e}function n(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&h(e,r)}function h(e,r){return(h=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var l=require("path"),f=require("fs"),d=require("events").EventEmitter,c=require("./Shard"),p=require("../util/Collection"),v=require("../util/Util"),w=function(r){function s(r){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,s),o=n(this,i(s).call(this)),a=v.mergeDefault({totalShards:"auto",respawn:!0,shardArgs:[],token:null},a),o.file=r,!r)throw new Error("File must be specified.");if(l.isAbsolute(r)||(o.file=l.resolve(e.cwd(),r)),!f.statSync(o.file).isFile())throw new Error("File path does not point to a file.");if(o.totalShards=a.totalShards,"auto"!==o.totalShards){if("number"!=typeof o.totalShards||isNaN(o.totalShards))throw new TypeError("Amount of shards must be a number.");if(o.totalShards<1)throw new RangeError("Amount of shards must be at least 1.");if(o.totalShards!==Math.floor(o.totalShards))throw new RangeError("Amount of shards must be an integer.")}return o.respawn=a.respawn,o.shardArgs=a.shardArgs,o.execArgv=a.execArgv,o.token=a.token?a.token.replace(/^Bot\s*/i,""):null,o.shards=new p,o}return u(s,d),o(s,[{key:"createShard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.shards.size,r=new c(this,e,this.shardArgs);return this.shards.set(e,r),this.emit("launch",r),Promise.resolve(r)}},{key:"spawn",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.totalShards,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7500;if("auto"===r)return v.fetchRecommendedShards(this.token).then(function(r){return e.totalShards=r,e._spawn(r,t)});if("number"!=typeof r||isNaN(r))throw new TypeError("Amount of shards must be a number.");if(r<1)throw new RangeError("Amount of shards must be at least 1.");if(r!==Math.floor(r))throw new TypeError("Amount of shards must be an integer.");return this._spawn(r,t)}},{key:"_spawn",value:function(e,r){var t=this;return new Promise(function(s){if(t.shards.size>=e)throw new Error("Already spawned ".concat(t.shards.size," shards."));if(t.totalShards=e,t.createShard(),t.shards.size>=t.totalShards)s(t.shards);else if(r<=0){for(;t.shards.size<t.totalShards;)t.createShard();s(t.shards)}else var o=setInterval(function(){t.createShard(),t.shards.size>=t.totalShards&&(clearInterval(o),s(t.shards))},r)})}},{key:"broadcast",value:function(e){var r=[];for(var t of this.shards.values())r.push(t.send(e));return Promise.all(r)}},{key:"broadcastEval",value:function(e){var r=[];for(var t of this.shards.values())r.push(t.eval(e));return Promise.all(r)}},{key:"fetchClientValues",value:function(e){if(0===this.shards.size)return Promise.reject(new Error("No shards have been spawned."));if(this.shards.size!==this.totalShards)return Promise.reject(new Error("Still spawning shards."));var r=[];for(var t of this.shards.values())r.push(t.fetchClientValue(e));return Promise.all(r)}},{key:"respawnAll",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=0,a=[this.shards.get(o).respawn(t,s)];return++n<this.shards.size&&r>0&&a.push(v.delayFor(r)),Promise.all(a).then(function(){return++o===e.shards.size?e.shards:e.respawnAll(r,t,s,o)})}}]),s}();module.exports=w;
},{"path":"UUq2","fs":"f88W","events":"FRpO","./Shard":"Rhyv","../util/Collection":"QMEy","../util/Util":"kFkP","process":"pBGv"}],"z2Y+":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=require("../structures/Webhook"),f=require("./rest/RESTManager"),s=require("./ClientDataResolver"),p=require("../util/Constants"),y=require("../util/Util"),v=function(t){function n(t,r,a){var l;return e(this,n),(l=o(this,i(n).call(this,null,t,r))).options=y.mergeDefault(p.DefaultOptions,a),l.rest=new f(u(l)),l.resolver=new s(u(l)),l._timeouts=new Set,l._intervals=new Set,l}return a(n,c),r(n,[{key:"setTimeout",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=setTimeout(function(){t.apply(void 0,o),n._timeouts.delete(u)},e);return this._timeouts.add(u),u})},{key:"clearTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){clearTimeout(t),this._timeouts.delete(t)})},{key:"setInterval",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=setInterval.apply(void 0,[t,e].concat(r));return this._intervals.add(i),i})},{key:"clearInterval",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){clearInterval(t),this._intervals.delete(t)})},{key:"destroy",value:function(){for(var t of this._timeouts)clearTimeout(t);for(var e of this._intervals)clearInterval(e);this._timeouts.clear(),this._intervals.clear()}}]),n}();module.exports=v;
},{"../structures/Webhook":"jucJ","./rest/RESTManager":"zhwS","./ClientDataResolver":"svNU","../util/Constants":"TQBg","../util/Util":"kFkP"}],"xnm9":[function(require,module,exports) {
var e=require("./util/Util");module.exports={Client:require("./client/Client"),Shard:require("./sharding/Shard"),ShardClientUtil:require("./sharding/ShardClientUtil"),ShardingManager:require("./sharding/ShardingManager"),WebhookClient:require("./client/WebhookClient"),Collection:require("./util/Collection"),Constants:require("./util/Constants"),DiscordAPIError:require("./client/rest/DiscordAPIError"),EvaluatedPermissions:require("./util/Permissions"),Permissions:require("./util/Permissions"),Snowflake:require("./util/Snowflake"),SnowflakeUtil:require("./util/Snowflake"),Util:e,util:e,version:require("../package").version,escapeMarkdown:e.escapeMarkdown,fetchRecommendedShards:e.fetchRecommendedShards,splitMessage:e.splitMessage,Attachment:require("./structures/Attachment"),CategoryChannel:require("./structures/CategoryChannel"),Channel:require("./structures/Channel"),ClientUser:require("./structures/ClientUser"),ClientUserSettings:require("./structures/ClientUserSettings"),Collector:require("./structures/interfaces/Collector"),DMChannel:require("./structures/DMChannel"),Emoji:require("./structures/Emoji"),Game:require("./structures/Presence").Game,GroupDMChannel:require("./structures/GroupDMChannel"),Guild:require("./structures/Guild"),GuildAuditLogs:require("./structures/GuildAuditLogs"),GuildChannel:require("./structures/GuildChannel"),GuildMember:require("./structures/GuildMember"),Invite:require("./structures/Invite"),Message:require("./structures/Message"),MessageAttachment:require("./structures/MessageAttachment"),MessageCollector:require("./structures/MessageCollector"),MessageEmbed:require("./structures/MessageEmbed"),MessageMentions:require("./structures/MessageMentions"),MessageReaction:require("./structures/MessageReaction"),NewsChannel:require("./structures/NewsChannel"),OAuth2Application:require("./structures/OAuth2Application"),ClientOAuth2Application:require("./structures/OAuth2Application"),PartialGuild:require("./structures/PartialGuild"),PartialGuildChannel:require("./structures/PartialGuildChannel"),PermissionOverwrites:require("./structures/PermissionOverwrites"),Presence:require("./structures/Presence").Presence,ReactionEmoji:require("./structures/ReactionEmoji"),ReactionCollector:require("./structures/ReactionCollector"),RichEmbed:require("./structures/RichEmbed"),Role:require("./structures/Role"),StoreChannel:require("./structures/StoreChannel"),TextChannel:require("./structures/TextChannel"),User:require("./structures/User"),VoiceChannel:require("./structures/VoiceChannel"),Webhook:require("./structures/Webhook")};
},{"./util/Util":"kFkP","./client/Client":"er9S","./sharding/Shard":"Rhyv","./sharding/ShardClientUtil":"TRQI","./sharding/ShardingManager":"Cv9c","./client/WebhookClient":"z2Y+","./util/Collection":"QMEy","./util/Constants":"TQBg","./client/rest/DiscordAPIError":"n//4","./util/Permissions":"hyYc","./util/Snowflake":"Jr6I","../package":"zzkE","./structures/Attachment":"GZWo","./structures/CategoryChannel":"HxD0","./structures/Channel":"gHxX","./structures/ClientUser":"Q6XH","./structures/ClientUserSettings":"f61M","./structures/interfaces/Collector":"uM/T","./structures/DMChannel":"KMd1","./structures/Emoji":"oytn","./structures/Presence":"ygDe","./structures/GroupDMChannel":"vnRV","./structures/Guild":"T/02","./structures/GuildAuditLogs":"SG3v","./structures/GuildChannel":"pGdW","./structures/GuildMember":"l1E5","./structures/Invite":"YTTt","./structures/Message":"Djan","./structures/MessageAttachment":"wqBE","./structures/MessageCollector":"n7Nm","./structures/MessageEmbed":"XKET","./structures/MessageMentions":"Sz1E","./structures/MessageReaction":"N8aJ","./structures/NewsChannel":"HTH+","./structures/OAuth2Application":"F7Mg","./structures/PartialGuild":"KH5h","./structures/PartialGuildChannel":"5YAV","./structures/PermissionOverwrites":"C6y+","./structures/ReactionEmoji":"R8pk","./structures/ReactionCollector":"BiVw","./structures/RichEmbed":"IEkm","./structures/Role":"aSv9","./structures/StoreChannel":"Bu5G","./structures/TextChannel":"TH/A","./structures/User":"OMuY","./structures/VoiceChannel":"EllE","./structures/Webhook":"jucJ"}],"YRJd":[function(require,module,exports) {
var __dirname = "C:\\Users\\Administrator\\dev\\typescript\\homie\\build\\client\\commands";
var r="C:\\Users\\Administrator\\dev\\typescript\\homie\\build\\client\\commands";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs");exports.default=function(){var t=new Map,a=e.readdirSync(r).map(function(r){return"".concat(r.split(".")[0].toLowerCase())}),o=!0,n=!1,i=void 0;try{for(var l,u=a[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if("load"!==c){var d=require("./".concat(c)).default;t.set(c,d)}}}catch(s){n=!0,i=s}finally{try{o||null==u.return||u.return()}finally{if(n)throw i}}return console.log(t),t};
},{"fs":"f88W"}],"bVWP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get_args=function(e){var t=e.content.split(" ").slice(1);return t.length>0?t:null};
},{}],"l7+G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get_command=function(e,t){var n=e.content.split(" ")[0].replace(new RegExp("".concat(t)),"").toLowerCase();return n||null};
},{}],"udzS":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./GetArgs")),e(require("./GetCommand"));
},{"./GetArgs":"bVWP","./GetCommand":"l7+G"}],"7TQp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.is_prefix_valid=function(e){var r=e.replace(new RegExp(" ","g"),"");return r.length>0&&r.length<4};
},{}],"z87e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.is_command_name_valid=function(e){return e.replace(new RegExp(" ","g"),"").length>0};
},{}],"AiFf":[function(require,module,exports) {
"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.is_action_valid=function(t){return o(t)===o(function(){})};
},{}],"Eore":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.command_exists=function(e,t){return!!e.get(t)};
},{}],"6gLZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.is_volume_valid=function(e){return e>=0&&e<=1};
},{}],"TBlg":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./Prefix")),e(require("./CommandName")),e(require("./Action")),e(require("./CommandExists")),e(require("./Volume"));
},{"./Prefix":"7TQp","./CommandName":"z87e","./Action":"AiFf","./CommandExists":"Eore","./Volume":"6gLZ"}],"UMBK":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function n(){e(this,n)}return r(n,null,[{key:"throw",value:function(){throw new Error("Prefix must be between 1 and 3 characters long")}}]),n}();exports.InvalidPrefix=t;
},{}],"EhNU":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function n(){e(this,n)}return r(n,null,[{key:"throw",value:function(){throw new Error("Command name must bigger than 1 character")}}]),n}();exports.InvalidCommand=t;
},{}],"uypE":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function n(){e(this,n)}return t(n,null,[{key:"throw",value:function(){throw new Error("Action must be a function that acts when the command is used")}}]),n}();exports.InvalidAction=r;
},{}],"SFeF":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function n(){e(this,n)}return t(n,null,[{key:"throw",value:function(){throw new Error("A command with that name already exists")}}]),n}();exports.CommandExists=r;
},{}],"WLuR":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./InvalidPrefix")),e(require("./InvalidCommand")),e(require("./InvalidAction")),e(require("./CommandExists"));
},{"./InvalidPrefix":"UMBK","./InvalidCommand":"EhNU","./InvalidAction":"uypE","./CommandExists":"SFeF"}],"/oWq":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"5YsI":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"Mej7":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"/oWq","./util":"5YsI","querystring":"+00f"}],"YfFG":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;!function(e){e.parser=function(t,e){return new a(t,e)},e.SAXParser=a,e.SAXStream=n,e.createStream=function(t,e){return new n(t,e)},e.MAX_BUFFER_LENGTH=65536;var i,s=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(t,i){if(!(this instanceof a))return new a(t,i);!function(t){for(var e=0,i=s.length;e<i;e++)t[s[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=i||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=b.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(l)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),O(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}),a.prototype={end:function(){P(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return R(this,"Cannot write after close. Assign an onready handler.");if(null===t)return P(this);"object"==typeof t&&(t=t.toString());var i=0,a="";for(;a=V(t,i++),this.c=a,a;)switch(this.trackPosition&&(this.position++,"\n"===a?(this.line++,this.column=0):this.column++),this.state){case b.BEGIN:if(this.state=b.BEGIN_WHITESPACE,"\ufeff"===a)continue;M(this,a);continue;case b.BEGIN_WHITESPACE:M(this,a);continue;case b.TEXT:if(this.sawRoot&&!this.closedRoot){for(var r=i-1;a&&"<"!==a&&"&"!==a;)(a=V(t,i++))&&this.trackPosition&&(this.position++,"\n"===a?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(r,i-1)}"<"!==a||this.sawRoot&&this.closedRoot&&!this.strict?(N(a)||this.sawRoot&&!this.closedRoot||y(this,"Text data outside of root node."),"&"===a?this.state=b.TEXT_ENTITY:this.textNode+=a):(this.state=b.OPEN_WAKA,this.startTagPosition=this.position);continue;case b.SCRIPT:"<"===a?this.state=b.SCRIPT_ENDING:this.script+=a;continue;case b.SCRIPT_ENDING:"/"===a?this.state=b.CLOSE_TAG:(this.script+="<"+a,this.state=b.SCRIPT);continue;case b.OPEN_WAKA:if("!"===a)this.state=b.SGML_DECL,this.sgmlDecl="";else if(N(a));else if(d(T,a))this.state=b.OPEN_TAG,this.tagName=a;else if("/"===a)this.state=b.CLOSE_TAG,this.tagName="";else if("?"===a)this.state=b.PROC_INST,this.procInstName=this.procInstBody="";else{if(y(this,"Unencoded <"),this.startTagPosition+1<this.position){var n=this.position-this.startTagPosition;a=new Array(n).join(" ")+a}this.textNode+="<"+a,this.state=b.TEXT}continue;case b.SGML_DECL:(this.sgmlDecl+a).toUpperCase()===o?(F(this,"onopencdata"),this.state=b.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+a==="--"?(this.state=b.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+a).toUpperCase()===c?(this.state=b.DOCTYPE,(this.doctype||this.sawRoot)&&y(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===a?(F(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=b.TEXT):f(a)?(this.state=b.SGML_DECL_QUOTED,this.sgmlDecl+=a):this.sgmlDecl+=a;continue;case b.SGML_DECL_QUOTED:a===this.q&&(this.state=b.SGML_DECL,this.q=""),this.sgmlDecl+=a;continue;case b.DOCTYPE:">"===a?(this.state=b.TEXT,F(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=a,"["===a?this.state=b.DOCTYPE_DTD:f(a)&&(this.state=b.DOCTYPE_QUOTED,this.q=a));continue;case b.DOCTYPE_QUOTED:this.doctype+=a,a===this.q&&(this.q="",this.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:this.doctype+=a,"]"===a?this.state=b.DOCTYPE:f(a)&&(this.state=b.DOCTYPE_DTD_QUOTED,this.q=a);continue;case b.DOCTYPE_DTD_QUOTED:this.doctype+=a,a===this.q&&(this.state=b.DOCTYPE_DTD,this.q="");continue;case b.COMMENT:"-"===a?this.state=b.COMMENT_ENDING:this.comment+=a;continue;case b.COMMENT_ENDING:"-"===a?(this.state=b.COMMENT_ENDED,this.comment=v(this.opt,this.comment),this.comment&&F(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+a,this.state=b.COMMENT);continue;case b.COMMENT_ENDED:">"!==a?(y(this,"Malformed comment"),this.comment+="--"+a,this.state=b.COMMENT):this.state=b.TEXT;continue;case b.CDATA:"]"===a?this.state=b.CDATA_ENDING:this.cdata+=a;continue;case b.CDATA_ENDING:"]"===a?this.state=b.CDATA_ENDING_2:(this.cdata+="]"+a,this.state=b.CDATA);continue;case b.CDATA_ENDING_2:">"===a?(this.cdata&&F(this,"oncdata",this.cdata),F(this,"onclosecdata"),this.cdata="",this.state=b.TEXT):"]"===a?this.cdata+="]":(this.cdata+="]]"+a,this.state=b.CDATA);continue;case b.PROC_INST:"?"===a?this.state=b.PROC_INST_ENDING:N(a)?this.state=b.PROC_INST_BODY:this.procInstName+=a;continue;case b.PROC_INST_BODY:if(!this.procInstBody&&N(a))continue;"?"===a?this.state=b.PROC_INST_ENDING:this.procInstBody+=a;continue;case b.PROC_INST_ENDING:">"===a?(F(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=b.TEXT):(this.procInstBody+="?"+a,this.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:d(E,a)?this.tagName+=a:(L(this),">"===a?x(this):"/"===a?this.state=b.OPEN_TAG_SLASH:(N(a)||y(this,"Invalid character in tag name"),this.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:">"===a?(x(this,!0),w(this)):(y(this,"Forward-slash in opening tag not followed by >"),this.state=b.ATTRIB);continue;case b.ATTRIB:if(N(a))continue;">"===a?x(this):"/"===a?this.state=b.OPEN_TAG_SLASH:d(T,a)?(this.attribName=a,this.attribValue="",this.state=b.ATTRIB_NAME):y(this,"Invalid attribute name");continue;case b.ATTRIB_NAME:"="===a?this.state=b.ATTRIB_VALUE:">"===a?(y(this,"Attribute without value"),this.attribValue=this.attribName,B(this),x(this)):N(a)?this.state=b.ATTRIB_NAME_SAW_WHITE:d(E,a)?this.attribName+=a:y(this,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if("="===a)this.state=b.ATTRIB_VALUE;else{if(N(a))continue;y(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",F(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===a?x(this):d(T,a)?(this.attribName=a,this.state=b.ATTRIB_NAME):(y(this,"Invalid attribute name"),this.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(N(a))continue;f(a)?(this.q=a,this.state=b.ATTRIB_VALUE_QUOTED):(y(this,"Unquoted attribute value"),this.state=b.ATTRIB_VALUE_UNQUOTED,this.attribValue=a);continue;case b.ATTRIB_VALUE_QUOTED:if(a!==this.q){"&"===a?this.state=b.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=a;continue}B(this),this.q="",this.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:N(a)?this.state=b.ATTRIB:">"===a?x(this):"/"===a?this.state=b.OPEN_TAG_SLASH:d(T,a)?(y(this,"No whitespace between attributes"),this.attribName=a,this.attribValue="",this.state=b.ATTRIB_NAME):y(this,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(!_(a)){"&"===a?this.state=b.ATTRIB_VALUE_ENTITY_U:this.attribValue+=a;continue}B(this),">"===a?x(this):this.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(this.tagName)">"===a?w(this):d(E,a)?this.tagName+=a:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=b.SCRIPT):(N(a)||y(this,"Invalid tagname in closing tag"),this.state=b.CLOSE_TAG_SAW_WHITE);else{if(N(a))continue;g(T,a)?this.script?(this.script+="</"+a,this.state=b.SCRIPT):y(this,"Invalid tagname in closing tag."):this.tagName=a}continue;case b.CLOSE_TAG_SAW_WHITE:if(N(a))continue;">"===a?w(this):y(this,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var u,h;switch(this.state){case b.TEXT_ENTITY:u=b.TEXT,h="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:u=b.ATTRIB_VALUE_QUOTED,h="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:u=b.ATTRIB_VALUE_UNQUOTED,h="attribValue"}";"===a?(this[h]+=G(this),this.entity="",this.state=u):d(this.entity.length?m:p,a)?this.entity+=a:(y(this,"Invalid character in entity name"),this[h]+="&"+this.entity+a,this.entity="",this.state=u);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var i=Math.max(e.MAX_BUFFER_LENGTH,10),a=0,r=0,n=s.length;r<n;r++){var o=t[s[r]].length;if(o>i)switch(s[r]){case"textNode":S(t);break;case"cdata":F(t,"oncdata",t.cdata),t.cdata="";break;case"script":F(t,"onscript",t.script),t.script="";break;default:R(t,"Max buffer length exceeded: "+s[r])}a=Math.max(a,o)}var c=e.MAX_BUFFER_LENGTH-a;t.bufferCheckPosition=c+t.position}(this);return this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;S(t=this),""!==t.cdata&&(F(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(F(t,"onscript",t.script),t.script="")}};try{i=require("stream").Stream}catch(Y){i=function(){}}var r=e.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function n(t,e){if(!(this instanceof n))return new n(t,e);i.apply(this),this._parser=new a(t,e),this.writable=!0,this.readable=!0;var s=this;this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(t){s.emit("error",t),s._parser.error=null},this._decoder=null,r.forEach(function(t){Object.defineProperty(s,"on"+t,{get:function(){return s._parser["on"+t]},set:function(e){if(!e)return s.removeAllListeners(t),s._parser["on"+t]=e,e;s.on(t,e)},enumerable:!0,configurable:!1})})}n.prototype=Object.create(i.prototype,{constructor:{value:n}}),n.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var i=require("string_decoder").StringDecoder;this._decoder=new i("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},n.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},n.prototype.on=function(t,e){var s=this;return s._parser["on"+t]||-1===r.indexOf(t)||(s._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),s.emit.apply(s,e)}),i.prototype.on.call(s,t,e)};var o="[CDATA[",c="DOCTYPE",u="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",l={xml:u,xmlns:h},T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function f(t){return'"'===t||"'"===t}function _(t){return">"===t||N(t)}function d(t,e){return t.test(e)}function g(t,e){return!d(t,e)}var A,I,D,b=0;for(var C in e.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var i=e.ENTITIES[t],s="number"==typeof i?String.fromCharCode(i):i;e.ENTITIES[t]=s}),e.STATE)e.STATE[e.STATE[C]]=C;function O(t,e,i){t[e]&&t[e](i)}function F(t,e,i){t.textNode&&S(t),O(t,e,i)}function S(t){t.textNode=v(t.opt,t.textNode),t.textNode&&O(t,"ontext",t.textNode),t.textNode=""}function v(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function R(t,e){return S(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,O(t,"onerror",e),t}function P(t){return t.sawRoot&&!t.closedRoot&&y(t,"Unclosed root tag"),t.state!==b.BEGIN&&t.state!==b.BEGIN_WHITESPACE&&t.state!==b.TEXT&&R(t,"Unexpected end"),S(t),t.c="",t.closed=!0,O(t,"onend"),a.call(t,t.strict,t.opt),t}function y(t,e){if("object"!=typeof t||!(t instanceof a))throw new Error("bad call to strictFail");t.strict&&R(t,e)}function L(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,i=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(i.ns=e.ns),t.attribList.length=0,F(t,"onopentagstart",i)}function U(t,e){var i=t.indexOf(":")<0?["",t]:t.split(":"),s=i[0],a=i[1];return e&&"xmlns"===t&&(s="xmlns",a=""),{prefix:s,local:a}}function B(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=U(t.attribName,!0),i=e.prefix,s=e.local;if("xmlns"===i)if("xml"===s&&t.attribValue!==u)y(t,"xml: prefix must be bound to "+u+"\nActual: "+t.attribValue);else if("xmlns"===s&&t.attribValue!==h)y(t,"xmlns: prefix must be bound to "+h+"\nActual: "+t.attribValue);else{var a=t.tag,r=t.tags[t.tags.length-1]||t;a.ns===r.ns&&(a.ns=Object.create(r.ns)),a.ns[s]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,F(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function x(t,e){if(t.opt.xmlns){var i=t.tag,s=U(t.tagName);i.prefix=s.prefix,i.local=s.local,i.uri=i.ns[s.prefix]||"",i.prefix&&!i.uri&&(y(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),i.uri=s.prefix);var a=t.tags[t.tags.length-1]||t;i.ns&&a.ns!==i.ns&&Object.keys(i.ns).forEach(function(e){F(t,"onopennamespace",{prefix:e,uri:i.ns[e]})});for(var r=0,n=t.attribList.length;r<n;r++){var o=t.attribList[r],c=o[0],u=o[1],h=U(c,!0),l=h.prefix,T=h.local,E=""===l?"":i.ns[l]||"",p={name:c,value:u,prefix:l,local:T,uri:E};l&&"xmlns"!==l&&!E&&(y(t,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),t.tag.attributes[c]=p,F(t,"onattribute",p)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),F(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=b.TEXT:t.state=b.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function w(t){if(!t.tagName)return y(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=b.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=b.SCRIPT);F(t,"onscript",t.script),t.script=""}var e=t.tags.length,i=t.tagName;t.strict||(i=i[t.looseCase]());for(var s=i;e--;){if(t.tags[e].name===s)break;y(t,"Unexpected close tag")}if(e<0)return y(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=b.TEXT);t.tagName=i;for(var a=t.tags.length;a-- >e;){var r=t.tag=t.tags.pop();t.tagName=t.tag.name,F(t,"onclosetag",t.tagName);var n={};for(var o in r.ns)n[o]=r.ns[o];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&r.ns!==c.ns&&Object.keys(r.ns).forEach(function(e){var i=r.ns[e];F(t,"onclosenamespace",{prefix:e,uri:i})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=b.TEXT}function G(t){var e,i=t.entity,s=i.toLowerCase(),a="";return t.ENTITIES[i]?t.ENTITIES[i]:t.ENTITIES[s]?t.ENTITIES[s]:("#"===(i=s).charAt(0)&&("x"===i.charAt(1)?(i=i.slice(2),a=(e=parseInt(i,16)).toString(16)):(i=i.slice(1),a=(e=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),isNaN(e)||a.toLowerCase()!==i?(y(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function M(t,e){"<"===e?(t.state=b.OPEN_WAKA,t.startTagPosition=t.position):N(e)||(y(t,"Non-whitespace before first tag."),t.textNode=e,t.state=b.TEXT)}function V(t,e){var i="";return e<t.length&&(i=t.charAt(e)),i}b=e.STATE,String.fromCodePoint||(A=String.fromCharCode,I=Math.floor,D=function(){var t,e,i=[],s=-1,a=arguments.length;if(!a)return"";for(var r="";++s<a;){var n=Number(arguments[s]);if(!isFinite(n)||n<0||n>1114111||I(n)!==n)throw RangeError("Invalid code point: "+n);n<=65535?i.push(n):(t=55296+((n-=65536)>>10),e=n%1024+56320,i.push(t,e)),(s+1===a||i.length>16384)&&(r+=A.apply(null,i),i.length=0)}return r},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:D,configurable:!0,writable:!0}):String.fromCodePoint=D)}("undefined"==typeof exports?this.sax={}:exports);
},{"stream":"fnRj","string_decoder":"z0rv","buffer":"dskh"}],"p5a1":[function(require,module,exports) {
var global = arguments[3];
var r,e=arguments[3];exports.fetch=s(e.fetch)&&s(e.ReadableStream),exports.writableStream=s(e.WritableStream),exports.abortController=s(e.AbortController),exports.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),exports.blobConstructor=!0}catch(f){}function t(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(f){r=null}}else r=null;return r}function o(r){var e=t();if(!e)return!1;try{return e.responseType=r,e.responseType===r}catch(f){}return!1}var a=void 0!==e.ArrayBuffer,n=a&&s(e.ArrayBuffer.prototype.slice);function s(r){return"function"==typeof r}exports.arraybuffer=exports.fetch||a&&o("arraybuffer"),exports.msstream=!exports.fetch&&n&&o("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&a&&o("moz-chunked-arraybuffer"),exports.overrideMimeType=exports.fetch||!!t()&&s(t().overrideMimeType),exports.vbArray=s(e.VBArray),r=null;
},{}],"Ux+i":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var e=require("process"),r=require("buffer").Buffer,t=arguments[3],s=require("./capability"),a=require("inherits"),o=require("readable-stream"),n=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=exports.IncomingMessage=function(a,n,u,i){var c=this;if(o.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){e.nextTick(function(){c.emit("close")})}),"fetch"===u){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach(function(e,r){c.headers[r.toLowerCase()]=e,c.rawHeaders.push(r,e)}),s.writableStream){var d=new WritableStream({write:function(e){return new Promise(function(t,s){c._destroyed?s():c.push(new r(e))?t():c._resumeFetch=t})},close:function(){t.clearTimeout(i),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void n.body.pipeTo(d).catch(function(e){t.clearTimeout(i),c._destroyed||c.emit("error",e)})}catch(p){}}var h=n.body.getReader();!function e(){h.read().then(function(s){if(!c._destroyed){if(s.done)return t.clearTimeout(i),void c.push(null);c.push(new r(s.value)),e()}}).catch(function(e){t.clearTimeout(i),c._destroyed||c.emit("error",e)})}()}else{if(c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText,a.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var r=e.match(/^([^:]+):\s*(.*)/);if(r){var t=r[1].toLowerCase();"set-cookie"===t?(void 0===c.headers[t]&&(c.headers[t]=[]),c.headers[t].push(r[2])):void 0!==c.headers[t]?c.headers[t]+=", "+r[2]:c.headers[t]=r[2],c.rawHeaders.push(r[1],r[2])}}),c._charset="x-user-defined",!s.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var l=f.match(/;\s*charset=([^;])(;|$)/);l&&(c._charset=l[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(u,o.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,s=e._xhr,a=null;switch(e._mode){case"text:vbarray":if(s.readyState!==n.DONE)break;try{a=new t.VBArray(s.responseBody).toArray()}catch(d){}if(null!==a){e.push(new r(a));break}case"text":try{a=s.responseText}catch(d){e._mode="text:vbarray";break}if(a.length>e._pos){var o=a.substr(e._pos);if("x-user-defined"===e._charset){for(var u=new r(o.length),i=0;i<o.length;i++)u[i]=255&o.charCodeAt(i);e.push(u)}else e.push(o,e._charset);e._pos=a.length}break;case"arraybuffer":if(s.readyState!==n.DONE||!s.response)break;a=s.response,e.push(new r(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=s.response,s.readyState!==n.LOADING||!a)break;e.push(new r(new Uint8Array(a)));break;case"ms-stream":if(a=s.response,s.readyState!==n.LOADING)break;var c=new t.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(a)}e._xhr.readyState===n.DONE&&"ms-stream"!==e._mode&&e.push(null)};
},{"./capability":"p5a1","inherits":"4Bm0","readable-stream":"tzeh","process":"pBGv","buffer":"dskh"}],"+AH4":[function(require,module,exports) {

var e=require("buffer").Buffer;module.exports=function(f){if(f instanceof Uint8Array){if(0===f.byteOffset&&f.byteLength===f.buffer.byteLength)return f.buffer;if("function"==typeof f.buffer.slice)return f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)}if(e.isBuffer(f)){for(var r=new Uint8Array(f.length),t=f.length,n=0;n<t;n++)r[n]=f[n];return r.buffer}throw new Error("Argument must be a Buffer")};
},{"buffer":"dskh"}],"yL7F":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var process = require("process");
var e=require("buffer").Buffer,t=arguments[3],r=require("process"),o=require("./capability"),n=require("inherits"),i=require("./response"),s=require("readable-stream"),a=require("to-arraybuffer"),c=i.IncomingMessage,u=i.readyStates;function d(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}var f=module.exports=function(t){var r,n=this;s.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)i=!1,r=!0;else if("prefer-streaming"===t.mode)r=!1;else if("allow-wrong-content-type"===t.mode)r=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=d(r,i),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};function h(e){try{var t=e.status;return null!==t&&0!==t}catch(r){return!1}}n(f,s.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var n=this;if(!n._destroyed){var i=n._opts,s=n._headers,c=null;"GET"!==i.method&&"HEAD"!==i.method&&(c=o.arraybuffer?a(e.concat(n._body)):o.blobConstructor?new t.Blob(n._body.map(function(e){return a(e)}),{type:(s["content-type"]||{}).value||""}):e.concat(n._body).toString());var d=[];if(Object.keys(s).forEach(function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach(function(e){d.push([t,e])}):d.push([t,r])}),"fetch"===n._mode){var f=null;if(o.abortController){var h=new AbortController;f=h.signal,n._fetchAbortController=h,"requestTimeout"in i&&0!==i.requestTimeout&&(n._fetchTimer=t.setTimeout(function(){n.emit("requestTimeout"),n._fetchAbortController&&n._fetchAbortController.abort()},i.requestTimeout))}t.fetch(n._opts.url,{method:n._opts.method,headers:d,body:c||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin",signal:f}).then(function(e){n._fetchResponse=e,n._connect()},function(e){t.clearTimeout(n._fetchTimer),n._destroyed||n.emit("error",e)})}else{var p=n._xhr=new t.XMLHttpRequest;try{p.open(n._opts.method,n._opts.url,!0)}catch(l){return void r.nextTick(function(){n.emit("error",l)})}"responseType"in p&&(p.responseType=n._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!i.withCredentials),"text"===n._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in i&&(p.timeout=i.requestTimeout,p.ontimeout=function(){n.emit("requestTimeout")}),d.forEach(function(e){p.setRequestHeader(e[0],e[1])}),n._response=null,p.onreadystatechange=function(){switch(p.readyState){case u.LOADING:case u.DONE:n._onXHRProgress()}},"moz-chunked-arraybuffer"===n._mode&&(p.onprogress=function(){n._onXHRProgress()}),p.onerror=function(){n._destroyed||n.emit("error",new Error("XHR error"))};try{p.send(c)}catch(l){return void r.nextTick(function(){n.emit("error",l)})}}}},f.prototype._onXHRProgress=function(){h(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,t.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),s.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];
},{"./capability":"p5a1","inherits":"4Bm0","./response":"Ux+i","readable-stream":"tzeh","to-arraybuffer":"+AH4","buffer":"dskh","process":"pBGv"}],"K5Tb":[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],"9OpT":[function(require,module,exports) {
module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};
},{}],"KKrj":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],t=require("./lib/request"),r=require("./lib/response"),n=require("xtend"),o=require("builtin-status-codes"),s=require("url"),u=exports;u.request=function(r,o){r="string"==typeof r?s.parse(r):n(r);var u=-1===e.location.protocol.search(/^https?:$/)?"http:":"",E=r.protocol||u,a=r.hostname||r.host,C=r.port,i=r.path||"/";a&&-1!==a.indexOf(":")&&(a="["+a+"]"),r.url=(a?E+"//"+a:"")+(C?":"+C:"")+i,r.method=(r.method||"GET").toUpperCase(),r.headers=r.headers||{};var T=new t(r);return o&&T.on("response",o),T},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=t,u.IncomingMessage=r.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=o,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];
},{"./lib/request":"yL7F","./lib/response":"Ux+i","xtend":"K5Tb","builtin-status-codes":"9OpT","url":"Mej7"}],"wVMl":[function(require,module,exports) {
var t=require("http"),r=require("url"),o=module.exports;for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);function p(t){if("string"==typeof t&&(t=r.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(r,o){return r=p(r),t.request.call(this,r,o)},o.get=function(r,o){return r=p(r),t.get.call(this,r,o)};
},{"http":"KKrj","url":"Mej7"}],"pXSZ":[function(require,module,exports) {
var process = require("process");
var e=require("process"),r=require("http"),t=require("https"),n=require("url").parse,o=require("stream").PassThrough,a={"http:":r,"https:":t},i={301:!0,302:!0,303:!0,307:!0},s={maxRedirects:2,maxRetries:2,maxReconnects:0,backoff:{inc:100,max:1e4},highWaterMark:null,transform:null,acceptEncoding:null};module.exports=function(r,t,c){"function"==typeof t?(c=t,t={}):t||(t={}),t=Object.assign({},s,t);var u,d,f,m,l,p=new o({highWaterMark:t.highWaterMark}),h=!1,g=0,v=0,b=0,x=!1,E=0,R=0;if(t.headers&&t.headers.Range){var k=/bytes=(\d+)-(\d+)?/.exec(t.headers.Range);k&&(E=parseInt(k[1],10),l=parseInt(k[2],10))}t.acceptEncoding&&(t.headers=Object.assign({"Accept-Encoding":Object.keys(t.acceptEncoding).join(", ")},t.headers));var y=function(e,r){if(h)return!1;if(d&&0<R){if(x&&R<m&&b++<t.maxReconnects){d=null,v=0;var n=Math.min(t.backoff.inc,t.backoff.max);return f=setTimeout(T,n),p.emit("reconnect",b,e),!0}}else if((!r||"ENOTFOUND"===e.message)&&v++<t.maxRetries){var o=Math.min(v*t.backoff.inc,t.backoff.max);return f=setTimeout(T,o),p.emit("retry",v,e),!0}return!1},O=function(e,r){y(e,r)||p.emit("error",e)},T=function(){if(!h){var e=n(r),o=a[e.protocol];if(o){for(var c in Object.assign(e,t),s)delete e[c];if(x&&R>0){var f=R+E,v=l||"";e.headers=Object.assign({},e.headers,{Range:"bytes=".concat(f,"-").concat(v)})}t.transform&&(e=t.transform(e)).protocol&&(o=a[e.protocol]),(u=o.get(e,function(e){if(!0!==i[e.statusCode])if(e.statusCode<200||400<=e.statusCode){var n=Error("Status code: "+e.statusCode);e.statusCode>=500?O(n,e.statusCode):p.emit("error",n)}else{var o=e,a=function(){e.removeListener("data",s),o.removeListener("end",c),o.removeListener("error",u),e.removeListener("error",u)},s=function(e){R+=e.length},c=function(){a(),y()||p.end()},u=function(e){a(),O(e)};if(t.acceptEncoding&&e.headers["content-encoding"])for(var f of e.headers["content-encoding"].split(", ").reverse()){var l=t.acceptEncoding[f];null!=l&&(o=o.pipe(l(o))).on("error",u)}m||(m=parseInt(e.headers["content-length"],10),x="bytes"===e.headers["accept-ranges"]&&m>0&&t.maxReconnects>0),e.on("data",s),o.on("end",c),o.pipe(p,{end:!x}),d=o,p.emit("response",e),e.on("error",u)}else g++>=t.maxRedirects?p.emit("error",Error("Too many redirects")):(r=e.headers.location,p.emit("redirect",r),T())})).on("error",O),p.emit("request",u)}else p.emit("error",Error("Invalid URL: "+r))}};if(p.abort=function(){h=!0,p.emit("abort"),u&&u.abort(),d&&d.unpipe(p),clearTimeout(f)},e.nextTick(T),c){var j="";p.setEncoding("utf8"),p.on("data",function(e){j+=e}),p.on("end",function(){c(null,d,j)}),p.on("error",c)}return c?null:p};
},{"http":"KKrj","https":"wVMl","url":"Mej7","stream":"fnRj","process":"pBGv"}],"3Xng":[function(require,module,exports) {
module.exports={5:{container:"flv",resolution:"240p",encoding:"Sorenson H.283",profile:null,bitrate:"0.25",audioEncoding:"mp3",audioBitrate:64},6:{container:"flv",resolution:"270p",encoding:"Sorenson H.263",profile:null,bitrate:"0.8",audioEncoding:"mp3",audioBitrate:64},13:{container:"3gp",resolution:null,encoding:"MPEG-4 Visual",profile:null,bitrate:"0.5",audioEncoding:"aac",audioBitrate:null},17:{container:"3gp",resolution:"144p",encoding:"MPEG-4 Visual",profile:"simple",bitrate:"0.05",audioEncoding:"aac",audioBitrate:24},18:{container:"mp4",resolution:"360p",encoding:"H.264",profile:"baseline",bitrate:"0.5",audioEncoding:"aac",audioBitrate:96},22:{container:"mp4",resolution:"720p",encoding:"H.264",profile:"high",bitrate:"2-3",audioEncoding:"aac",audioBitrate:192},34:{container:"flv",resolution:"360p",encoding:"H.264",profile:"main",bitrate:"0.5",audioEncoding:"aac",audioBitrate:128},35:{container:"flv",resolution:"480p",encoding:"H.264",profile:"main",bitrate:"0.8-1",audioEncoding:"aac",audioBitrate:128},36:{container:"3gp",resolution:"240p",encoding:"MPEG-4 Visual",profile:"simple",bitrate:"0.175",audioEncoding:"aac",audioBitrate:32},37:{container:"mp4",resolution:"1080p",encoding:"H.264",profile:"high",bitrate:"3-5.9",audioEncoding:"aac",audioBitrate:192},38:{container:"mp4",resolution:"3072p",encoding:"H.264",profile:"high",bitrate:"3.5-5",audioEncoding:"aac",audioBitrate:192},43:{container:"webm",resolution:"360p",encoding:"VP8",profile:null,bitrate:"0.5-0.75",audioEncoding:"vorbis",audioBitrate:128},44:{container:"webm",resolution:"480p",encoding:"VP8",profile:null,bitrate:"1",audioEncoding:"vorbis",audioBitrate:128},45:{container:"webm",resolution:"720p",encoding:"VP8",profile:null,bitrate:"2",audioEncoding:"vorbis",audioBitrate:192},46:{container:"webm",resolution:"1080p",encoding:"vp8",profile:null,bitrate:null,audioEncoding:"vorbis",audioBitrate:192},82:{container:"mp4",resolution:"360p",encoding:"H.264",profile:"3d",bitrate:"0.5",audioEncoding:"aac",audioBitrate:96},83:{container:"mp4",resolution:"240p",encoding:"H.264",profile:"3d",bitrate:"0.5",audioEncoding:"aac",audioBitrate:96},84:{container:"mp4",resolution:"720p",encoding:"H.264",profile:"3d",bitrate:"2-3",audioEncoding:"aac",audioBitrate:192},85:{container:"mp4",resolution:"1080p",encoding:"H.264",profile:"3d",bitrate:"3-4",audioEncoding:"aac",audioBitrate:192},100:{container:"webm",resolution:"360p",encoding:"VP8",profile:"3d",bitrate:null,audioEncoding:"vorbis",audioBitrate:128},101:{container:"webm",resolution:"360p",encoding:"VP8",profile:"3d",bitrate:null,audioEncoding:"vorbis",audioBitrate:192},102:{container:"webm",resolution:"720p",encoding:"VP8",profile:"3d",bitrate:null,audioEncoding:"vorbis",audioBitrate:192},133:{container:"mp4",resolution:"240p",encoding:"H.264",profile:"main",bitrate:"0.2-0.3",audioEncoding:null,audioBitrate:null},134:{container:"mp4",resolution:"360p",encoding:"H.264",profile:"main",bitrate:"0.3-0.4",audioEncoding:null,audioBitrate:null},135:{container:"mp4",resolution:"480p",encoding:"H.264",profile:"main",bitrate:"0.5-1",audioEncoding:null,audioBitrate:null},136:{container:"mp4",resolution:"720p",encoding:"H.264",profile:"main",bitrate:"1-1.5",audioEncoding:null,audioBitrate:null},137:{container:"mp4",resolution:"1080p",encoding:"H.264",profile:"high",bitrate:"2.5-3",audioEncoding:null,audioBitrate:null},138:{container:"mp4",resolution:"4320p",encoding:"H.264",profile:"high",bitrate:"13.5-25",audioEncoding:null,audioBitrate:null},160:{container:"mp4",resolution:"144p",encoding:"H.264",profile:"main",bitrate:"0.1",audioEncoding:null,audioBitrate:null},242:{container:"webm",resolution:"240p",encoding:"VP9",profile:"profile 0",bitrate:"0.1-0.2",audioEncoding:null,audioBitrate:null},243:{container:"webm",resolution:"360p",encoding:"VP9",profile:"profile 0",bitrate:"0.25",audioEncoding:null,audioBitrate:null},244:{container:"webm",resolution:"480p",encoding:"VP9",profile:"profile 0",bitrate:"0.5",audioEncoding:null,audioBitrate:null},247:{container:"webm",resolution:"720p",encoding:"VP9",profile:"profile 0",bitrate:"0.7-0.8",audioEncoding:null,audioBitrate:null},248:{container:"webm",resolution:"1080p",encoding:"VP9",profile:"profile 0",bitrate:"1.5",audioEncoding:null,audioBitrate:null},264:{container:"mp4",resolution:"1440p",encoding:"H.264",profile:"high",bitrate:"4-4.5",audioEncoding:null,audioBitrate:null},266:{container:"mp4",resolution:"2160p",encoding:"H.264",profile:"high",bitrate:"12.5-16",audioEncoding:null,audioBitrate:null},271:{container:"webm",resolution:"1440p",encoding:"VP9",profile:"profile 0",bitrate:"9",audioEncoding:null,audioBitrate:null},272:{container:"webm",resolution:"4320p",encoding:"VP9",profile:"profile 0",bitrate:"20-25",audioEncoding:null,audioBitrate:null},278:{container:"webm",resolution:"144p 15fps",encoding:"VP9",profile:"profile 0",bitrate:"0.08",audioEncoding:null,audioBitrate:null},298:{container:"mp4",resolution:"720p",encoding:"H.264",profile:"main",bitrate:"3-3.5",audioEncoding:null,audioBitrate:null},299:{container:"mp4",resolution:"1080p",encoding:"H.264",profile:"high",bitrate:"5.5",audioEncoding:null,audioBitrate:null},302:{container:"webm",resolution:"720p HFR",encoding:"VP9",profile:"profile 0",bitrate:"2.5",audioEncoding:null,audioBitrate:null},303:{container:"webm",resolution:"1080p HFR",encoding:"VP9",profile:"profile 0",bitrate:"5",audioEncoding:null,audioBitrate:null},308:{container:"webm",resolution:"1440p HFR",encoding:"VP9",profile:"profile 0",bitrate:"10",audioEncoding:null,audioBitrate:null},313:{container:"webm",resolution:"2160p",encoding:"VP9",profile:"profile 0",bitrate:"13-15",audioEncoding:null,audioBitrate:null},315:{container:"webm",resolution:"2160p HFR",encoding:"VP9",profile:"profile 0",bitrate:"20-25",audioEncoding:null,audioBitrate:null},330:{container:"webm",resolution:"144p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"0.08",audioEncoding:null,audioBitrate:null},331:{container:"webm",resolution:"240p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"0.1-0.15",audioEncoding:null,audioBitrate:null},332:{container:"webm",resolution:"360p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"0.25",audioEncoding:null,audioBitrate:null},333:{container:"webm",resolution:"240p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"0.5",audioEncoding:null,audioBitrate:null},334:{container:"webm",resolution:"720p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"1",audioEncoding:null,audioBitrate:null},335:{container:"webm",resolution:"1080p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"1.5-2",audioEncoding:null,audioBitrate:null},336:{container:"webm",resolution:"1440p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"5-7",audioEncoding:null,audioBitrate:null},337:{container:"webm",resolution:"2160p HDR, HFR",encoding:"VP9",profile:"profile 2",bitrate:"12-14",audioEncoding:null,audioBitrate:null},139:{container:"mp4",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"aac",audioBitrate:48},140:{container:"m4a",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"aac",audioBitrate:128},141:{container:"mp4",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"aac",audioBitrate:256},171:{container:"webm",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"vorbis",audioBitrate:128},172:{container:"webm",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"vorbis",audioBitrate:192},249:{container:"webm",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"opus",audioBitrate:48},250:{container:"webm",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"opus",audioBitrate:64},251:{container:"webm",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"opus",audioBitrate:160},91:{container:"ts",resolution:"144p",encoding:"H.264",profile:"main",bitrate:"0.1",audioEncoding:"aac",audioBitrate:48},92:{container:"ts",resolution:"240p",encoding:"H.264",profile:"main",bitrate:"0.15-0.3",audioEncoding:"aac",audioBitrate:48},93:{container:"ts",resolution:"360p",encoding:"H.264",profile:"main",bitrate:"0.5-1",audioEncoding:"aac",audioBitrate:128},94:{container:"ts",resolution:"480p",encoding:"H.264",profile:"main",bitrate:"0.8-1.25",audioEncoding:"aac",audioBitrate:128},95:{container:"ts",resolution:"720p",encoding:"H.264",profile:"main",bitrate:"1.5-3",audioEncoding:"aac",audioBitrate:256},96:{container:"ts",resolution:"1080p",encoding:"H.264",profile:"high",bitrate:"2.5-6",audioEncoding:"aac",audioBitrate:256},120:{container:"flv",resolution:"720p",encoding:"H.264",profile:"Main@L3.1",bitrate:"2",audioEncoding:"aac",audioBitrate:128},127:{container:"ts",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"aac",audioBitrate:96},128:{container:"ts",resolution:null,encoding:null,profile:null,bitrate:null,audioEncoding:"aac",audioBitrate:96},132:{container:"ts",resolution:"240p",encoding:"H.264",profile:"baseline",bitrate:"0.15-0.2",audioEncoding:"aac",audioBitrate:48},151:{container:"ts",resolution:"720p",encoding:"H.264",profile:"baseline",bitrate:"0.05",audioEncoding:"aac",audioBitrate:24}};
},{}],"a8YD":[function(require,module,exports) {
function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var r=require("url"),e=require("./formats"),o={mp3:1,vorbis:2,aac:3,opus:4,flac:5},i={"Sorenson H.283":1,"MPEG-4 Visual":2,VP8:3,VP9:4,"H.264":5};exports.sortFormats=function(t,r){var e=t.resolution?parseInt(t.resolution.slice(0,-1),10):0,n=r.resolution?parseInt(r.resolution.slice(0,-1),10):0,a=2*~~!!e+~~!!t.audioBitrate,u=2*~~!!n+~~!!r.audioBitrate,s=function(t){if(t.bitrate){var r=t.bitrate.split("-");return parseFloat(r[r.length-1],10)}return 0},c=function(t){return(t.audioBitrate||0)+(o[t.audioEncoding]||0)/10};if(a===u){if(e===n){var f=s(t),l=s(r);if(f===l){var d=c(t),p=c(r);if(d===p){var m=i[t.encoding]||0;return(i[r.encoding]||0)-m}return p-d}return l-f}return n-e}return u-a},exports.chooseFormat=function(r,e){if("object"===t(e.format))return e.format;if(e.filter&&0===(r=exports.filterFormats(r,e.filter)).length)return Error("No formats found with custom filter");var o,i=e.quality||"highest",n=function(t){var r=t.bitrate.split("-");return parseFloat(r[r.length-1],10)};switch(i){case"highest":o=r[0];break;case"lowest":o=r[r.length-1];break;case"highestaudio":for(var a of(r=exports.filterFormats(r,"audio"),o=null,r))(!o||a.audioBitrate>o.audioBitrate||a.audioBitrate===o.audioBitrate&&o.encoding&&!a.encoding)&&(o=a);break;case"lowestaudio":for(var u of(r=exports.filterFormats(r,"audio"),o=null,r))(!o||u.audioBitrate<o.audioBitrate||u.audioBitrate===o.audioBitrate&&o.encoding&&!u.encoding)&&(o=u);break;case"highestvideo":for(var s of(r=exports.filterFormats(r,"video"),o=null,r))(!o||n(s)>n(o)||n(s)===n(o)&&o.audioEncoding&&!s.audioEncoding)&&(o=s);break;case"lowestvideo":for(var c of(r=exports.filterFormats(r,"video"),o=null,r))(!o||n(c)<n(o)||n(c)===n(o)&&o.audioEncoding&&!c.audioEncoding)&&(o=c);break;default:var f=function(t){return r.find(function(r){return r.itag===""+t})};Array.isArray(i)?i.find(function(t){return o=f(t)}):o=f(i)}return o||Error("No such format found: "+i)},exports.filterFormats=function(t,r){var e;switch(r){case"audioandvideo":e=function(t){return t.bitrate&&t.audioBitrate};break;case"video":e=function(t){return t.bitrate};break;case"videoonly":e=function(t){return t.bitrate&&!t.audioBitrate};break;case"audio":e=function(t){return t.audioBitrate};break;case"audioonly":e=function(t){return!t.bitrate&&t.audioBitrate};break;default:if("function"!=typeof r)throw TypeError("Given filter (".concat(r,") is not supported"));e=r}return t.filter(e)};var n=function(t,r){return r instanceof RegExp?t.search(r):t.indexOf(r)};exports.between=function(t,r,e){var o=n(t,r);return-1===o?"":(t=t.slice(o+r.length),-1===(o=n(t,e))?"":t=t.slice(0,o))};var a=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),u=new Set(["youtu.be","youtube.com","www.youtube.com"]);exports.getURLVideoID=function(t){var e=r.parse(t,!0),o=e.query.v;if(u.has(e.hostname)&&!o){var i=e.pathname.split("/");o=i[i.length-1]}else if(e.hostname&&!a.has(e.hostname))return Error("Not a YouTube domain");return o?(o=o.substring(0,11),exports.validateID(o)?o:TypeError("Video id (".concat(o,") does not match expected ")+"format (".concat(s.toString(),")"))):Error("No video id found: "+t)},exports.getVideoID=function(t){return exports.validateID(t)?t:exports.getURLVideoID(t)};var s=/^[a-zA-Z0-9-_]{11}$/;exports.validateID=function(t){return s.test(t)},exports.validateURL=function(t){return!(exports.getURLVideoID(t)instanceof Error)},exports.addFormatMeta=function(t){var r=e[t.itag];for(var o in r)t[o]=r[o];t.live=/\/source\/yt_live_broadcast\//.test(t.url),t.isHLS=/\/manifest\/hls_(variant|playlist)\//.test(t.url),t.isDashMPD=/\/manifest\/dash\//.test(t.url)},exports.stripHTML=function(t){return t.replace(/\n/g," ").replace(/\s*<\s*br\s*\/?\s*>\s*/gi,"\n").replace(/<\s*\/\s*p\s*>\s*<\s*p[^>]*>/gi,"\n").replace(/<.*?>/gi,"").trim()},exports.parallel=function(t,r){var e=0,o=!1,i=[],n=t.length;n>0?t.forEach(function(t,a){t(function(t,a,u){if(!o){if(a)return o=!0,void r(a);i[t]=u,++e===n&&r(null,i)}}.bind(null,a))}):r(null,i)};
},{"url":"Mej7","./formats":"3Xng"}],"SA+n":[function(require,module,exports) {
var e={"&lt":"<","&gt":">","&quot":'"',"&apos":"'","&amp":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},n={60:"lt",62:"gt",34:"quot",39:"apos",38:"amp"},t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"};function o(){}o.prototype.encode=function(e){return e&&e.length?e.replace(/<|>|"|'|&/g,function(e){return t[e]}):""},o.encode=function(e){return(new o).encode(e)},o.prototype.decode=function(n){return n&&n.length?n.replace(/&#?[0-9a-zA-Z]+;?/g,function(n){if("#"===n.charAt(1)){var t="x"===n.charAt(2).toLowerCase()?parseInt(n.substr(3),16):parseInt(n.substr(2));return isNaN(t)||t<-32768||t>65535?"":String.fromCharCode(t)}return e[n]||n}):""},o.decode=function(e){return(new o).decode(e)},o.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var t=e.length,o="",r=0;r<t;){var u=e.charCodeAt(r),c=n[u];c?(o+="&"+c+";",r++):(o+=u<32||u>126?"&#"+u+";":e.charAt(r),r++)}return o},o.encodeNonUTF=function(e){return(new o).encodeNonUTF(e)},o.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var n=e.length,t="",o=0;o<n;){var r=e.charCodeAt(o);r<=255?t+=e[o++]:(t+="&#"+r+";",o++)}return t},o.encodeNonASCII=function(e){return(new o).encodeNonASCII(e)},module.exports=o;
},{}],"/w5r":[function(require,module,exports) {
for(var e=["apos","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","Aelig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","quot","amp","lt","gt","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams"],r=[39,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,34,38,60,62,338,339,352,353,376,710,732,8194,8195,8201,8204,8205,8206,8207,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8240,8249,8250,8364,402,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,977,978,982,8226,8230,8242,8243,8254,8260,8472,8465,8476,8482,8501,8592,8593,8594,8595,8596,8629,8656,8657,8658,8659,8660,8704,8706,8707,8709,8711,8712,8713,8715,8719,8721,8722,8727,8730,8733,8734,8736,8743,8744,8745,8746,8747,8756,8764,8773,8776,8800,8801,8804,8805,8834,8835,8836,8838,8839,8853,8855,8869,8901,8968,8969,8970,8971,9001,9002,9674,9824,9827,9829,9830],a={},t={},o=0,n=e.length;o<n;){var i=e[o],u=r[o];a[i]=String.fromCharCode(u),t[u]=i,o++}function c(){}c.prototype.decode=function(e){return e&&e.length?e.replace(/&(#?[\w\d]+);?/g,function(e,r){var t;if("#"===r.charAt(0)){var o="x"===r.charAt(1).toLowerCase()?parseInt(r.substr(2),16):parseInt(r.substr(1));isNaN(o)||o<-32768||o>65535||(t=String.fromCharCode(o))}else t=a[r];return t||e}):""},c.decode=function(e){return(new c).decode(e)},c.prototype.encode=function(e){if(!e||!e.length)return"";for(var r=e.length,a="",o=0;o<r;){var n=t[e.charCodeAt(o)];a+=n?"&"+n+";":e.charAt(o),o++}return a},c.encode=function(e){return(new c).encode(e)},c.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var r=e.length,a="",o=0;o<r;){var n=e.charCodeAt(o),i=t[n];a+=i?"&"+i+";":n<32||n>126?"&#"+n+";":e.charAt(o),o++}return a},c.encodeNonUTF=function(e){return(new c).encodeNonUTF(e)},c.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var r=e.length,a="",t=0;t<r;){var o=e.charCodeAt(t);o<=255?a+=e[t++]:(a+="&#"+o+";",t++)}return a},c.encodeNonASCII=function(e){return(new c).encodeNonASCII(e)},module.exports=c;
},{}],"Sk7D":[function(require,module,exports) {
var r=[["Aacute",[193]],["aacute",[225]],["Abreve",[258]],["abreve",[259]],["ac",[8766]],["acd",[8767]],["acE",[8766,819]],["Acirc",[194]],["acirc",[226]],["acute",[180]],["Acy",[1040]],["acy",[1072]],["AElig",[198]],["aelig",[230]],["af",[8289]],["Afr",[120068]],["afr",[120094]],["Agrave",[192]],["agrave",[224]],["alefsym",[8501]],["aleph",[8501]],["Alpha",[913]],["alpha",[945]],["Amacr",[256]],["amacr",[257]],["amalg",[10815]],["amp",[38]],["AMP",[38]],["andand",[10837]],["And",[10835]],["and",[8743]],["andd",[10844]],["andslope",[10840]],["andv",[10842]],["ang",[8736]],["ange",[10660]],["angle",[8736]],["angmsdaa",[10664]],["angmsdab",[10665]],["angmsdac",[10666]],["angmsdad",[10667]],["angmsdae",[10668]],["angmsdaf",[10669]],["angmsdag",[10670]],["angmsdah",[10671]],["angmsd",[8737]],["angrt",[8735]],["angrtvb",[8894]],["angrtvbd",[10653]],["angsph",[8738]],["angst",[197]],["angzarr",[9084]],["Aogon",[260]],["aogon",[261]],["Aopf",[120120]],["aopf",[120146]],["apacir",[10863]],["ap",[8776]],["apE",[10864]],["ape",[8778]],["apid",[8779]],["apos",[39]],["ApplyFunction",[8289]],["approx",[8776]],["approxeq",[8778]],["Aring",[197]],["aring",[229]],["Ascr",[119964]],["ascr",[119990]],["Assign",[8788]],["ast",[42]],["asymp",[8776]],["asympeq",[8781]],["Atilde",[195]],["atilde",[227]],["Auml",[196]],["auml",[228]],["awconint",[8755]],["awint",[10769]],["backcong",[8780]],["backepsilon",[1014]],["backprime",[8245]],["backsim",[8765]],["backsimeq",[8909]],["Backslash",[8726]],["Barv",[10983]],["barvee",[8893]],["barwed",[8965]],["Barwed",[8966]],["barwedge",[8965]],["bbrk",[9141]],["bbrktbrk",[9142]],["bcong",[8780]],["Bcy",[1041]],["bcy",[1073]],["bdquo",[8222]],["becaus",[8757]],["because",[8757]],["Because",[8757]],["bemptyv",[10672]],["bepsi",[1014]],["bernou",[8492]],["Bernoullis",[8492]],["Beta",[914]],["beta",[946]],["beth",[8502]],["between",[8812]],["Bfr",[120069]],["bfr",[120095]],["bigcap",[8898]],["bigcirc",[9711]],["bigcup",[8899]],["bigodot",[10752]],["bigoplus",[10753]],["bigotimes",[10754]],["bigsqcup",[10758]],["bigstar",[9733]],["bigtriangledown",[9661]],["bigtriangleup",[9651]],["biguplus",[10756]],["bigvee",[8897]],["bigwedge",[8896]],["bkarow",[10509]],["blacklozenge",[10731]],["blacksquare",[9642]],["blacktriangle",[9652]],["blacktriangledown",[9662]],["blacktriangleleft",[9666]],["blacktriangleright",[9656]],["blank",[9251]],["blk12",[9618]],["blk14",[9617]],["blk34",[9619]],["block",[9608]],["bne",[61,8421]],["bnequiv",[8801,8421]],["bNot",[10989]],["bnot",[8976]],["Bopf",[120121]],["bopf",[120147]],["bot",[8869]],["bottom",[8869]],["bowtie",[8904]],["boxbox",[10697]],["boxdl",[9488]],["boxdL",[9557]],["boxDl",[9558]],["boxDL",[9559]],["boxdr",[9484]],["boxdR",[9554]],["boxDr",[9555]],["boxDR",[9556]],["boxh",[9472]],["boxH",[9552]],["boxhd",[9516]],["boxHd",[9572]],["boxhD",[9573]],["boxHD",[9574]],["boxhu",[9524]],["boxHu",[9575]],["boxhU",[9576]],["boxHU",[9577]],["boxminus",[8863]],["boxplus",[8862]],["boxtimes",[8864]],["boxul",[9496]],["boxuL",[9563]],["boxUl",[9564]],["boxUL",[9565]],["boxur",[9492]],["boxuR",[9560]],["boxUr",[9561]],["boxUR",[9562]],["boxv",[9474]],["boxV",[9553]],["boxvh",[9532]],["boxvH",[9578]],["boxVh",[9579]],["boxVH",[9580]],["boxvl",[9508]],["boxvL",[9569]],["boxVl",[9570]],["boxVL",[9571]],["boxvr",[9500]],["boxvR",[9566]],["boxVr",[9567]],["boxVR",[9568]],["bprime",[8245]],["breve",[728]],["Breve",[728]],["brvbar",[166]],["bscr",[119991]],["Bscr",[8492]],["bsemi",[8271]],["bsim",[8765]],["bsime",[8909]],["bsolb",[10693]],["bsol",[92]],["bsolhsub",[10184]],["bull",[8226]],["bullet",[8226]],["bump",[8782]],["bumpE",[10926]],["bumpe",[8783]],["Bumpeq",[8782]],["bumpeq",[8783]],["Cacute",[262]],["cacute",[263]],["capand",[10820]],["capbrcup",[10825]],["capcap",[10827]],["cap",[8745]],["Cap",[8914]],["capcup",[10823]],["capdot",[10816]],["CapitalDifferentialD",[8517]],["caps",[8745,65024]],["caret",[8257]],["caron",[711]],["Cayleys",[8493]],["ccaps",[10829]],["Ccaron",[268]],["ccaron",[269]],["Ccedil",[199]],["ccedil",[231]],["Ccirc",[264]],["ccirc",[265]],["Cconint",[8752]],["ccups",[10828]],["ccupssm",[10832]],["Cdot",[266]],["cdot",[267]],["cedil",[184]],["Cedilla",[184]],["cemptyv",[10674]],["cent",[162]],["centerdot",[183]],["CenterDot",[183]],["cfr",[120096]],["Cfr",[8493]],["CHcy",[1063]],["chcy",[1095]],["check",[10003]],["checkmark",[10003]],["Chi",[935]],["chi",[967]],["circ",[710]],["circeq",[8791]],["circlearrowleft",[8634]],["circlearrowright",[8635]],["circledast",[8859]],["circledcirc",[8858]],["circleddash",[8861]],["CircleDot",[8857]],["circledR",[174]],["circledS",[9416]],["CircleMinus",[8854]],["CirclePlus",[8853]],["CircleTimes",[8855]],["cir",[9675]],["cirE",[10691]],["cire",[8791]],["cirfnint",[10768]],["cirmid",[10991]],["cirscir",[10690]],["ClockwiseContourIntegral",[8754]],["clubs",[9827]],["clubsuit",[9827]],["colon",[58]],["Colon",[8759]],["Colone",[10868]],["colone",[8788]],["coloneq",[8788]],["comma",[44]],["commat",[64]],["comp",[8705]],["compfn",[8728]],["complement",[8705]],["complexes",[8450]],["cong",[8773]],["congdot",[10861]],["Congruent",[8801]],["conint",[8750]],["Conint",[8751]],["ContourIntegral",[8750]],["copf",[120148]],["Copf",[8450]],["coprod",[8720]],["Coproduct",[8720]],["copy",[169]],["COPY",[169]],["copysr",[8471]],["CounterClockwiseContourIntegral",[8755]],["crarr",[8629]],["cross",[10007]],["Cross",[10799]],["Cscr",[119966]],["cscr",[119992]],["csub",[10959]],["csube",[10961]],["csup",[10960]],["csupe",[10962]],["ctdot",[8943]],["cudarrl",[10552]],["cudarrr",[10549]],["cuepr",[8926]],["cuesc",[8927]],["cularr",[8630]],["cularrp",[10557]],["cupbrcap",[10824]],["cupcap",[10822]],["CupCap",[8781]],["cup",[8746]],["Cup",[8915]],["cupcup",[10826]],["cupdot",[8845]],["cupor",[10821]],["cups",[8746,65024]],["curarr",[8631]],["curarrm",[10556]],["curlyeqprec",[8926]],["curlyeqsucc",[8927]],["curlyvee",[8910]],["curlywedge",[8911]],["curren",[164]],["curvearrowleft",[8630]],["curvearrowright",[8631]],["cuvee",[8910]],["cuwed",[8911]],["cwconint",[8754]],["cwint",[8753]],["cylcty",[9005]],["dagger",[8224]],["Dagger",[8225]],["daleth",[8504]],["darr",[8595]],["Darr",[8609]],["dArr",[8659]],["dash",[8208]],["Dashv",[10980]],["dashv",[8867]],["dbkarow",[10511]],["dblac",[733]],["Dcaron",[270]],["dcaron",[271]],["Dcy",[1044]],["dcy",[1076]],["ddagger",[8225]],["ddarr",[8650]],["DD",[8517]],["dd",[8518]],["DDotrahd",[10513]],["ddotseq",[10871]],["deg",[176]],["Del",[8711]],["Delta",[916]],["delta",[948]],["demptyv",[10673]],["dfisht",[10623]],["Dfr",[120071]],["dfr",[120097]],["dHar",[10597]],["dharl",[8643]],["dharr",[8642]],["DiacriticalAcute",[180]],["DiacriticalDot",[729]],["DiacriticalDoubleAcute",[733]],["DiacriticalGrave",[96]],["DiacriticalTilde",[732]],["diam",[8900]],["diamond",[8900]],["Diamond",[8900]],["diamondsuit",[9830]],["diams",[9830]],["die",[168]],["DifferentialD",[8518]],["digamma",[989]],["disin",[8946]],["div",[247]],["divide",[247]],["divideontimes",[8903]],["divonx",[8903]],["DJcy",[1026]],["djcy",[1106]],["dlcorn",[8990]],["dlcrop",[8973]],["dollar",[36]],["Dopf",[120123]],["dopf",[120149]],["Dot",[168]],["dot",[729]],["DotDot",[8412]],["doteq",[8784]],["doteqdot",[8785]],["DotEqual",[8784]],["dotminus",[8760]],["dotplus",[8724]],["dotsquare",[8865]],["doublebarwedge",[8966]],["DoubleContourIntegral",[8751]],["DoubleDot",[168]],["DoubleDownArrow",[8659]],["DoubleLeftArrow",[8656]],["DoubleLeftRightArrow",[8660]],["DoubleLeftTee",[10980]],["DoubleLongLeftArrow",[10232]],["DoubleLongLeftRightArrow",[10234]],["DoubleLongRightArrow",[10233]],["DoubleRightArrow",[8658]],["DoubleRightTee",[8872]],["DoubleUpArrow",[8657]],["DoubleUpDownArrow",[8661]],["DoubleVerticalBar",[8741]],["DownArrowBar",[10515]],["downarrow",[8595]],["DownArrow",[8595]],["Downarrow",[8659]],["DownArrowUpArrow",[8693]],["DownBreve",[785]],["downdownarrows",[8650]],["downharpoonleft",[8643]],["downharpoonright",[8642]],["DownLeftRightVector",[10576]],["DownLeftTeeVector",[10590]],["DownLeftVectorBar",[10582]],["DownLeftVector",[8637]],["DownRightTeeVector",[10591]],["DownRightVectorBar",[10583]],["DownRightVector",[8641]],["DownTeeArrow",[8615]],["DownTee",[8868]],["drbkarow",[10512]],["drcorn",[8991]],["drcrop",[8972]],["Dscr",[119967]],["dscr",[119993]],["DScy",[1029]],["dscy",[1109]],["dsol",[10742]],["Dstrok",[272]],["dstrok",[273]],["dtdot",[8945]],["dtri",[9663]],["dtrif",[9662]],["duarr",[8693]],["duhar",[10607]],["dwangle",[10662]],["DZcy",[1039]],["dzcy",[1119]],["dzigrarr",[10239]],["Eacute",[201]],["eacute",[233]],["easter",[10862]],["Ecaron",[282]],["ecaron",[283]],["Ecirc",[202]],["ecirc",[234]],["ecir",[8790]],["ecolon",[8789]],["Ecy",[1069]],["ecy",[1101]],["eDDot",[10871]],["Edot",[278]],["edot",[279]],["eDot",[8785]],["ee",[8519]],["efDot",[8786]],["Efr",[120072]],["efr",[120098]],["eg",[10906]],["Egrave",[200]],["egrave",[232]],["egs",[10902]],["egsdot",[10904]],["el",[10905]],["Element",[8712]],["elinters",[9191]],["ell",[8467]],["els",[10901]],["elsdot",[10903]],["Emacr",[274]],["emacr",[275]],["empty",[8709]],["emptyset",[8709]],["EmptySmallSquare",[9723]],["emptyv",[8709]],["EmptyVerySmallSquare",[9643]],["emsp13",[8196]],["emsp14",[8197]],["emsp",[8195]],["ENG",[330]],["eng",[331]],["ensp",[8194]],["Eogon",[280]],["eogon",[281]],["Eopf",[120124]],["eopf",[120150]],["epar",[8917]],["eparsl",[10723]],["eplus",[10865]],["epsi",[949]],["Epsilon",[917]],["epsilon",[949]],["epsiv",[1013]],["eqcirc",[8790]],["eqcolon",[8789]],["eqsim",[8770]],["eqslantgtr",[10902]],["eqslantless",[10901]],["Equal",[10869]],["equals",[61]],["EqualTilde",[8770]],["equest",[8799]],["Equilibrium",[8652]],["equiv",[8801]],["equivDD",[10872]],["eqvparsl",[10725]],["erarr",[10609]],["erDot",[8787]],["escr",[8495]],["Escr",[8496]],["esdot",[8784]],["Esim",[10867]],["esim",[8770]],["Eta",[919]],["eta",[951]],["ETH",[208]],["eth",[240]],["Euml",[203]],["euml",[235]],["euro",[8364]],["excl",[33]],["exist",[8707]],["Exists",[8707]],["expectation",[8496]],["exponentiale",[8519]],["ExponentialE",[8519]],["fallingdotseq",[8786]],["Fcy",[1060]],["fcy",[1092]],["female",[9792]],["ffilig",[64259]],["fflig",[64256]],["ffllig",[64260]],["Ffr",[120073]],["ffr",[120099]],["filig",[64257]],["FilledSmallSquare",[9724]],["FilledVerySmallSquare",[9642]],["fjlig",[102,106]],["flat",[9837]],["fllig",[64258]],["fltns",[9649]],["fnof",[402]],["Fopf",[120125]],["fopf",[120151]],["forall",[8704]],["ForAll",[8704]],["fork",[8916]],["forkv",[10969]],["Fouriertrf",[8497]],["fpartint",[10765]],["frac12",[189]],["frac13",[8531]],["frac14",[188]],["frac15",[8533]],["frac16",[8537]],["frac18",[8539]],["frac23",[8532]],["frac25",[8534]],["frac34",[190]],["frac35",[8535]],["frac38",[8540]],["frac45",[8536]],["frac56",[8538]],["frac58",[8541]],["frac78",[8542]],["frasl",[8260]],["frown",[8994]],["fscr",[119995]],["Fscr",[8497]],["gacute",[501]],["Gamma",[915]],["gamma",[947]],["Gammad",[988]],["gammad",[989]],["gap",[10886]],["Gbreve",[286]],["gbreve",[287]],["Gcedil",[290]],["Gcirc",[284]],["gcirc",[285]],["Gcy",[1043]],["gcy",[1075]],["Gdot",[288]],["gdot",[289]],["ge",[8805]],["gE",[8807]],["gEl",[10892]],["gel",[8923]],["geq",[8805]],["geqq",[8807]],["geqslant",[10878]],["gescc",[10921]],["ges",[10878]],["gesdot",[10880]],["gesdoto",[10882]],["gesdotol",[10884]],["gesl",[8923,65024]],["gesles",[10900]],["Gfr",[120074]],["gfr",[120100]],["gg",[8811]],["Gg",[8921]],["ggg",[8921]],["gimel",[8503]],["GJcy",[1027]],["gjcy",[1107]],["gla",[10917]],["gl",[8823]],["glE",[10898]],["glj",[10916]],["gnap",[10890]],["gnapprox",[10890]],["gne",[10888]],["gnE",[8809]],["gneq",[10888]],["gneqq",[8809]],["gnsim",[8935]],["Gopf",[120126]],["gopf",[120152]],["grave",[96]],["GreaterEqual",[8805]],["GreaterEqualLess",[8923]],["GreaterFullEqual",[8807]],["GreaterGreater",[10914]],["GreaterLess",[8823]],["GreaterSlantEqual",[10878]],["GreaterTilde",[8819]],["Gscr",[119970]],["gscr",[8458]],["gsim",[8819]],["gsime",[10894]],["gsiml",[10896]],["gtcc",[10919]],["gtcir",[10874]],["gt",[62]],["GT",[62]],["Gt",[8811]],["gtdot",[8919]],["gtlPar",[10645]],["gtquest",[10876]],["gtrapprox",[10886]],["gtrarr",[10616]],["gtrdot",[8919]],["gtreqless",[8923]],["gtreqqless",[10892]],["gtrless",[8823]],["gtrsim",[8819]],["gvertneqq",[8809,65024]],["gvnE",[8809,65024]],["Hacek",[711]],["hairsp",[8202]],["half",[189]],["hamilt",[8459]],["HARDcy",[1066]],["hardcy",[1098]],["harrcir",[10568]],["harr",[8596]],["hArr",[8660]],["harrw",[8621]],["Hat",[94]],["hbar",[8463]],["Hcirc",[292]],["hcirc",[293]],["hearts",[9829]],["heartsuit",[9829]],["hellip",[8230]],["hercon",[8889]],["hfr",[120101]],["Hfr",[8460]],["HilbertSpace",[8459]],["hksearow",[10533]],["hkswarow",[10534]],["hoarr",[8703]],["homtht",[8763]],["hookleftarrow",[8617]],["hookrightarrow",[8618]],["hopf",[120153]],["Hopf",[8461]],["horbar",[8213]],["HorizontalLine",[9472]],["hscr",[119997]],["Hscr",[8459]],["hslash",[8463]],["Hstrok",[294]],["hstrok",[295]],["HumpDownHump",[8782]],["HumpEqual",[8783]],["hybull",[8259]],["hyphen",[8208]],["Iacute",[205]],["iacute",[237]],["ic",[8291]],["Icirc",[206]],["icirc",[238]],["Icy",[1048]],["icy",[1080]],["Idot",[304]],["IEcy",[1045]],["iecy",[1077]],["iexcl",[161]],["iff",[8660]],["ifr",[120102]],["Ifr",[8465]],["Igrave",[204]],["igrave",[236]],["ii",[8520]],["iiiint",[10764]],["iiint",[8749]],["iinfin",[10716]],["iiota",[8489]],["IJlig",[306]],["ijlig",[307]],["Imacr",[298]],["imacr",[299]],["image",[8465]],["ImaginaryI",[8520]],["imagline",[8464]],["imagpart",[8465]],["imath",[305]],["Im",[8465]],["imof",[8887]],["imped",[437]],["Implies",[8658]],["incare",[8453]],["in",[8712]],["infin",[8734]],["infintie",[10717]],["inodot",[305]],["intcal",[8890]],["int",[8747]],["Int",[8748]],["integers",[8484]],["Integral",[8747]],["intercal",[8890]],["Intersection",[8898]],["intlarhk",[10775]],["intprod",[10812]],["InvisibleComma",[8291]],["InvisibleTimes",[8290]],["IOcy",[1025]],["iocy",[1105]],["Iogon",[302]],["iogon",[303]],["Iopf",[120128]],["iopf",[120154]],["Iota",[921]],["iota",[953]],["iprod",[10812]],["iquest",[191]],["iscr",[119998]],["Iscr",[8464]],["isin",[8712]],["isindot",[8949]],["isinE",[8953]],["isins",[8948]],["isinsv",[8947]],["isinv",[8712]],["it",[8290]],["Itilde",[296]],["itilde",[297]],["Iukcy",[1030]],["iukcy",[1110]],["Iuml",[207]],["iuml",[239]],["Jcirc",[308]],["jcirc",[309]],["Jcy",[1049]],["jcy",[1081]],["Jfr",[120077]],["jfr",[120103]],["jmath",[567]],["Jopf",[120129]],["jopf",[120155]],["Jscr",[119973]],["jscr",[119999]],["Jsercy",[1032]],["jsercy",[1112]],["Jukcy",[1028]],["jukcy",[1108]],["Kappa",[922]],["kappa",[954]],["kappav",[1008]],["Kcedil",[310]],["kcedil",[311]],["Kcy",[1050]],["kcy",[1082]],["Kfr",[120078]],["kfr",[120104]],["kgreen",[312]],["KHcy",[1061]],["khcy",[1093]],["KJcy",[1036]],["kjcy",[1116]],["Kopf",[120130]],["kopf",[120156]],["Kscr",[119974]],["kscr",[12e4]],["lAarr",[8666]],["Lacute",[313]],["lacute",[314]],["laemptyv",[10676]],["lagran",[8466]],["Lambda",[923]],["lambda",[955]],["lang",[10216]],["Lang",[10218]],["langd",[10641]],["langle",[10216]],["lap",[10885]],["Laplacetrf",[8466]],["laquo",[171]],["larrb",[8676]],["larrbfs",[10527]],["larr",[8592]],["Larr",[8606]],["lArr",[8656]],["larrfs",[10525]],["larrhk",[8617]],["larrlp",[8619]],["larrpl",[10553]],["larrsim",[10611]],["larrtl",[8610]],["latail",[10521]],["lAtail",[10523]],["lat",[10923]],["late",[10925]],["lates",[10925,65024]],["lbarr",[10508]],["lBarr",[10510]],["lbbrk",[10098]],["lbrace",[123]],["lbrack",[91]],["lbrke",[10635]],["lbrksld",[10639]],["lbrkslu",[10637]],["Lcaron",[317]],["lcaron",[318]],["Lcedil",[315]],["lcedil",[316]],["lceil",[8968]],["lcub",[123]],["Lcy",[1051]],["lcy",[1083]],["ldca",[10550]],["ldquo",[8220]],["ldquor",[8222]],["ldrdhar",[10599]],["ldrushar",[10571]],["ldsh",[8626]],["le",[8804]],["lE",[8806]],["LeftAngleBracket",[10216]],["LeftArrowBar",[8676]],["leftarrow",[8592]],["LeftArrow",[8592]],["Leftarrow",[8656]],["LeftArrowRightArrow",[8646]],["leftarrowtail",[8610]],["LeftCeiling",[8968]],["LeftDoubleBracket",[10214]],["LeftDownTeeVector",[10593]],["LeftDownVectorBar",[10585]],["LeftDownVector",[8643]],["LeftFloor",[8970]],["leftharpoondown",[8637]],["leftharpoonup",[8636]],["leftleftarrows",[8647]],["leftrightarrow",[8596]],["LeftRightArrow",[8596]],["Leftrightarrow",[8660]],["leftrightarrows",[8646]],["leftrightharpoons",[8651]],["leftrightsquigarrow",[8621]],["LeftRightVector",[10574]],["LeftTeeArrow",[8612]],["LeftTee",[8867]],["LeftTeeVector",[10586]],["leftthreetimes",[8907]],["LeftTriangleBar",[10703]],["LeftTriangle",[8882]],["LeftTriangleEqual",[8884]],["LeftUpDownVector",[10577]],["LeftUpTeeVector",[10592]],["LeftUpVectorBar",[10584]],["LeftUpVector",[8639]],["LeftVectorBar",[10578]],["LeftVector",[8636]],["lEg",[10891]],["leg",[8922]],["leq",[8804]],["leqq",[8806]],["leqslant",[10877]],["lescc",[10920]],["les",[10877]],["lesdot",[10879]],["lesdoto",[10881]],["lesdotor",[10883]],["lesg",[8922,65024]],["lesges",[10899]],["lessapprox",[10885]],["lessdot",[8918]],["lesseqgtr",[8922]],["lesseqqgtr",[10891]],["LessEqualGreater",[8922]],["LessFullEqual",[8806]],["LessGreater",[8822]],["lessgtr",[8822]],["LessLess",[10913]],["lesssim",[8818]],["LessSlantEqual",[10877]],["LessTilde",[8818]],["lfisht",[10620]],["lfloor",[8970]],["Lfr",[120079]],["lfr",[120105]],["lg",[8822]],["lgE",[10897]],["lHar",[10594]],["lhard",[8637]],["lharu",[8636]],["lharul",[10602]],["lhblk",[9604]],["LJcy",[1033]],["ljcy",[1113]],["llarr",[8647]],["ll",[8810]],["Ll",[8920]],["llcorner",[8990]],["Lleftarrow",[8666]],["llhard",[10603]],["lltri",[9722]],["Lmidot",[319]],["lmidot",[320]],["lmoustache",[9136]],["lmoust",[9136]],["lnap",[10889]],["lnapprox",[10889]],["lne",[10887]],["lnE",[8808]],["lneq",[10887]],["lneqq",[8808]],["lnsim",[8934]],["loang",[10220]],["loarr",[8701]],["lobrk",[10214]],["longleftarrow",[10229]],["LongLeftArrow",[10229]],["Longleftarrow",[10232]],["longleftrightarrow",[10231]],["LongLeftRightArrow",[10231]],["Longleftrightarrow",[10234]],["longmapsto",[10236]],["longrightarrow",[10230]],["LongRightArrow",[10230]],["Longrightarrow",[10233]],["looparrowleft",[8619]],["looparrowright",[8620]],["lopar",[10629]],["Lopf",[120131]],["lopf",[120157]],["loplus",[10797]],["lotimes",[10804]],["lowast",[8727]],["lowbar",[95]],["LowerLeftArrow",[8601]],["LowerRightArrow",[8600]],["loz",[9674]],["lozenge",[9674]],["lozf",[10731]],["lpar",[40]],["lparlt",[10643]],["lrarr",[8646]],["lrcorner",[8991]],["lrhar",[8651]],["lrhard",[10605]],["lrm",[8206]],["lrtri",[8895]],["lsaquo",[8249]],["lscr",[120001]],["Lscr",[8466]],["lsh",[8624]],["Lsh",[8624]],["lsim",[8818]],["lsime",[10893]],["lsimg",[10895]],["lsqb",[91]],["lsquo",[8216]],["lsquor",[8218]],["Lstrok",[321]],["lstrok",[322]],["ltcc",[10918]],["ltcir",[10873]],["lt",[60]],["LT",[60]],["Lt",[8810]],["ltdot",[8918]],["lthree",[8907]],["ltimes",[8905]],["ltlarr",[10614]],["ltquest",[10875]],["ltri",[9667]],["ltrie",[8884]],["ltrif",[9666]],["ltrPar",[10646]],["lurdshar",[10570]],["luruhar",[10598]],["lvertneqq",[8808,65024]],["lvnE",[8808,65024]],["macr",[175]],["male",[9794]],["malt",[10016]],["maltese",[10016]],["Map",[10501]],["map",[8614]],["mapsto",[8614]],["mapstodown",[8615]],["mapstoleft",[8612]],["mapstoup",[8613]],["marker",[9646]],["mcomma",[10793]],["Mcy",[1052]],["mcy",[1084]],["mdash",[8212]],["mDDot",[8762]],["measuredangle",[8737]],["MediumSpace",[8287]],["Mellintrf",[8499]],["Mfr",[120080]],["mfr",[120106]],["mho",[8487]],["micro",[181]],["midast",[42]],["midcir",[10992]],["mid",[8739]],["middot",[183]],["minusb",[8863]],["minus",[8722]],["minusd",[8760]],["minusdu",[10794]],["MinusPlus",[8723]],["mlcp",[10971]],["mldr",[8230]],["mnplus",[8723]],["models",[8871]],["Mopf",[120132]],["mopf",[120158]],["mp",[8723]],["mscr",[120002]],["Mscr",[8499]],["mstpos",[8766]],["Mu",[924]],["mu",[956]],["multimap",[8888]],["mumap",[8888]],["nabla",[8711]],["Nacute",[323]],["nacute",[324]],["nang",[8736,8402]],["nap",[8777]],["napE",[10864,824]],["napid",[8779,824]],["napos",[329]],["napprox",[8777]],["natural",[9838]],["naturals",[8469]],["natur",[9838]],["nbsp",[160]],["nbump",[8782,824]],["nbumpe",[8783,824]],["ncap",[10819]],["Ncaron",[327]],["ncaron",[328]],["Ncedil",[325]],["ncedil",[326]],["ncong",[8775]],["ncongdot",[10861,824]],["ncup",[10818]],["Ncy",[1053]],["ncy",[1085]],["ndash",[8211]],["nearhk",[10532]],["nearr",[8599]],["neArr",[8663]],["nearrow",[8599]],["ne",[8800]],["nedot",[8784,824]],["NegativeMediumSpace",[8203]],["NegativeThickSpace",[8203]],["NegativeThinSpace",[8203]],["NegativeVeryThinSpace",[8203]],["nequiv",[8802]],["nesear",[10536]],["nesim",[8770,824]],["NestedGreaterGreater",[8811]],["NestedLessLess",[8810]],["nexist",[8708]],["nexists",[8708]],["Nfr",[120081]],["nfr",[120107]],["ngE",[8807,824]],["nge",[8817]],["ngeq",[8817]],["ngeqq",[8807,824]],["ngeqslant",[10878,824]],["nges",[10878,824]],["nGg",[8921,824]],["ngsim",[8821]],["nGt",[8811,8402]],["ngt",[8815]],["ngtr",[8815]],["nGtv",[8811,824]],["nharr",[8622]],["nhArr",[8654]],["nhpar",[10994]],["ni",[8715]],["nis",[8956]],["nisd",[8954]],["niv",[8715]],["NJcy",[1034]],["njcy",[1114]],["nlarr",[8602]],["nlArr",[8653]],["nldr",[8229]],["nlE",[8806,824]],["nle",[8816]],["nleftarrow",[8602]],["nLeftarrow",[8653]],["nleftrightarrow",[8622]],["nLeftrightarrow",[8654]],["nleq",[8816]],["nleqq",[8806,824]],["nleqslant",[10877,824]],["nles",[10877,824]],["nless",[8814]],["nLl",[8920,824]],["nlsim",[8820]],["nLt",[8810,8402]],["nlt",[8814]],["nltri",[8938]],["nltrie",[8940]],["nLtv",[8810,824]],["nmid",[8740]],["NoBreak",[8288]],["NonBreakingSpace",[160]],["nopf",[120159]],["Nopf",[8469]],["Not",[10988]],["not",[172]],["NotCongruent",[8802]],["NotCupCap",[8813]],["NotDoubleVerticalBar",[8742]],["NotElement",[8713]],["NotEqual",[8800]],["NotEqualTilde",[8770,824]],["NotExists",[8708]],["NotGreater",[8815]],["NotGreaterEqual",[8817]],["NotGreaterFullEqual",[8807,824]],["NotGreaterGreater",[8811,824]],["NotGreaterLess",[8825]],["NotGreaterSlantEqual",[10878,824]],["NotGreaterTilde",[8821]],["NotHumpDownHump",[8782,824]],["NotHumpEqual",[8783,824]],["notin",[8713]],["notindot",[8949,824]],["notinE",[8953,824]],["notinva",[8713]],["notinvb",[8951]],["notinvc",[8950]],["NotLeftTriangleBar",[10703,824]],["NotLeftTriangle",[8938]],["NotLeftTriangleEqual",[8940]],["NotLess",[8814]],["NotLessEqual",[8816]],["NotLessGreater",[8824]],["NotLessLess",[8810,824]],["NotLessSlantEqual",[10877,824]],["NotLessTilde",[8820]],["NotNestedGreaterGreater",[10914,824]],["NotNestedLessLess",[10913,824]],["notni",[8716]],["notniva",[8716]],["notnivb",[8958]],["notnivc",[8957]],["NotPrecedes",[8832]],["NotPrecedesEqual",[10927,824]],["NotPrecedesSlantEqual",[8928]],["NotReverseElement",[8716]],["NotRightTriangleBar",[10704,824]],["NotRightTriangle",[8939]],["NotRightTriangleEqual",[8941]],["NotSquareSubset",[8847,824]],["NotSquareSubsetEqual",[8930]],["NotSquareSuperset",[8848,824]],["NotSquareSupersetEqual",[8931]],["NotSubset",[8834,8402]],["NotSubsetEqual",[8840]],["NotSucceeds",[8833]],["NotSucceedsEqual",[10928,824]],["NotSucceedsSlantEqual",[8929]],["NotSucceedsTilde",[8831,824]],["NotSuperset",[8835,8402]],["NotSupersetEqual",[8841]],["NotTilde",[8769]],["NotTildeEqual",[8772]],["NotTildeFullEqual",[8775]],["NotTildeTilde",[8777]],["NotVerticalBar",[8740]],["nparallel",[8742]],["npar",[8742]],["nparsl",[11005,8421]],["npart",[8706,824]],["npolint",[10772]],["npr",[8832]],["nprcue",[8928]],["nprec",[8832]],["npreceq",[10927,824]],["npre",[10927,824]],["nrarrc",[10547,824]],["nrarr",[8603]],["nrArr",[8655]],["nrarrw",[8605,824]],["nrightarrow",[8603]],["nRightarrow",[8655]],["nrtri",[8939]],["nrtrie",[8941]],["nsc",[8833]],["nsccue",[8929]],["nsce",[10928,824]],["Nscr",[119977]],["nscr",[120003]],["nshortmid",[8740]],["nshortparallel",[8742]],["nsim",[8769]],["nsime",[8772]],["nsimeq",[8772]],["nsmid",[8740]],["nspar",[8742]],["nsqsube",[8930]],["nsqsupe",[8931]],["nsub",[8836]],["nsubE",[10949,824]],["nsube",[8840]],["nsubset",[8834,8402]],["nsubseteq",[8840]],["nsubseteqq",[10949,824]],["nsucc",[8833]],["nsucceq",[10928,824]],["nsup",[8837]],["nsupE",[10950,824]],["nsupe",[8841]],["nsupset",[8835,8402]],["nsupseteq",[8841]],["nsupseteqq",[10950,824]],["ntgl",[8825]],["Ntilde",[209]],["ntilde",[241]],["ntlg",[8824]],["ntriangleleft",[8938]],["ntrianglelefteq",[8940]],["ntriangleright",[8939]],["ntrianglerighteq",[8941]],["Nu",[925]],["nu",[957]],["num",[35]],["numero",[8470]],["numsp",[8199]],["nvap",[8781,8402]],["nvdash",[8876]],["nvDash",[8877]],["nVdash",[8878]],["nVDash",[8879]],["nvge",[8805,8402]],["nvgt",[62,8402]],["nvHarr",[10500]],["nvinfin",[10718]],["nvlArr",[10498]],["nvle",[8804,8402]],["nvlt",[60,8402]],["nvltrie",[8884,8402]],["nvrArr",[10499]],["nvrtrie",[8885,8402]],["nvsim",[8764,8402]],["nwarhk",[10531]],["nwarr",[8598]],["nwArr",[8662]],["nwarrow",[8598]],["nwnear",[10535]],["Oacute",[211]],["oacute",[243]],["oast",[8859]],["Ocirc",[212]],["ocirc",[244]],["ocir",[8858]],["Ocy",[1054]],["ocy",[1086]],["odash",[8861]],["Odblac",[336]],["odblac",[337]],["odiv",[10808]],["odot",[8857]],["odsold",[10684]],["OElig",[338]],["oelig",[339]],["ofcir",[10687]],["Ofr",[120082]],["ofr",[120108]],["ogon",[731]],["Ograve",[210]],["ograve",[242]],["ogt",[10689]],["ohbar",[10677]],["ohm",[937]],["oint",[8750]],["olarr",[8634]],["olcir",[10686]],["olcross",[10683]],["oline",[8254]],["olt",[10688]],["Omacr",[332]],["omacr",[333]],["Omega",[937]],["omega",[969]],["Omicron",[927]],["omicron",[959]],["omid",[10678]],["ominus",[8854]],["Oopf",[120134]],["oopf",[120160]],["opar",[10679]],["OpenCurlyDoubleQuote",[8220]],["OpenCurlyQuote",[8216]],["operp",[10681]],["oplus",[8853]],["orarr",[8635]],["Or",[10836]],["or",[8744]],["ord",[10845]],["order",[8500]],["orderof",[8500]],["ordf",[170]],["ordm",[186]],["origof",[8886]],["oror",[10838]],["orslope",[10839]],["orv",[10843]],["oS",[9416]],["Oscr",[119978]],["oscr",[8500]],["Oslash",[216]],["oslash",[248]],["osol",[8856]],["Otilde",[213]],["otilde",[245]],["otimesas",[10806]],["Otimes",[10807]],["otimes",[8855]],["Ouml",[214]],["ouml",[246]],["ovbar",[9021]],["OverBar",[8254]],["OverBrace",[9182]],["OverBracket",[9140]],["OverParenthesis",[9180]],["para",[182]],["parallel",[8741]],["par",[8741]],["parsim",[10995]],["parsl",[11005]],["part",[8706]],["PartialD",[8706]],["Pcy",[1055]],["pcy",[1087]],["percnt",[37]],["period",[46]],["permil",[8240]],["perp",[8869]],["pertenk",[8241]],["Pfr",[120083]],["pfr",[120109]],["Phi",[934]],["phi",[966]],["phiv",[981]],["phmmat",[8499]],["phone",[9742]],["Pi",[928]],["pi",[960]],["pitchfork",[8916]],["piv",[982]],["planck",[8463]],["planckh",[8462]],["plankv",[8463]],["plusacir",[10787]],["plusb",[8862]],["pluscir",[10786]],["plus",[43]],["plusdo",[8724]],["plusdu",[10789]],["pluse",[10866]],["PlusMinus",[177]],["plusmn",[177]],["plussim",[10790]],["plustwo",[10791]],["pm",[177]],["Poincareplane",[8460]],["pointint",[10773]],["popf",[120161]],["Popf",[8473]],["pound",[163]],["prap",[10935]],["Pr",[10939]],["pr",[8826]],["prcue",[8828]],["precapprox",[10935]],["prec",[8826]],["preccurlyeq",[8828]],["Precedes",[8826]],["PrecedesEqual",[10927]],["PrecedesSlantEqual",[8828]],["PrecedesTilde",[8830]],["preceq",[10927]],["precnapprox",[10937]],["precneqq",[10933]],["precnsim",[8936]],["pre",[10927]],["prE",[10931]],["precsim",[8830]],["prime",[8242]],["Prime",[8243]],["primes",[8473]],["prnap",[10937]],["prnE",[10933]],["prnsim",[8936]],["prod",[8719]],["Product",[8719]],["profalar",[9006]],["profline",[8978]],["profsurf",[8979]],["prop",[8733]],["Proportional",[8733]],["Proportion",[8759]],["propto",[8733]],["prsim",[8830]],["prurel",[8880]],["Pscr",[119979]],["pscr",[120005]],["Psi",[936]],["psi",[968]],["puncsp",[8200]],["Qfr",[120084]],["qfr",[120110]],["qint",[10764]],["qopf",[120162]],["Qopf",[8474]],["qprime",[8279]],["Qscr",[119980]],["qscr",[120006]],["quaternions",[8461]],["quatint",[10774]],["quest",[63]],["questeq",[8799]],["quot",[34]],["QUOT",[34]],["rAarr",[8667]],["race",[8765,817]],["Racute",[340]],["racute",[341]],["radic",[8730]],["raemptyv",[10675]],["rang",[10217]],["Rang",[10219]],["rangd",[10642]],["range",[10661]],["rangle",[10217]],["raquo",[187]],["rarrap",[10613]],["rarrb",[8677]],["rarrbfs",[10528]],["rarrc",[10547]],["rarr",[8594]],["Rarr",[8608]],["rArr",[8658]],["rarrfs",[10526]],["rarrhk",[8618]],["rarrlp",[8620]],["rarrpl",[10565]],["rarrsim",[10612]],["Rarrtl",[10518]],["rarrtl",[8611]],["rarrw",[8605]],["ratail",[10522]],["rAtail",[10524]],["ratio",[8758]],["rationals",[8474]],["rbarr",[10509]],["rBarr",[10511]],["RBarr",[10512]],["rbbrk",[10099]],["rbrace",[125]],["rbrack",[93]],["rbrke",[10636]],["rbrksld",[10638]],["rbrkslu",[10640]],["Rcaron",[344]],["rcaron",[345]],["Rcedil",[342]],["rcedil",[343]],["rceil",[8969]],["rcub",[125]],["Rcy",[1056]],["rcy",[1088]],["rdca",[10551]],["rdldhar",[10601]],["rdquo",[8221]],["rdquor",[8221]],["CloseCurlyDoubleQuote",[8221]],["rdsh",[8627]],["real",[8476]],["realine",[8475]],["realpart",[8476]],["reals",[8477]],["Re",[8476]],["rect",[9645]],["reg",[174]],["REG",[174]],["ReverseElement",[8715]],["ReverseEquilibrium",[8651]],["ReverseUpEquilibrium",[10607]],["rfisht",[10621]],["rfloor",[8971]],["rfr",[120111]],["Rfr",[8476]],["rHar",[10596]],["rhard",[8641]],["rharu",[8640]],["rharul",[10604]],["Rho",[929]],["rho",[961]],["rhov",[1009]],["RightAngleBracket",[10217]],["RightArrowBar",[8677]],["rightarrow",[8594]],["RightArrow",[8594]],["Rightarrow",[8658]],["RightArrowLeftArrow",[8644]],["rightarrowtail",[8611]],["RightCeiling",[8969]],["RightDoubleBracket",[10215]],["RightDownTeeVector",[10589]],["RightDownVectorBar",[10581]],["RightDownVector",[8642]],["RightFloor",[8971]],["rightharpoondown",[8641]],["rightharpoonup",[8640]],["rightleftarrows",[8644]],["rightleftharpoons",[8652]],["rightrightarrows",[8649]],["rightsquigarrow",[8605]],["RightTeeArrow",[8614]],["RightTee",[8866]],["RightTeeVector",[10587]],["rightthreetimes",[8908]],["RightTriangleBar",[10704]],["RightTriangle",[8883]],["RightTriangleEqual",[8885]],["RightUpDownVector",[10575]],["RightUpTeeVector",[10588]],["RightUpVectorBar",[10580]],["RightUpVector",[8638]],["RightVectorBar",[10579]],["RightVector",[8640]],["ring",[730]],["risingdotseq",[8787]],["rlarr",[8644]],["rlhar",[8652]],["rlm",[8207]],["rmoustache",[9137]],["rmoust",[9137]],["rnmid",[10990]],["roang",[10221]],["roarr",[8702]],["robrk",[10215]],["ropar",[10630]],["ropf",[120163]],["Ropf",[8477]],["roplus",[10798]],["rotimes",[10805]],["RoundImplies",[10608]],["rpar",[41]],["rpargt",[10644]],["rppolint",[10770]],["rrarr",[8649]],["Rrightarrow",[8667]],["rsaquo",[8250]],["rscr",[120007]],["Rscr",[8475]],["rsh",[8625]],["Rsh",[8625]],["rsqb",[93]],["rsquo",[8217]],["rsquor",[8217]],["CloseCurlyQuote",[8217]],["rthree",[8908]],["rtimes",[8906]],["rtri",[9657]],["rtrie",[8885]],["rtrif",[9656]],["rtriltri",[10702]],["RuleDelayed",[10740]],["ruluhar",[10600]],["rx",[8478]],["Sacute",[346]],["sacute",[347]],["sbquo",[8218]],["scap",[10936]],["Scaron",[352]],["scaron",[353]],["Sc",[10940]],["sc",[8827]],["sccue",[8829]],["sce",[10928]],["scE",[10932]],["Scedil",[350]],["scedil",[351]],["Scirc",[348]],["scirc",[349]],["scnap",[10938]],["scnE",[10934]],["scnsim",[8937]],["scpolint",[10771]],["scsim",[8831]],["Scy",[1057]],["scy",[1089]],["sdotb",[8865]],["sdot",[8901]],["sdote",[10854]],["searhk",[10533]],["searr",[8600]],["seArr",[8664]],["searrow",[8600]],["sect",[167]],["semi",[59]],["seswar",[10537]],["setminus",[8726]],["setmn",[8726]],["sext",[10038]],["Sfr",[120086]],["sfr",[120112]],["sfrown",[8994]],["sharp",[9839]],["SHCHcy",[1065]],["shchcy",[1097]],["SHcy",[1064]],["shcy",[1096]],["ShortDownArrow",[8595]],["ShortLeftArrow",[8592]],["shortmid",[8739]],["shortparallel",[8741]],["ShortRightArrow",[8594]],["ShortUpArrow",[8593]],["shy",[173]],["Sigma",[931]],["sigma",[963]],["sigmaf",[962]],["sigmav",[962]],["sim",[8764]],["simdot",[10858]],["sime",[8771]],["simeq",[8771]],["simg",[10910]],["simgE",[10912]],["siml",[10909]],["simlE",[10911]],["simne",[8774]],["simplus",[10788]],["simrarr",[10610]],["slarr",[8592]],["SmallCircle",[8728]],["smallsetminus",[8726]],["smashp",[10803]],["smeparsl",[10724]],["smid",[8739]],["smile",[8995]],["smt",[10922]],["smte",[10924]],["smtes",[10924,65024]],["SOFTcy",[1068]],["softcy",[1100]],["solbar",[9023]],["solb",[10692]],["sol",[47]],["Sopf",[120138]],["sopf",[120164]],["spades",[9824]],["spadesuit",[9824]],["spar",[8741]],["sqcap",[8851]],["sqcaps",[8851,65024]],["sqcup",[8852]],["sqcups",[8852,65024]],["Sqrt",[8730]],["sqsub",[8847]],["sqsube",[8849]],["sqsubset",[8847]],["sqsubseteq",[8849]],["sqsup",[8848]],["sqsupe",[8850]],["sqsupset",[8848]],["sqsupseteq",[8850]],["square",[9633]],["Square",[9633]],["SquareIntersection",[8851]],["SquareSubset",[8847]],["SquareSubsetEqual",[8849]],["SquareSuperset",[8848]],["SquareSupersetEqual",[8850]],["SquareUnion",[8852]],["squarf",[9642]],["squ",[9633]],["squf",[9642]],["srarr",[8594]],["Sscr",[119982]],["sscr",[120008]],["ssetmn",[8726]],["ssmile",[8995]],["sstarf",[8902]],["Star",[8902]],["star",[9734]],["starf",[9733]],["straightepsilon",[1013]],["straightphi",[981]],["strns",[175]],["sub",[8834]],["Sub",[8912]],["subdot",[10941]],["subE",[10949]],["sube",[8838]],["subedot",[10947]],["submult",[10945]],["subnE",[10955]],["subne",[8842]],["subplus",[10943]],["subrarr",[10617]],["subset",[8834]],["Subset",[8912]],["subseteq",[8838]],["subseteqq",[10949]],["SubsetEqual",[8838]],["subsetneq",[8842]],["subsetneqq",[10955]],["subsim",[10951]],["subsub",[10965]],["subsup",[10963]],["succapprox",[10936]],["succ",[8827]],["succcurlyeq",[8829]],["Succeeds",[8827]],["SucceedsEqual",[10928]],["SucceedsSlantEqual",[8829]],["SucceedsTilde",[8831]],["succeq",[10928]],["succnapprox",[10938]],["succneqq",[10934]],["succnsim",[8937]],["succsim",[8831]],["SuchThat",[8715]],["sum",[8721]],["Sum",[8721]],["sung",[9834]],["sup1",[185]],["sup2",[178]],["sup3",[179]],["sup",[8835]],["Sup",[8913]],["supdot",[10942]],["supdsub",[10968]],["supE",[10950]],["supe",[8839]],["supedot",[10948]],["Superset",[8835]],["SupersetEqual",[8839]],["suphsol",[10185]],["suphsub",[10967]],["suplarr",[10619]],["supmult",[10946]],["supnE",[10956]],["supne",[8843]],["supplus",[10944]],["supset",[8835]],["Supset",[8913]],["supseteq",[8839]],["supseteqq",[10950]],["supsetneq",[8843]],["supsetneqq",[10956]],["supsim",[10952]],["supsub",[10964]],["supsup",[10966]],["swarhk",[10534]],["swarr",[8601]],["swArr",[8665]],["swarrow",[8601]],["swnwar",[10538]],["szlig",[223]],["Tab",[9]],["target",[8982]],["Tau",[932]],["tau",[964]],["tbrk",[9140]],["Tcaron",[356]],["tcaron",[357]],["Tcedil",[354]],["tcedil",[355]],["Tcy",[1058]],["tcy",[1090]],["tdot",[8411]],["telrec",[8981]],["Tfr",[120087]],["tfr",[120113]],["there4",[8756]],["therefore",[8756]],["Therefore",[8756]],["Theta",[920]],["theta",[952]],["thetasym",[977]],["thetav",[977]],["thickapprox",[8776]],["thicksim",[8764]],["ThickSpace",[8287,8202]],["ThinSpace",[8201]],["thinsp",[8201]],["thkap",[8776]],["thksim",[8764]],["THORN",[222]],["thorn",[254]],["tilde",[732]],["Tilde",[8764]],["TildeEqual",[8771]],["TildeFullEqual",[8773]],["TildeTilde",[8776]],["timesbar",[10801]],["timesb",[8864]],["times",[215]],["timesd",[10800]],["tint",[8749]],["toea",[10536]],["topbot",[9014]],["topcir",[10993]],["top",[8868]],["Topf",[120139]],["topf",[120165]],["topfork",[10970]],["tosa",[10537]],["tprime",[8244]],["trade",[8482]],["TRADE",[8482]],["triangle",[9653]],["triangledown",[9663]],["triangleleft",[9667]],["trianglelefteq",[8884]],["triangleq",[8796]],["triangleright",[9657]],["trianglerighteq",[8885]],["tridot",[9708]],["trie",[8796]],["triminus",[10810]],["TripleDot",[8411]],["triplus",[10809]],["trisb",[10701]],["tritime",[10811]],["trpezium",[9186]],["Tscr",[119983]],["tscr",[120009]],["TScy",[1062]],["tscy",[1094]],["TSHcy",[1035]],["tshcy",[1115]],["Tstrok",[358]],["tstrok",[359]],["twixt",[8812]],["twoheadleftarrow",[8606]],["twoheadrightarrow",[8608]],["Uacute",[218]],["uacute",[250]],["uarr",[8593]],["Uarr",[8607]],["uArr",[8657]],["Uarrocir",[10569]],["Ubrcy",[1038]],["ubrcy",[1118]],["Ubreve",[364]],["ubreve",[365]],["Ucirc",[219]],["ucirc",[251]],["Ucy",[1059]],["ucy",[1091]],["udarr",[8645]],["Udblac",[368]],["udblac",[369]],["udhar",[10606]],["ufisht",[10622]],["Ufr",[120088]],["ufr",[120114]],["Ugrave",[217]],["ugrave",[249]],["uHar",[10595]],["uharl",[8639]],["uharr",[8638]],["uhblk",[9600]],["ulcorn",[8988]],["ulcorner",[8988]],["ulcrop",[8975]],["ultri",[9720]],["Umacr",[362]],["umacr",[363]],["uml",[168]],["UnderBar",[95]],["UnderBrace",[9183]],["UnderBracket",[9141]],["UnderParenthesis",[9181]],["Union",[8899]],["UnionPlus",[8846]],["Uogon",[370]],["uogon",[371]],["Uopf",[120140]],["uopf",[120166]],["UpArrowBar",[10514]],["uparrow",[8593]],["UpArrow",[8593]],["Uparrow",[8657]],["UpArrowDownArrow",[8645]],["updownarrow",[8597]],["UpDownArrow",[8597]],["Updownarrow",[8661]],["UpEquilibrium",[10606]],["upharpoonleft",[8639]],["upharpoonright",[8638]],["uplus",[8846]],["UpperLeftArrow",[8598]],["UpperRightArrow",[8599]],["upsi",[965]],["Upsi",[978]],["upsih",[978]],["Upsilon",[933]],["upsilon",[965]],["UpTeeArrow",[8613]],["UpTee",[8869]],["upuparrows",[8648]],["urcorn",[8989]],["urcorner",[8989]],["urcrop",[8974]],["Uring",[366]],["uring",[367]],["urtri",[9721]],["Uscr",[119984]],["uscr",[120010]],["utdot",[8944]],["Utilde",[360]],["utilde",[361]],["utri",[9653]],["utrif",[9652]],["uuarr",[8648]],["Uuml",[220]],["uuml",[252]],["uwangle",[10663]],["vangrt",[10652]],["varepsilon",[1013]],["varkappa",[1008]],["varnothing",[8709]],["varphi",[981]],["varpi",[982]],["varpropto",[8733]],["varr",[8597]],["vArr",[8661]],["varrho",[1009]],["varsigma",[962]],["varsubsetneq",[8842,65024]],["varsubsetneqq",[10955,65024]],["varsupsetneq",[8843,65024]],["varsupsetneqq",[10956,65024]],["vartheta",[977]],["vartriangleleft",[8882]],["vartriangleright",[8883]],["vBar",[10984]],["Vbar",[10987]],["vBarv",[10985]],["Vcy",[1042]],["vcy",[1074]],["vdash",[8866]],["vDash",[8872]],["Vdash",[8873]],["VDash",[8875]],["Vdashl",[10982]],["veebar",[8891]],["vee",[8744]],["Vee",[8897]],["veeeq",[8794]],["vellip",[8942]],["verbar",[124]],["Verbar",[8214]],["vert",[124]],["Vert",[8214]],["VerticalBar",[8739]],["VerticalLine",[124]],["VerticalSeparator",[10072]],["VerticalTilde",[8768]],["VeryThinSpace",[8202]],["Vfr",[120089]],["vfr",[120115]],["vltri",[8882]],["vnsub",[8834,8402]],["vnsup",[8835,8402]],["Vopf",[120141]],["vopf",[120167]],["vprop",[8733]],["vrtri",[8883]],["Vscr",[119985]],["vscr",[120011]],["vsubnE",[10955,65024]],["vsubne",[8842,65024]],["vsupnE",[10956,65024]],["vsupne",[8843,65024]],["Vvdash",[8874]],["vzigzag",[10650]],["Wcirc",[372]],["wcirc",[373]],["wedbar",[10847]],["wedge",[8743]],["Wedge",[8896]],["wedgeq",[8793]],["weierp",[8472]],["Wfr",[120090]],["wfr",[120116]],["Wopf",[120142]],["wopf",[120168]],["wp",[8472]],["wr",[8768]],["wreath",[8768]],["Wscr",[119986]],["wscr",[120012]],["xcap",[8898]],["xcirc",[9711]],["xcup",[8899]],["xdtri",[9661]],["Xfr",[120091]],["xfr",[120117]],["xharr",[10231]],["xhArr",[10234]],["Xi",[926]],["xi",[958]],["xlarr",[10229]],["xlArr",[10232]],["xmap",[10236]],["xnis",[8955]],["xodot",[10752]],["Xopf",[120143]],["xopf",[120169]],["xoplus",[10753]],["xotime",[10754]],["xrarr",[10230]],["xrArr",[10233]],["Xscr",[119987]],["xscr",[120013]],["xsqcup",[10758]],["xuplus",[10756]],["xutri",[9651]],["xvee",[8897]],["xwedge",[8896]],["Yacute",[221]],["yacute",[253]],["YAcy",[1071]],["yacy",[1103]],["Ycirc",[374]],["ycirc",[375]],["Ycy",[1067]],["ycy",[1099]],["yen",[165]],["Yfr",[120092]],["yfr",[120118]],["YIcy",[1031]],["yicy",[1111]],["Yopf",[120144]],["yopf",[120170]],["Yscr",[119988]],["yscr",[120014]],["YUcy",[1070]],["yucy",[1102]],["yuml",[255]],["Yuml",[376]],["Zacute",[377]],["zacute",[378]],["Zcaron",[381]],["zcaron",[382]],["Zcy",[1047]],["zcy",[1079]],["Zdot",[379]],["zdot",[380]],["zeetrf",[8488]],["ZeroWidthSpace",[8203]],["Zeta",[918]],["zeta",[950]],["zfr",[120119]],["Zfr",[8488]],["ZHcy",[1046]],["zhcy",[1078]],["zigrarr",[8669]],["zopf",[120171]],["Zopf",[8484]],["Zscr",[119989]],["zscr",[120015]],["zwj",[8205]],["zwnj",[8204]]],e={},a={};function t(){}function o(e,a){for(var t=r.length,o=[];t--;){var s,l=r[t],i=l[0],c=l[1],n=c[0],u=n<32||n>126||62===n||60===n||38===n||34===n||39===n;if(u&&(s=a[n]=a[n]||{}),c[1]){var p=c[1];e[i]=String.fromCharCode(n)+String.fromCharCode(p),o.push(u&&(s[p]=i))}else e[i]=String.fromCharCode(n),o.push(u&&(s[""]=i))}}o(e,a),t.prototype.decode=function(r){return r&&r.length?r.replace(/&(#?[\w\d]+);?/g,function(r,a){var t;if("#"===a.charAt(0)){var o="x"===a.charAt(1)?parseInt(a.substr(2).toLowerCase(),16):parseInt(a.substr(1));isNaN(o)||o<-32768||o>65535||(t=String.fromCharCode(o))}else t=e[a];return t||r}):""},t.decode=function(r){return(new t).decode(r)},t.prototype.encode=function(r){if(!r||!r.length)return"";for(var e=r.length,t="",o=0;o<e;){var s=a[r.charCodeAt(o)];if(s){var l=s[r.charCodeAt(o+1)];if(l?o++:l=s[""],l){t+="&"+l+";",o++;continue}}t+=r.charAt(o),o++}return t},t.encode=function(r){return(new t).encode(r)},t.prototype.encodeNonUTF=function(r){if(!r||!r.length)return"";for(var e=r.length,t="",o=0;o<e;){var s=r.charCodeAt(o),l=a[s];if(l){var i=l[r.charCodeAt(o+1)];if(i?o++:i=l[""],i){t+="&"+i+";",o++;continue}}t+=s<32||s>126?"&#"+s+";":r.charAt(o),o++}return t},t.encodeNonUTF=function(r){return(new t).encodeNonUTF(r)},t.prototype.encodeNonASCII=function(r){if(!r||!r.length)return"";for(var e=r.length,a="",t=0;t<e;){var o=r.charCodeAt(t);o<=255?a+=r[t++]:(a+="&#"+o+";",t++)}return a},t.encodeNonASCII=function(r){return(new t).encodeNonASCII(r)},module.exports=t;
},{}],"4K4m":[function(require,module,exports) {
module.exports={XmlEntities:require("./lib/xml-entities.js"),Html4Entities:require("./lib/html4-entities.js"),Html5Entities:require("./lib/html5-entities.js"),AllHtmlEntities:require("./lib/html5-entities.js")};
},{"./lib/xml-entities.js":"SA+n","./lib/html4-entities.js":"/w5r","./lib/html5-entities.js":"Sk7D"}],"PxOe":[function(require,module,exports) {
var e=require("querystring"),t=require("url"),r=require("html-entities").AllHtmlEntities,a=require("./util"),i="https://www.youtube.com/watch?v=",s=function(e,t){return a.between(e,'<meta itemprop="'.concat(t,'" content="'),'">')};exports.getVideoDescription=function(e){var t=e.match(/<p.*?id="eow-description".*?>(.+?)<\/p>[\n\r\s]*?<\/div>/im);return t?r.decode(a.stripHTML(t[1])):""},exports.getVideoMedia=function(e){var s=a.between(e,'<div id="watch-description-extras">','<div id="watch-discussion" class="branded-page-box yt-card">');if(""===s)return{};var n,c=/<h4 class="title">([\s\S]*?)<\/h4>[\s\S]*?<ul .*?class=".*?watch-info-tag-list">[\s\S]*?<li>([\s\S]*?)<\/li>(?:\s*?<li>([\s\S]*?)<\/li>)?/g,u=/(?: - (\d{4}) \()?<a .*?(?:href="([^"]+)")?.*?>(.*?)<\/a>/,o={},d=/<img src="([^"]+)".*?>/.exec(s);for(d&&(o.image=t.resolve(i,d[1]));null!=(n=c.exec(s));){var[,l,p,h]=n;l=r.decode(l).trim().replace(/\s/g,"_").toLowerCase();var w=u.exec(p);if(w){var[,v,b,m]=w;v?o.year=parseInt(v):h&&(o.year=parseInt(h)),p=p.slice(0,w.index),"game"===l&&"YouTube Gaming"===m||(p+=m),o[l+"_url"]=t.resolve(i,b)}o[l]=r.decode(p)}return o};var n=/<a href="\/user\/([^"]+)/,c=/<span .*?(aria-label="Verified")(.*?(?=<\/span>))/;exports.getAuthor=function(e){var u=a.between(e,'<div id="watch7-user-header" class=" spf-link ">','<div id="watch8-action-buttons" class="watch-action-buttons clearfix">');if(""===u)return{};var o=r.decode(a.between(a.between(u,'<div class="yt-user-info">',"</div>"),">","</a>")),d=u.match(n),l=u.match(c),p=s(e,"channelId"),h=d?d[1]:a.between(a.between(e,'<span itemprop="author"',"</span>"),"/user/",'">');return{id:p,name:o,avatar:t.resolve(i,a.between(u,'data-thumb="','"')),verified:!!l,user:h,channel_url:"https://www.youtube.com/channel/"+p,user_url:"https://www.youtube.com/user/"+h}},exports.getPublished=function(e){return Date.parse(s(e,"datePublished"))},exports.getRelatedVideos=function(t){var r=a.between(t,"'RELATED_PLAYER_ARGS': {\"rvs\":","},");try{r=JSON.parse(r)}catch(i){return[]}return r.split(",").map(function(t){return e.parse(t)})};
},{"querystring":"+00f","url":"Mej7","html-entities":"4K4m","./util":"a8YD"}],"aJHR":[function(require,module,exports) {
var e=require("url"),c=require("miniget");exports.cache=new Map,exports.getTokens=function(e,a,r){var n,t,o=/(?:html5)?player[-_]([a-zA-Z0-9\-_]+)(?:\.js|\/)/.exec(e);o?(n=o[1],t=exports.cache.get(n)):console.warn("Could not extract html5player key:",e),t?r(null,t):c(e,a.requestOptions,function(e,c,a){if(e)return r(e);var t=exports.extractActions(a);!n||t&&t.length?(exports.cache.set(n,t),r(null,t)):r(Error("Could not extract signature deciphering actions"))})},exports.decipher=function(e,c){c=c.split("");for(var r=0,n=e.length;r<n;r++){var t=e[r],o=void 0;switch(t[0]){case"r":c=c.reverse();break;case"w":o=~~t.slice(1),c=a(c,o);break;case"s":o=~~t.slice(1),c=c.slice(o);break;case"p":o=~~t.slice(1),c.splice(0,o)}}return c.join("")};var a=function(e,c){var a=e[0];return e[0]=e[c%e.length],e[c]=a,e},r="[a-zA-Z_\\$][a-zA-Z_0-9]*",n="'[^'\\\\]*(:?\\\\[\\s\\S][^'\\\\]*)*'",t='"[^"\\\\]*(:?\\\\[\\s\\S][^"\\\\]*)*"',o="(?:".concat(n,"|").concat(t,")"),s="(?:".concat(r,"|").concat(o,")"),l="(?:\\.".concat(r,"|\\[").concat(o,"\\])"),p="(?:''|\"\")",i=":function\\(a\\)\\{(?:return )?a\\.reverse\\(\\)\\}",u=":function\\(a,b\\)\\{return a\\.slice\\(b\\)\\}",g=":function\\(a,b\\)\\{a\\.splice\\(0,b\\)\\}",x=":function\\(a,b\\)\\{var c=a\\[0\\];a\\[0\\]=a\\[b(?:%a\\.length)?\\];a\\[b(?:%a\\.length)?\\]=c(?:;return a)?\\}",$=new RegExp("var (".concat(r,")=\\{((?:(?:")+s+i+"|"+s+u+"|"+s+g+"|"+s+x+"),?\\r?\\n?)+)\\};"),h=new RegExp("function(?: ".concat(r,")?\\(a\\)\\{")+"a=a\\.split\\(".concat(p,"\\);\\s*")+"((?:(?:a=)?".concat(r)+l+"\\(a,\\d+\\);)+)"+"return a\\.join\\(".concat(p,"\\)")+"\\}"),f=new RegExp("(?:^|,)(".concat(s,")").concat(i),"m"),d=new RegExp("(?:^|,)(".concat(s,")").concat(u),"m"),v=new RegExp("(?:^|,)(".concat(s,")").concat(g),"m"),w=new RegExp("(?:^|,)(".concat(s,")").concat(x),"m");exports.extractActions=function(e){var c=$.exec(e),a=h.exec(e);if(!c||!a)return null;for(var r=c[1].replace(/\$/g,"\\$"),n=c[2].replace(/\$/g,"\\$"),t=a[1].replace(/\$/g,"\\$"),o=f.exec(n),s=o&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,""),l=(o=d.exec(n))&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,""),p=(o=v.exec(n))&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,""),i=(o=w.exec(n))&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,""),u="(".concat([s,l,p,i].join("|"),")"),g="(?:a=)?"+r+"(?:\\.".concat(u,"|\\['").concat(u,"'\\]|\\[\"").concat(u,'"\\])')+"\\(a,(\\d+)\\)",x=new RegExp(g,"g"),b=[];null!==(o=x.exec(t));){switch(o[1]||o[2]||o[3]){case i:b.push("w"+o[4]);break;case s:b.push("r");break;case l:b.push("s"+o[4]);break;case p:b.push("p"+o[4])}}return b},exports.setDownloadURL=function(c,a,r){var n;if(c.url){n=c.url;try{n=decodeURIComponent(n)}catch(s){return void(r&&console.warn("Could not decode url: "+s.message))}var t=e.parse(n,!0);delete t.search;var o=t.query;o.ratebypass="yes",a&&(c.sp?o[c.sp]=a:o.signature=a),c.url=e.format(t)}else r&&console.warn("Download url not found for itag "+c.itag)},exports.decipherFormats=function(e,c,a){e.forEach(function(e){var r=c&&e.s?exports.decipher(c,e.s):null;exports.setDownloadURL(e,r,a)})};
},{"url":"Mej7","miniget":"pXSZ"}],"HL+6":[function(require,module,exports) {
var e=require("url"),t=require("querystring"),r=require("sax"),a=require("miniget"),n=require("./util"),s=require("./info-extras"),o=require("./sig"),i=require("./formats"),l="https://www.youtube.com/watch?v=",u="https://www.youtube.com/embed/",f="https://youtube.googleapis.com/v/",p="www.youtube.com",c="/get_video_info",d=["fmt_list","fexp","watermark"];exports.getBasicInfo=function(e,t,r){var o="hl="+(t.lang||"en"),i=l+e+"&"+o+"&bpctr="+Math.ceil(Date.now()/1e3),f=Object.assign({},t.requestOptions);f.headers=Object.assign({},f.headers,{"User-Agent":""}),a(i,f,function(l,f,p){if(l)return r(l);var c=n.between(p,'<div id="player-unavailable"',">");if(c&&!/\bhid\b/.test(n.between(c,'class="','"'))&&!p.includes('<div id="watch7-player-age-gate-content"'))return r(Error(n.between(p,'<h1 id="unavailable-message" class="message">',"</h1>").trim()));var d,m={author:s.getAuthor(p),published:s.getPublished(p),description:s.getVideoDescription(p),media:s.getVideoMedia(p),related_videos:s.getRelatedVideos(p)},_=n.between(p,"ytplayer.config = ","<\/script>");_?(d=_.slice(0,_.lastIndexOf(";ytplayer.load")),g(e,t,m,d,!1,r)):a(i=u+e+"?"+o,t.requestOptions,function(a,s,o){if(a)return r(a);d=n.between(o,"t.setConfig({'PLAYER_CONFIG': ",/\}(,'|\}\);)/),g(e,t,m,d,!0,r)})})};var m=function(e){var r=[];return e.url_encoded_fmt_stream_map&&(r=r.concat(e.url_encoded_fmt_stream_map.split(","))),e.adaptive_fmts&&(r=r.concat(e.adaptive_fmts.split(","))),r=r.map(function(e){return t.parse(e)}),delete e.url_encoded_fmt_stream_map,delete e.adaptive_fmts,r},g=function(r,s,o,i,u,g){if(!i)return g(Error("Could not find player config"));try{i=JSON.parse(i+(u?"}":""))}catch(v){return g(Error("Error parsing config: "+v.message))}var _=e.format({protocol:"https",host:p,pathname:c,query:{video_id:r,eurl:f+r,ps:"default",gl:"US",hl:s.lang||"en",sts:i.sts}});a(_,s.requestOptions,function(e,a,s){if(e)return g(e);var f=t.parse(s);if(f.url_encoded_fmt_stream_map||f.adaptive_fmts||f.config||!(i.args.fmt_list||i.args.url_encoded_fmt_stream_map||i.args.adaptive_fmts)){if("fail"===f.status)return g(Error("Code ".concat(f.errorcode,": ").concat(n.stripHTML(f.reason))))}else(f=i.args).no_embed_allowed=!0;var p=i.args.player_response||f.player_response;try{f.player_response=JSON.parse(p)}catch(e){return g(Error("Error parsing `player_response`: "+e.message))}var c=f.player_response.playabilityStatus;if(c&&"UNPLAYABLE"===c.status)return g(Error(c.reason));d.forEach(function(e){f[e]&&(f[e]=f[e].split(",").filter(function(e){return""!==e}))}),f.fmt_list=f.fmt_list?f.fmt_list.map(function(e){return e.split("/")}):[],f.formats=m(f),Object.assign(f,o,{video_id:r,video_url:l+r,title:f.player_response.videoDetails.title,length_seconds:f.player_response.videoDetails.lengthSeconds}),f.age_restricted=u,f.html5player=i.assets.js,g(null,f)})};exports.getFullInfo=function(t,r,a){return exports.getBasicInfo(t,r,function(t,s){if(t)return a(t);var u=s.player_response&&s.player_response.streamingData&&(s.player_response.streamingData.dashManifestUrl||s.player_response.streamingData.hlsManifestUrl);if(s.formats.length||u){var f=e.resolve(l,s.html5player);o.getTokens(f,r,function(e,t){if(e)return a(e);o.decipherFormats(s.formats,t,r.debug);var l=[];if(u&&s.player_response.streamingData.dashManifestUrl){var f=s.player_response.streamingData.dashManifestUrl;l.push(v.bind(null,f,r))}if(u&&s.player_response.streamingData.hlsManifestUrl){var p=s.player_response.streamingData.hlsManifestUrl;l.push(h.bind(null,p,r))}n.parallel(l,function(e,t){if(e)return a(e);t[0]&&_(s,t[0]),t[1]&&_(s,t[1]),r.debug&&s.formats.forEach(function(e){var t=e.itag;i[t]||console.warn("No format metadata for itag ".concat(t," found"))}),s.formats.forEach(n.addFormatMeta),s.formats.sort(n.sortFormats),s.full=!0,a(null,s)})})}else a(Error("This video is unavailable"))})};var _=function(e,t){for(var r in e.formats.forEach(function(e){t[e.itag]||(t[e.itag]=e)}),e.formats=[],t)e.formats.push(t[r])},v=function(t,n,s){var o={},i=r.parser(!1);i.onerror=s,i.onopentag=function(e){if("REPRESENTATION"===e.name){var r=e.attributes.ID;o[r]={itag:r,url:t}}},i.onend=function(){s(null,o)};var u=a(e.resolve(l,t),n.requestOptions);u.setEncoding("utf8"),u.on("error",s),u.on("data",function(e){i.write(e)}),u.on("end",i.close.bind(i))},h=function(t,r,n){t=e.resolve(l,t),a(t,r.requestOptions,function(e,t,r){if(e)return n(e);var a={};r.split("\n").filter(function(e){return/https?:\/\//.test(e)}).forEach(function(e){var t=e.match(/\/itag\/(\d+)\//)[1];a[t]={itag:t,url:e}}),n(null,a)})};exports.cache=new Map,exports.cache.timeout=1e3;var y=function(e){var t=exports[e];exports[e]=function(r,a,s){if("function"==typeof a?(s=a,a={}):a||(a={}),!s)return new Promise(function(t,n){exports[e](r,a,function(e,r){if(e)return n(e);t(r)})});var o=n.getVideoID(r);if(o instanceof Error)return s(o);var i=[e,o,a.lang].join("-");exports.cache.has(i)?s(null,exports.cache.get(i)):t(o,a,function(e,t){if(e)return s(e);exports.cache.set(i,t),setTimeout(function(){exports.cache.delete(i)},exports.cache.timeout),s(null,t)})}};for(var b of["getBasicInfo","getFullInfo"])y(b);exports.validateID=n.validateID,exports.validateURL=n.validateURL,exports.getURLVideoID=n.getURLVideoID,exports.getVideoID=n.getVideoID;
},{"url":"Mej7","querystring":"+00f","sax":"YfFG","miniget":"pXSZ","./util":"a8YD","./info-extras":"PxOe","./sig":"aJHR","./formats":"3Xng"}],"lkPv":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=require("stream").Writable;module.exports=function(t){function n(){var t;return e(this,n),(t=o(this,u(n).call(this)))._lastLine="",t._seq=0,t._nextItemDuration=null,t.on("finish",function(){t._parseLine(t._lastLine),t.emit("end")}),t}return a(n,c),r(n,[{key:"_parseLine",value:function(t){var e=t.match(/^#(EXT[A-Z0-9-]+)(?::(.*))?/);if(e){var n=e[1],r=e[2]||null;switch(n){case"EXT-X-PROGRAM-DATE-TIME":this.emit("starttime",new Date(r).getTime());break;case"EXT-X-MEDIA-SEQUENCE":this._seq=parseInt(r);break;case"EXTINF":this._nextItemDuration=Math.round(1e3*parseFloat(r.split(",")[0]));break;case"EXT-X-ENDLIST":this.emit("endlist")}}else!/^#/.test(t)&&t.trim()&&this.emit("item",{url:t.trim(),seq:this._seq++,duration:this._nextItemDuration})}},{key:"_write",value:function(t,e,n){var r=this,o=t.toString("utf8").split("\n");this._lastLine&&(o[0]=this._lastLine+o[0]),o.forEach(function(t,e){e<o.length-1?r._parseLine(t):r._lastLine=t}),n()}}]),n}();
},{"stream":"fnRj"}],"q/n+":[function(require,module,exports) {
var r=/^\d+$/,e=/^(?:(?:(\d+):)?(\d{1,2}):)?(\d{1,2})(?:\.(\d{3}))?$/,t={ms:1,s:1e3,m:6e4,h:36e5};exports.humanStr=function(n){if("number"==typeof n)return n;if(r.test(n))return+n;var u=e.exec(n);if(u)return+(u[1]||0)*t.h+ +(u[2]||0)*t.m+ +u[3]*t.s+ +(u[4]||0);for(var o,d=0,s=/(-?\d+)(ms|s|m|h)/g;null!=(o=s.exec(n));)d+=+o[1]*t[o[2]];return d},exports.durationStr=function(r){for(var e,n=0,u=/(\d+(?:\.\d+)?)(S|M|H)/g;null!=(e=u.exec(r));)n+=+e[1]*t[e[2].toLowerCase()];return n};
},{}],"mVzU":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?o(e):r}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=require("stream").Writable,f=require("sax"),l=require("./parse-time");module.exports=function(t){function r(t){var n,s;e(this,r),(n=i(this,a(r).call(this)))._parser=f.createStream(!1,{lowercasetags:!0}),n._parser.on("error",n.emit.bind(o(n),"error"));var u,c,p,b,m,y,d,h,g=0,v=0,_=[],w=!1,j=function(e){var r={RepresentationID:t,Number:v,Time:g};return e.replace(/\$(\w+)\$/g,function(t,e){return r[e]})};n._parser.on("opentag",function(e){switch(e.name){case"mpd":g=new Date(e.attributes.availabilitystarttime).getTime(),y="dynamic"!==e.attributes.type;break;case"period":v=0,c=1e3,b=0,p=0,m=[],d=0,h=l.durationStr(e.attributes.start)||0;break;case"segmentlist":v=parseInt(e.attributes.startnumber)||v,c=parseInt(e.attributes.timescale)||c,b=parseInt(e.attributes.duration)||b,p=parseInt(e.attributes.presentationtimeoffset)||p;break;case"segmenttemplate":u=e.attributes,v=parseInt(e.attributes.startnumber)||v,c=parseInt(e.attributes.timescale)||c;break;case"segmenttimeline":case"baseurl":s=e.name;break;case"s":_.push([parseInt(e.attributes.d),parseInt(e.attributes.r)]);break;case"adaptationset":case"representation":if(d++,null==t&&(t=e.attributes.id),(w=e.attributes.id===t+"")&&(h&&(g+=h),p&&(g-=p/c*1e3),n.emit("starttime",g)),w&&u&&_.length)for(var[r,i]of(u.initialization&&n.emit("item",{url:m.filter(function(t){return!!t}).join("")+j(u.initialization),seq:v-1,duration:0}),_)){r=r/c*1e3,i=i||1;for(var a=0;a<i;a++)n.emit("item",{url:m.filter(function(t){return!!t}).join("")+j(u.media),seq:v++,duration:r}),g+=r}break;case"initialization":w&&n.emit("item",{url:m.filter(function(t){return!!t}).join("")+e.attributes.sourceurl,seq:v++,duration:0});break;case"segmenturl":if(w){var o=_.shift(),f=(o&&o[0]||b)/c*1e3;n.emit("item",{url:m.filter(function(t){return!!t}).join("")+e.attributes.media,seq:v++,duration:f}),g+=f}}});var k=function(){y&&n.emit("endlist"),w||n.emit("error",Error("Representation '".concat(t,"' not found"))),n.emit("end")};return n._parser.on("closetag",function(t){switch(t){case"adaptationset":case"representation":d--;break;case"segmentlist":w&&(n.emit("endearly"),k(),n._parser.removeAllListeners())}}),n._parser.on("text",function(t){"baseurl"===s&&(m[d]=t,s=null)}),n.on("finish",k),n}return s(r,c),n(r,[{key:"_write",value:function(t,e,r){this._parser.write(t,e),r()}}]),r}();
},{"stream":"fnRj","sax":"YfFG","./parse-time":"q/n+"}],"u8In":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}module.exports=function(){function e(n,i){t(this,e),this._worker=n,i=i||{},this._concurrency=i.concurrency||1,this.tasks=[],this.total=0,this.active=0}return n(e,[{key:"push",value:function(t,e){this.tasks.push({item:t,callback:e}),this.total++,this._next()}},{key:"_next",value:function(){var t=this;if(!(this.active>=this._concurrency)&&this.tasks.length){var{item:e,callback:n}=this.tasks.shift(),i=!1;this.active++,this._worker(e,function(e){i||(t.active--,i=!0,n&&n(e),t._next())})}}},{key:"die",value:function(){this.tasks=[]}}]),e}();
},{}],"0Ijj":[function(require,module,exports) {
var e=require("stream").PassThrough,n=require("url").resolve,r=require("miniget"),t=require("./m3u8-parser"),i=require("./dash-mpd-parser"),u=require("./queue"),o=require("./parse-time");module.exports=function(a,s){var c=new e,p=(s=s||{}).chunkReadahead||3,d=s.liveBuffer||2e4,l=s.requestOptions,f={m3u8:t,"dash-mpd":i}[s.parser||(/\.mpd$/.test(a)?"dash-mpd":"m3u8")];if(!f)throw TypeError("parser '".concat(s.parser,"' not supported"));var h,m,g,v,q,w,y,b="string"==typeof s.begin,x=b?o.humanStr(s.begin):Math.max(s.begin-d,0)||0,M=Date.now()-d,T=new u(function(e,n){h=e;var r=0;e.on("data",function(e){return r+=e.length}),e.pipe(c,{end:!1}),e.on("end",function(){return n(r)})},{concurrency:1}),k=0,D=0,E=new u(function(e,t){var i=r(n(a,e.url),l);i.on("error",t),T.push(i,function(n){D+=n,c.emit("progress",{num:++k,size:n,url:e.url,duration:e.duration},E.total,D),t()})},{concurrency:p}),z=function(e){O||(c.emit("error",e),c.end())},B=!1,O=!1,P=!1,R=function(e){if(h=null,e)z(e);else if(B||O||P||E.tasks.length+E.active!==m)!O&&!P||E.tasks.length||E.active||c.end();else{var n=Math.max(0,g-(Date.now()-q));v=setTimeout(S,n)}},S=function(){B=!0,q=Date.now(),(w=r(a,l)).on("error",z);var e=w.pipe(new f(s.id)),n=null;e.on("starttime",function(e){n=e,b&&x>=0&&(x+=n)}),e.on("endlist",function(){P=!0}),e.on("endearly",function(){w.unpipe(e)});var t=[],i=[],u=function(e,n){e.seq<=y||(y=e.seq,x=e.time,E.push(e,R),t.push(e),n&&i.push(e))},o=[],c=0;e.on("item",function(e){if(e.time=n,!n||x<=e.time)u(e,M<=e.time);else for(o.push(e),c+=e.duration;o.length>1&&c-o[0].duration>d;)c-=o.shift().duration;n+=e.duration}),e.on("end",function(){w=null,!t.length&&o.length&&o.forEach(function(e){u(e,!0)}),m=Math.max(1,Math.ceil(.01*t.length)),g=t.reduce(function(e,n){return n.duration+e},0),B=!1})};return S(),c.end=function(){O=!0,T.die(),E.die(),clearTimeout(v),w&&(w.unpipe(),w.abort()),h&&(h.unpipe(),h.abort()),e.prototype.end.call(c)},c};
},{"stream":"fnRj","url":"Mej7","miniget":"pXSZ","./m3u8-parser":"lkPv","./dash-mpd-parser":"mVzU","./queue":"u8In","./parse-time":"q/n+"}],"MCYL":[function(require,module,exports) {
var e=require("stream").PassThrough,r=require("./info"),t=require("./util"),n=require("./sig"),i=require("miniget"),o=require("m3u8stream"),a=require("m3u8stream/lib/parse-time"),s=function(e,r){var t=u(r);return s.getInfo(e,r,function(e,n){e?t.emit("error",e):c(t,n,r)}),t};module.exports=s,s.getBasicInfo=r.getBasicInfo,s.getInfo=r.getFullInfo,s.chooseFormat=t.chooseFormat,s.filterFormats=t.filterFormats,s.validateID=t.validateID,s.validateURL=t.validateURL,s.getURLVideoID=t.getURLVideoID,s.getVideoID=t.getVideoID,s.cache={sig:n.cache,info:r.cache};var u=function(r){var t=new e({highWaterMark:r&&r.highWaterMark||null});return t.destroy=function(){t._isDestroyed=!0},t},c=function(e,r,n){n=n||{};var s=t.chooseFormat(r.formats,n);if(s instanceof Error)setImmediate(function(){e.emit("error",s)});else if(e.emit("info",r,s),!e._isDestroyed){var u,c,f=0,d=function(r){f+=r.length,e.emit("progress",r.length,f,u)};if(s.isHLS||s.isDashMPD)(c=o(s.url,{chunkReadahead:+r.live_chunk_readahead,begin:n.begin||s.live&&Date.now(),liveBuffer:n.liveBuffer,requestOptions:n.requestOptions,parser:s.isDashMPD?"dash-mpd":"m3u8",id:s.itag})).on("progress",function(r,t){e.emit("progress",r.size,r.num,t)});else{n.begin&&(s.url+="&begin="+a.humanStr(n.begin));var g=Object.assign({},n.requestOptions,{maxReconnects:5});n.range&&(n.range.start||n.range.end)&&(g.headers=Object.assign({},g.headers,{Range:"bytes=".concat(n.range.start||"0","-").concat(n.range.end||"")})),(c=i(s.url,g)).on("response",function(r){e._isDestroyed||u||(u=parseInt(r.headers["content-length"],10))}),c.on("data",d)}e.destroy=function(){e._isDestroyed=!0,c.abort&&c.abort(),c.end(),c.removeListener("data",d),c.unpipe()},["abort","request","response","error","retry","reconnect"].forEach(function(r){c.prependListener(r,function(t){e.emit(r,t)})}),c.pipe(e)}};s.downloadFromInfo=function(e,r){var t=u(r);if(!e.full)throw new Error("Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`");return setImmediate(function(){c(t,e,r)}),t};
},{"stream":"fnRj","./info":"HL+6","./util":"a8YD","./sig":"aJHR","miniget":"pXSZ","m3u8stream":"0Ijj","m3u8stream/lib/parse-time":"q/n+"}],"0Gi4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("ytdl-core");exports.is_url_valid=function(r){return e.validateURL(r)};
},{"ytdl-core":"MCYL"}],"iVZW":[function(require,module,exports) {
"use strict";function e(e,n,t,r,i,o,s){try{var u=e[o](s),a=u.value}catch(c){return void t(c)}u.done?n(a):Promise.resolve(a).then(r,i)}function n(n){return function(){var t=this,r=arguments;return new Promise(function(i,o){var s=n.apply(t,r);function u(n){e(s,i,o,u,a,"next",n)}function a(n){e(s,i,o,u,a,"throw",n)}u(void 0)})}}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var u=o(require("discord.js")),a=s(require("./commands/Load")),c=require("./utils"),_=require("./validators"),l=require("./errors"),h=require("./validators/YoutubeURL"),f=function(){function e(r){var i=this;t(this,e),this.bot_token=r,this._prefix="!",this._volume=.1,this._connection=null,this._dispatcher=null,this._song_queue=[],this.start=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i._instance=new u.Client,e.next=3,i._instance.login(i.bot_token);case 3:i._commands=a.default(),i._self=void 0,i._instance.on("message",function(e){return i.handle_messages(e)});case 6:case"end":return e.stop()}},e)})),this.handle_messages=function(){var e=n(regeneratorRuntime.mark(function e(n){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=c.get_command(n,i._prefix),!(r=i._commands.get(t))){e.next=7;break}r(i,n),e.next=11;break;case 7:if(!i._self){e.next=9;break}return e.abrupt("return");case 9:o=i.get_similar_command(t),n.reply(o?"Command not found, did you mean !".concat(o,"?"):"Type !commands to see the commands available");case 11:return e.next=13,n.delete();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("handle_messages",e.t0),n.reply("there was an error trying to execute that command!");case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(n){return e.apply(this,arguments)}}()}return i(e,[{key:"get_similar_command",value:function(e){var n=new RegExp(e,"gi");return Array.from(this._commands.keys()).filter(function(e){return n.test(e)})[0]}},{key:"command",value:function(e,n){_.command_exists(this._commands,e)&&l.CommandExists.throw(),_.is_command_name_valid(e)||l.InvalidCommand.throw(),_.is_action_valid(n)||l.InvalidAction.throw(),this._commands.set(e.toLowerCase(),n)}},{key:"get_next_song",value:function(){return this._song_queue.length>0?this._song_queue.shift():null}},{key:"queue_song",value:function(e){h.is_url_valid(e)&&this._song_queue.push(e)}},{key:"unqueue_song",value:function(e){this._song_queue=this._song_queue.filter(function(n){return n!==e})}},{key:"reset_queue",value:function(){this._song_queue=[]}},{key:"prefix",set:function(e){_.is_prefix_valid(e)||l.InvalidPrefix.throw(),this._prefix=e}},{key:"how_many_songs",get:function(){return this._song_queue.length}},{key:"channel_id",get:function(){return this._connection?this._connection.channel.id:null}},{key:"volume",set:function(e){_.is_volume_valid(e)&&(this._volume=e,this._dispatcher&&this._dispatcher.setVolume(this._volume))},get:function(){return this._volume}},{key:"dispatcher",set:function(e){this._dispatcher=e},get:function(){return this._dispatcher}},{key:"connection",set:function(e){this._connection=e},get:function(){return this._connection}}]),e}();exports.default=f;
},{"discord.js":"xnm9","./commands/Load":"YRJd","./utils":"udzS","./validators":"TBlg","./errors":"WLuR","./validators/YoutubeURL":"0Gi4"}],"epB2":[function(require,module,exports) {
"use strict";function e(e,r,t,n,u,i,o){try{var a=e[i](o),c=a.value}catch(f){return void t(f)}a.done?r(c):Promise.resolve(c).then(n,u)}function r(r){return function(){var t=this,n=arguments;return new Promise(function(u,i){var o=r.apply(t,n);function a(r){e(o,u,i,a,c,"next",r)}function c(r){e(o,u,i,a,c,"throw",r)}a(void 0)})}}var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("dotenv");n.config();var u=t(require("./client")),i=function(){var e=r(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new u.default("NTM2MjU1NjIzODQ3ODcwNDcz.XWNMVw.7tahTP6nSJk7ugacm4fztf33VR8")).prefix="!",e.next=4,r.start();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();i();
},{"dotenv":"6YF+","./client":"iVZW"}]},{},["epB2"], null)
//# sourceMappingURL=/main.js.map